<!DOCTYPE html><html lang="ja"><head><meta charset="utf-8">
<title>CSS Color Module Level 5 （日本語訳）</title>

<link rel="stylesheet" href="common.css" type="text/css">
<link rel="stylesheet" href="common-css.css" type="text/css">

<style>
.swatch{
	display: inline-block;
	width: 1em;
	height: 1em;
	border: thin solid silver;
}

.contrast-ratio {
	font-family: sans-serif0, sans-serif;
}

table.deltaE tr {
	border: none;
}
table.deltaE td {
	border: 4px solid white;
	padding: 6px;
}
table.deltaE td.dE0 { background: rgb(68, 243, 91)}
table.deltaE td.dE1 { background: rgb(153, 243, 68)}
table.deltaE td.dE2 { background: rgb(217, 243, 68)}
table.deltaE td.dE3 { background: rgb(243, 240, 68)}
table.deltaE td.dE4 { background: rgb(243, 202, 68)}
table.deltaE td.dE5 { background: rgb(243, 103, 68); color: white}

</style>


<script src="common0.js"></script>
<script src="common1.js" async></script>

<script>

Util.ready = function(){
	const source_data = {
		generate: expand,
	};

	Util.switchWordsInit(source_data);

	return;
}

function expand(){
	const class_map = this.class_map;
	const tag_map = this.tag_map;
	const link_map = this.link_map;

	return this.html.replace(
		/%[\w\-~一-鿆あ-ん]+|`(.*?)([$@^])(\w*)/g,
		create_html
	);

	function create_html(match, key, indicator, klass){
if(!indicator) {//%
	return `<var>${match.slice(1)}</var>`;
}

let href = '';
let href1 = '';
{
	const n = key.indexOf('＠');
	if(n > 0) {
		href1 = key.slice(n + 1);
		key = key.slice(0, n);
	}
}
let text = key;

switch(klass){
case 'r':
	text = `[${key}]`;
	href = `#biblio-${key.toLowerCase()}`;
	break;
case 't':
	text = `&lt;${key}&gt;`;
	key = key.replace(/\s*\[.+/, '');
	break;
case 'f':
	text = `${key}()`;
	break;
case 'at':
	text = `@${key}`;
	break;
case 'l':
	text = `"<code class="literal">${key}</code>"`;
	break;
case 'U':
	text = `U+${key}`;
	break;
case 'nc': // named color
	href = `~CSSCOLOR#valdef-color-${key}`;
	break;
case 'ck': // color channel keyword
	{
		const [func, k] = key.split('/');
		href = `#valdef-${func}-${k}`;
		text = k;
	}
	break;
case 'vc': // color value with swatch
	return `<span class="swatch" style="background: ${key};"></span> <code class="value">${key}</code>`;
	break;
case 'rgb': // rgb swatch
	return `<span class="swatch" style="background: rgb(${key});"></span>`;
	break;
case 'issue':
	href = `~CSSissue/${key}`;
	text = `課題 #${key}`;
	break;
case 'en':
	return `<span lang="en">${key}</span>`;
	break;
}

let tag = tag_map[klass];
if(tag) {
	let classname = class_map[klass];
	classname = classname ? ` class="${classname}"` : '';
	text = `<${tag}${classname}>${text}</${tag}>`;
}

if(indicator !== '^'){
	href = href1 || link_map[ klass ? `${klass}.${key}` : key ] || href;
	if(!href){
		console.log(match); // check error
		return match;
	}

	switch(indicator){
	case '$':
		text = `<a href="${href}">${text}</a>`;
		break;
	case '@':
		text = `<dfn id="${href.slice(1)}">${text}</dfn>`;
		break;
	default:
		console.log(match);
		return match;
	}
}

return text;

	}
}

</script>


<script type="text/plain" id="_source_data">


●●options

spec_title:CSS Color Module Level 5
spec_date:2022-10-18
trans_update:2022-10-19
source_checked:221013
page_state_key:CSS
original_url:https://drafts.csswg.org/css-color-5/
	abbr_url:CSSCOLOR5
spec_status:ED
ref_id_prefix:biblio-
ref_id_lowercase:true
site_nav:paint,css
conformance:css
copyright:2022,permissive
trans_1st_pub:2020-02-03

●●class_map
p:property
d:descriptor
at:at-rule
css:css
u:unit
f:func
t:type
v:value
nc:value
ck:value
U:code-point
cn:cp-name
e:element

●●tag_map
p:code
d:code
at:code
t:var
css:code
c:code
f:code
v:code
nc:code
ck:code
u:code
p:code
e:code
em:em
i:i
cite:cite
U:span
cn:span

●●original_id_map

●●mdn_urls

funcdef-color-mix:CSS/color_value/color-mix()
funcdef-color:CSS/color_value/color()
funcdef-hsl:CSS/color_value/hsl()
funcdef-hwb:CSS/color_value/hwb()
funcdef-lab:CSS/color_value/lab()
funcdef-lch:CSS/color_value/lch()
funcdef-rgb:CSS/color_value/rgb()
funcdef-device-cmyk:CSS/color_value/device-cmyk()

at-ruledef-profile:CSS/@color-profile

●●link_map

at.color-profile:#at-ruledef-profile

d.rendering-intent:#descdef-color-profile-rendering-intent
d.components:#descdef-color-profile-components
d.src:#descdef-color-profile-src

t.colorspace-params:#colorspace-params
t.custom-params:#custom-params
t.predefined-rgb-params:#predefined-rgb-params
t.predefined-rgb:#predefined-rgb
t.xyz-params:#xyz-params
t.xyz:#xyz
t.cmyk-component:#typedef-cmyk-component

t.alpha-value:#typedef-alpha-value
t.hue:~CSSCOLOR#typedef-hue
t.color-interpolation-method:~CSSCOLOR#color-interpolation-method
t.color-space:~CSSCOLOR#typedef-color-space
t.rectangular-color-space:~CSSCOLOR#typedef-rectangular-color-space
t.polar-color-space:~CSSCOLOR#typedef-polar-color-space
t.hue-interpolation-method:~CSSCOLOR#typedef-hue-interpolation-method
t.color:~CSSCOLOR#typedef-color

t.ident:~CSSVAL#typedef-ident
t.number:~CSSVAL#number-value
t.percentage:~CSSVAL#percentage-value
t.angle:~CSSVAL#angle-value
t.dashed-ident:~CSSVAL#typedef-dashed-ident
t.url:~CSSVAL#url-value
t.declaration-list:~CSSSYN#typedef-declaration-list

f.color-mix:#funcdef-color-mix
f.device-cmyk:#funcdef-device-cmyk

f.hsl:#funcdef-hsl
f.hwb:#funcdef-hwb
f.lab:#funcdef-lab
f.lch:#funcdef-lch
f.oklab:#funcdef-oklab
f.oklch:#funcdef-oklch
f.rgb:#funcdef-rgb
f.rgba:~CSSCOLOR#funcdef-rgba
f.hsla:~CSSCOLOR#funcdef-hsla

f.color:#funcdef-color
	f.color:~CSSCOLOR#funcdef-color
f.lch:~CSSCOLOR#funcdef-lch

f.calc:~CSSVAL#funcdef-calc

v.hsl:~CSSCOLOR#valdef-hsl-hsl
v.hwb:~CSSCOLOR#valdef-hwb-hwb
v.lab:~CSSCOLOR#valdef-lab-lab
v.lch:~CSSCOLOR#valdef-lch-lch
v.oklch:~CSSCOLOR#valdef-oklch-oklch
v.oklab:~CSSCOLOR#valdef-oklab-oklab
v.srgb:~CSSCOLOR#valdef-color-srgb
	~sRGB:~CSSCOLOR#sRGB-space
v.srgb-linear:~CSSCOLOR#valdef-color-srgb-linear
v.prophoto-rgb:~CSSCOLOR#valdef-color-prophoto-rgb
v.display-p3:~CSSCOLOR#valdef-color-display-p3
v.rec2020:~CSSCOLOR#valdef-color-rec2020
v.xyz:~CSSCOLOR#valdef-color-xyz
v.xyz-d50:~CSSCOLOR#valdef-color-xyz-d50
v.xyz-d65:~CSSCOLOR#valdef-color-xyz-d65



v.relative-colorimetric:#valdef-color-profile-rendering-intent-relative-colorimetric
v.absolute-colorimetric:#valdef-color-profile-rendering-intent-absolute-colorimetric
v.saturation:#valdef-color-profile-rendering-intent-saturation
v.perceptual:#valdef-color-profile-rendering-intent-perceptual

v.pi:~CSSVAL#valdef-calc-pi

	ck.hsl/alpha:#valdef-hsl-alpha
	ck.hsl/h:#valdef-hsl-h
	ck.hsl/l:#valdef-hsl-l
	ck.hsl/s:#valdef-hsl-s
	ck.hwb/alpha:#valdef-hwb-alpha
	ck.hwb/b:#valdef-hwb-b
	ck.hwb/h:#valdef-hwb-h
	ck.hwb/w:#valdef-hwb-w
	ck.lab/a:#valdef-lab-a
	ck.lab/alpha:#valdef-lab-alpha
	ck.lab/b:#valdef-lab-b
	ck.lab/l:#valdef-lab-l
	ck.lch/alpha:#valdef-lch-alpha
	ck.lch/c:#valdef-lch-c
	ck.lch/h:#valdef-lch-h
	ck.lch/l:#valdef-lch-l
	ck.rgb/alpha:#valdef-rgb-alpha
	ck.rgb/b:#valdef-rgb-b
	ck.rgb/g:#valdef-rgb-g
	ck.rgb/r:#valdef-rgb-r
	ck.oklab/alpha:#valdef-oklab-alpha
	ck.oklab/a:#valdef-oklab-a
	ck.oklab/b:#valdef-oklab-b
	ck.oklab/l:#valdef-oklab-l
	ck.oklch/alpha:#valdef-oklch-alpha
	ck.oklch/c:#valdef-oklch-c
	ck.oklch/h:#valdef-oklch-h
	ck.oklch/l:#valdef-oklch-l
	ck.color/r:#valdef-color-r
	ck.color/g:#valdef-color-g
	ck.color/b:#valdef-color-b
	ck.color/x:#valdef-color-x
	ck.color/y:#valdef-color-y
	ck.color/z:#valdef-color-z

	nc.X:~CSSCOLOR#valdef-color-X
	nc.currentcolor:~CSSCOLOR#valdef-color-currentcolor
	nc.none:~CSSCOLOR#valdef-color-none

c.application/vnd.iccprofile:~IANA-a/media-types/application/vnd.iccprofile

	●用語
無効な色:#invalid-color
妥当な色:#valid-color
色域~外:#out-of-gamut
色域~対応付け:#gamut-map
色~profile:#css-color-profile
	表示し得ない:#cant-be-displayed → level 4
	表示し得る:#can-be-displayed → level 4

~channel~keyword:#channel-keyword
起点~色:#origin-color
相対~色:#relative-color
相対~色~構文:#relative-color
相対~色~関数:#relative-color

相対~色計量~意図:#valdef-color-profile-rendering-intent-relative-colorimetric

描画~意図:#_rendering-intent
~custom色~空間:#custom-color
素朴な変換:#cmyk-rgb
~CMYKから~RGBAへ素朴に変換-:#naively-convert-from-cmyk-to-rgba
~RGBAから~CMYKへ素朴に変換-:#naively-convert-from-rgba-to-cmyk


~alpha乗算子:#_alpha multiplier

~level 4:#biblio-css-color-4

	●用語（level 4
色:~CSSCOLOR#color
色域:~CSSCOLOR#gamut
	不透明な黒:~CSSCOLOR#opaque-black
~CSS色域~対応付け:~CSSCOLOR#css-gamut-mapping-algorithm
有特性:~CSSCOLOR#characterized
~D65:~CSSCOLOR#d65-whitepoint
色~空間:~CSSCOLOR#color-space
	~Lab色~空間:~CSSCOLOR#lab-colors
定義済み色~空間:~CSSCOLOR#predefined

~LCH色~空間:~CSSCOLOR#lab-colors
円柱な極-座標:~CSSCOLOR#cylindrical-polar-color
矩形な直交-座標:~CSSCOLOR#rectangular-orthogonal-color
丸める:~CSSCOLOR#_round
較正-済み:~CSSCOLOR#calibrated

使用~色:~CSSCOLOR#used-color
旧来の色~構文:~CSSCOLOR#legacy-color-syntax

	#specifying-lab-lch


	●用語（CSS
実際の値:~CASCADE#actual-value
算出d値:~CASCADE#computed-value

~math関数:~CSSVAL#math-function
~style資源を~fetchする:~CSSVAL#fetch-a-style-resource

親~stylesheet:~CSSOM1#concept-css-rule-parent-css-style-sheet
外部の色~profileを~fetchする:#fetch-an-external-color-profile


§ ~color_t 値の解決-法:~CSSCOLOR#resolving-color-values
§ ~color_t 値の直列化-法:~CSSCOLOR#serializing-color-values

	●用語（外部

応答:~FETCH#concept-response

●●words_table1
color_t:<var class="type">&lt;color&gt;</var>

●●words_table

	●略称／名称
Sass:
PostCSS:
	^en:Dark-Mode
DeltaE::ΔE
	~DeltaE:deltaE
NTSC:
CIE:
	~CIE~Lab:CIELab
ICC:
	LCG
	^en:FOGRA51
	^en:FOGRA51 set
	^en:SWOP-coated
	^en:FOGRA55
	M1
	pi^v:PI
	~level 4:CSS Color [css-color-4]／:CSS Color 4

	●色
Lab:
HSL:
	hsl^v:``hsl()``
sRGB:
	~sRGB:srgb
	`srgb^v:srgb
	srgb$v:``srgb``
LCH:
	~LCH:``lch()``／:lch()／:lch
HWB:
RGB:
Oklab:
Oklch:
XYZ:
D50:
D65:
RGBA:
CMYK:
	CMYK:cmyk
CMYKOGV:
KCMYOGV:
alpha:
red:
green:
white:
blue:
purple:
gray:
sky-blue:
blue-green:
lime:
magenta:
cyan:
yellow:
black:
黒:black::~
黒色点:black point::~
白色点:white point::~
gamma::::ガンマ
	~gamma符号化された:gamma-encoded

	青みがかった:slightly-blueish
	^nc:blue
	^nc:yellow
	^nc:sienna
	^nc:wheat
	^nc:tan
	^nc:peru
	^nc:red
	^nc:purple
	^v:display-p3
	^v:rec2020
	currentcolor$nc:current color
	a:
	b:
	a-b:ab
	L:
	C:
	H:
	C-H:CH
	X:
	Y:
	Z:
	X／Y／Z:x, y and z

色-:color-::~
有色:colored::~
色付けら:colorさ::~
色域:gamut::~
	色域~内:in-gamut
	色域~外:out of gamut
	色域~対応付けを施-:gamut-mapped
環:wheel:~
色度:chroma::~
	色度:Chroma
色相:hue::~
	色相:Hue
補色:complementary color::~
原色:primary color::~
二次色:secondary color::~
単色:solid color::~
透明度:transparency::~
不透明度:opacity::~
	全~不透明:fully opaque
	全~不透明でない:semi-opaque
	全~不透明でない:non-unity
黒度:blackness::~
白度:whiteness::~
暗な:darkな::暗い
暗化-:darken:暗く
明に:lightに::明るく
明度:lightness::~
	明度（ L ）:Lightness
輝度:luminance::~
知覚的:perceptual:~
彩度:saturation::~
	同じ彩度:as saturated as
彩度な:saturatedな::~
	無~彩度な〜に:fully desaturating
	彩度が~~復活する:re-saturating again
	多彩色:color
	単彩色:monochrome
contrast::::コントラスト
	~contrastが高い:contrasting
grayscale::::グレイスケール
	~grayscale化:grayscaling
階調:scale:~
光:light::~
	光に線形:linear-light
高明度:highlight::~

	°:degree
	~~鮮やかさ:how "colorful"
	~~中間的:moderate
	色~空間:color space／:colorspace
	色度を保全する:chroma-preserving
	色度がごく高い:very high-chroma
	色相は 120° 相違する:triad (hue differs by 120 degrees)
	広-〜:wide／:wide-
	鮮やかな:brightな
	鮮やかさに劣る:less intense

	●印刷／機器／計測
profiled::::有プロファイル
display::::ディスプレイ
反射-:reflect::~
反射:reflection::~
全拡散反射板:perfect reflecting diffuser
基準:reference:~
印刷機:printer::~::プリンタ
投影機:projector::~::プロジェクタ
ink::::インク
忠実度:fidelity:~
	忠実度が高い:high-fidelity
被覆率:coverage::~
総面積被覆率:Total Area Coverage::~
紙:paper:~
機材:equipment:~
塗工:coated:~
蛍光染料:optical brightener:~
分光光度計:spectrophotometer:~
UV-cut::::UV カット
色見本帳:sample swatchbook:~
色見本:color swatch:~
印刷用途の:print-based::~
色計量y:colorimetry::色計量
色計量:colorimetric::~
計量:metric::~
特性:characteristics::~
有特性:characterized:特性を有する
dot-gain::::ドットゲイン
特性評価:characterization::~
patch::::パッチ
刷版:press:~
再現-:reproduce:~
spot::::スポット

	^en:ISO 12647-2:2004
	^en:FOGRA39
	上と同じ `--fogra39^v ~profile:the same FOGRA39 setup as before
	印刷-法:printing


	●色演算
混合:mixture::~
混合-:mix::~
	混合した:mixed
混合用の:mixing::~
	混合-法:mixing
	様々な比による混合:mixtures
	混合されない:unmixed
	内で混合した結果:The mix in
	`color-mix$f:mixing
	`color-mix$f:mix
補償:compensation:~
補償-:compensate::~
順応-:adapt::~
	〜に順応された:〜-adapted
順応:adaptation::~
較正-:calibrate::~
	較正-済み:calibrated
較正:calibration::~
未較正:uncalibrated::~
補正-:correct::~
混色-:blend::~
組成-:composite::~
	組成-法:compositing
anti-aliasing:
gradient:
素朴:naive::~

乗算済みに:premultiply::~
乗算済み:premultiplied::~
非乗算済み:unpremultiplied::~
非乗算済みに:unpremultiply::~
	非乗算済みに:un-premultiplied
	非-乗算済み:non-premultiplied
	乗算済みにする段:premultilication step
	非乗算済みにする段:unpremultiplication step

	~~対応付け:matching

	●算術／幾何
起点:origin::~
比:ratio:~
実数:number:~
	百分率:percent
改変子:modifier::~
調整子:adjuster::~
一様:uniform:~
量:amount:~
変形-:transform::~
丸める:roundする:~
平面:plain::~
線形:linear::~
拡縮-:scale::~
拡縮率:scale::~
乗算子:multiplier::~
中間:intermediate:~
端点:endpoint:~
math:
近似:approximation:~
近似-:approximate:~
変換元:source::~
変換先:destination::~
平均-:average:~
量:amount:~
切詰めら:clampさ:切り詰めら
切捨てる:truncateする:切り捨てる
	およそ:approximately
半分:half:~
総和:sum:~
極-:polar::~
直交-:orthogonal::~
矩形:rectangle:~
矩形な:rectangularな::~
円柱な:cylindricalな::~
回転-:rotate::~
円弧:arc:~
真円:circle:~
係数:factor:~
数量-:numeric:~
数量的:numerical:~
不連続性:discontinuities:~
加法的:additive:~
重み:weight:~
	重み付け:weighting
凸:convex:~
	ひしゃげた:irregular
多角形:polygon:~
交叉-:cross:~
plot::::プロット
clipping:

	〜内に~~収まる:no 〜 clipping
	ごく高い:very high
	最も近い:closest
	低く:lower
	L 軸:central neutral axis
	曲線:curve
	点線:dashed curve
	より大きくない:not greater than
	〜上に乗る:lie along
	よりも:compared to
	より狭い:smaller
	0 化する:zeroes out
	抑えて:cut
	2 個目の 〜 占めるような:at 〜 along the progression
	50% ずつ:50-50
	変換した結果:after its conversion to
	大きく異なる:difference in 〜 is huge
	乗る:lie
	円周率:3.14159265358979
	最大~化-:maximise
中心:centre:~
中心の:centralな:~
	真中で:in the middle
	〜が占める:maximal

	●構文／直列化
往来-:round-trip::~
有効数字:significant figures:~
小数部:fractional part:~
小数点:decimal point:~
基数:base:~

	尾部を成す:trailing
	最初の引数:start of the function
	可変個数:varying number of
	欠落している:missing
	小文字~化される:with lowercase letters
	相対~色~構文$:Relative Color Syntax
	相対~色~構文$:RCS
	多過ぎ:too many
	少な過ぎ:too few

	●CSS
For:for:用途

	●変数
	%p1:p1
	%p2:p2
	%総和:-
	%拡縮率:-
	%色~空間:-
	%色:-
	%規則:-
	%応答の処理n:processResponse
	%応答:res
	%~stream:byteStream
	%cyan
	%magenta
	%yellow
	%black
	%alpha
	%red
	%green
	%blue

	●保安
	必要時に限り:on-demand
	~downloadする特能:downloading
	増やすもの:increased 〜 constitute

	●仕様
支援-:assist:~
利用度:usage:~
前処理器:preprocessor:~
解決策:solution:~
元は:originalには:~
大規模適用:scaling::~::スケーリング
説明用の:explanatory:~
収容-:accommodate:~
参照r:refer:参照
高度:advanced:~
際どい:corner:~
義務的:mandatory:~
目指す:aimする:~
proprietary::::プロプライエタリ
審美的:artistic:~
想定-:suppose:~
純:pure:~
創出-:create:~
解消-:solve:~
衝突-:clash:~
簡素:terser:~
続行-:proceed:~
実験結果:experimentation:~
簡単:trivial:~
適度:reasonable:~
保守的:conservative:~
参考:informative:~
族:family:~
隠蔽-:shadow:~
綴り:spelling:~
誤り:error:~
誤記:typo:~
寛容さ:forgiveness:~
明確さ:clarity:~
export:
文字大小0:capitalization:文字大小

	単に:merely
	他にも:besides
	関わらず:regardless
	対応する値〜限り:(provided the end result ...) and correspond to:
	以下では:henceforth
	称される:referred
	該当しない:not true
	現在では:currently
	可能でない:unable
	働かない:unable to work
	増えて:increasing〜increased
	ためにも:even more
	小さな:minor
	それに代えて:alternatively
	選ばれ:chosen
	選ぶ:choice
	どれを選ぶか:choice
	適する:a good choice for
	~~対処:deal with
	大まか:rough
	値をとれるようにする:so it has meaningful values for
	省略可能かどうか:whether 〜 required or optional
	ので:due
	もっとも、:tho
	特に，:as a corrollary,
	（未策定）:tbd
	結果の効果を大きく左右する:large effect on the end result
	異なる:is not the same as
	戻した:Moved 〜 back to
	元在った:whee it belongs
	〜でも〜ですら:indeed 〜 even
	残して:keep
	他を満たしていない:unsatisfactory in other ways
	見て判るとおり:we see that
	~~採用:opts for
	~~帰順:not amenable to a 〜 solution
	判っている:experienced
	為せる:can be made
	最適化し直-:re-optimization
	主要な:major
	新規:brand new
	見かけ:look
	至らす:lead
	うかつにも:unwisely
	可能性:potential
	~~説明:illustrate
	自己-~link:selflink
	^e:figure
	表:table
	-:MacBeth

	●未分類
component::::コンポーネント
picker:::選択 UI
theme::::テーマ
desktop::::デスクトップ
locale::::ロケール
中立:neutral:~
階級区分図:choropleth map:~
未解決:unresolved::~
知覚:perception:~
知覚-:perceive:~
保存-:save:~
写真-:photographic:~
業界:industries:~
維持-:retain:~
給-:supply:~
風景:scene:~
検索-:look up:~

	一定:constant
	~~情報は失われない:lossless
	-:second
	-:expand
	`number^t:plain number
	〜が~~保たれるよう:left unchanged
	-:and correspond to:
	とても:very
	詰め込まれ:bunched up
	保つ:keep
	保ちながら:keeping
	最初に与える色:firstly, a single color
	から見下ろした図:top-down view, looking along
	-:six significant figures
	全部ではなく:Instead 〜 equally
	どこでも:everywhere
	改変-:modification
	取り込む:drawing
	順に:firstly, 〜 secondly, 〜 thirdly,
	~GTE:meet or exceed
	〜以上:meet or exceed
	~EACH:are tested sequentially, from left to right
	~EACH:traversal／:terminate／:end／:reach
	~IF／~RET／%:earlier／:win／:overall winner／:temporary winner
	少しだけ:slightly
	少し:bit
	かなり:quite
	ちょうど~~中間の:a perfect mid
	色~関数:color-function
	個数:the number
	操作した結果:manipulation
	合衆国:US
	円:circle
	小さな:small
	大きな:large
	赤く縁取られた灰色の円:grey fill and red border
	~~対比:vs
	戻し／戻す:back
	跳ね上が:shot up
	持ち込:bring
	得られ／得る:yeild
	総数:total number of
	視覚-化-:visualize
	視覚-化:visualization
	大幅に:large
	保つ:keep する
	変わり:vary
	かすかに:barely
	通過-:pass through
	得る:yield
	逆向きに:in reverse
	ときにはある:sometimes
	かけ離れる:very far from
	かなり:huge
	重ねて:twice
	これまで:so far
	変化しない:unchanged
	-:final
	第一に:firstly
	第二に:secondly
	最も高い:greatest
	各自の:their respective
	最初の方の:earlier
	格子:grid
	升目:square
	列:column
	行:row:
	見下ろ:looking down

●●images
＠css-color/
LC-picker-scale｜height:20rem｜｜.png
LC-picker-map2｜height:20rem｜｜.png
CH-mixing｜height:24rem｜｜.svg
CH-mixing3｜height:28rem｜｜.svg
LCH-rotation-oog｜height:32rem｜｜LCH-rotation-oog.svg
macbeth-naive｜height: 20em｜｜.svg
macbeth-roundtrip｜height: 20em｜｜.svg

●●ref_normative

[CSS-CASCADE-5]
    Elika Etemad; Miriam Suzanne; Tab Atkins Jr.. ＜CSS Cascading and Inheritance Level 5＞. URL: https://drafts.csswg.org/css-cascade-5/
[CSS-COLOR-4]
    CSS Color Module Level 4 URL: https://www.w3.org/TR/css-color-4/
[CSS-SYNTAX-3]
    Tab Atkins Jr.; Simon Sapin. ＜CSS Syntax Module Level 3＞. URL: https://drafts.csswg.org/css-syntax/
[CSS-VALUES-4]
    CSS Values and Units Module Level 4 URL: https://www.w3.org/TR/css-values-4/
[CSSOM-1]
    Daniel Glazman; Emilio Cobos Álvarez. ＜CSS Object Model (CSSOM)＞. URL: https://drafts.csswg.org/cssom/
[FETCH]
    Anne van Kesteren. ＜Fetch Standard＞. Living Standard. URL: https://fetch.spec.whatwg.org/
[ICC]
    ＜ICC.1:2010 (Profile version 4.3.0.0)＞. December 2010. URL: http://www.color.org/specification/ICC1v43_2010-12.pdf
[RFC2119]
    S. Bradner. ＜Key words for use in RFCs to Indicate Requirement Levels＞. March 1997. Best Current Practice. URL: https://datatracker.ietf.org/doc/html/rfc2119


●●trans_metadata
<p>
~THIS_PAGEは、~W3Cにより編集者草案として公開された
<a href="~SPEC_URL">CSS Color Module Level 5</a>
を日本語に翻訳したものです。
~PUB
</p>


●●spec_metadata

最新公表バージョン
	https://www.w3.org/TR/css-color-5/
公表履歴
	https://www.w3.org/standards/history/css-color-5
編集者草案
	https://drafts.csswg.org/css-color-5/
テスト一式
	http://test.csswg.org/suites/css-color-5_dev/nightly-unstable/
	https://wpt.fyi/results/css/css-color/
フィードバック
	<a href="https://github.com/w3c/csswg-drafts/labels/css-color-5">CSSWG Issues Repository</a>

編集
	<a href="https://svgees.us/">Chris Lilley</a> (W3C)
	<a href="https://una.im">Una Kravets</a> (Google)
	<a href="http://lea.verou.me/about">Lea Verou</a> (Invited Expert)
	<a href="https://nerdy.dev">Adam Argyle</a> (Google)

Suggest an Edit for this Spec
	<a href="https://github.com/w3c/csswg-drafts/blob/main/css-color-5/Overview.bs">GitHub Editor</a>
差分仕様
	yes
commit 履歴
	https://github.com/w3c/csswg-drafts/commits/main/css-color-5
</script>

</head>
<body>

<header>
	<hgroup>
<h1>CSS Color Module Level 5</h1>
	</hgroup>
</header>

<div id="MAIN" hidden>

	<section id="abstract">
~ABSTRACT

<p>
この~module（ ~level 5 ）は、
次を追加して，`~level 4$ を拡張する
⇒＃
色~改変~関数,
~custom色~空間（~ICC~profile）
◎
This module extends CSS Color [css-color-4] to add color modification functions, and custom color spaces (ICC profiles).
</p>

~CSSisaLANG

	</section>
	<section id="sotd">
~STATUSofTHIS

<p>
これは、編集者草案の公な複製です…
【以下、この節の内容は，~SOTD-CSSに移譲。】
</p>

	</section>

<main id="MAIN0">

	<section id="introduction">
<h2 title="Introduction">1. 序論</h2>

~INFORMATIVE

<p>
［
~web開発者／設計~tool／設計~system開発者
］は、［
自身の~componentにおける色~関係の設計
］の大規模適用を支援するために，色~関数を利用することが多い。
~UIにおける `暗な~mode^i （ `Dark-Mode^en ）能力の様な，複数の［
~platform／利用者~選好
］を~supportする設計~systemの利用度が増えてきている下では、
これは［
色を手動で設定する必要なく，単独の~sourceから~schemeを計算するため
］ためにも有用になる。
◎
Web developers, design tools and design system developers often use color functions to assist in scaling the design of their component color relations. With the increasing usage of design systems that support multiple platforms and multiple user preferences, like the increased capability of Dark Mode in UI, this becomes even more useful to not need to manually set color, and to instead have a single source from which schemes are calculated.
</p>

<figure id="fig-chloropleth">
<p class="alt" hidden id="_dgm-LC-picker-scale">
L, C 成分による色~picker
◎
LC color picker
</p>
<p class="alt" hidden id="_dgm-LC-picker-map2">
合衆国の階級区分図
◎
choropleth map of the US
</p>
<figcaption>
最初の図は、
~CIE`~LCH色~空間$で演算している色~picker。
ここでは、
2 つの色を利用して，
C 軸（色度）, L 軸（明度）が成す平面~上で一連の階調を成す色を定義している（ H = 色相は一定）。
その次の図では、
その色~階調を階級区分図に利用している。
◎
Above, a color picker operating in CIE LCH space. Here, a pair of colors are being used to define a color scale on the Chroma-Lightness plane (constant Hue). Below, the color scale in use on a choropleth map.
</figcaption></figure>

<p>
現在では、［
~Sass／~HSL値に対する `calc^f ／~PostCSS
］がこれを行うために利用されている。
しかしながら，前処理器は動的に調整される色には働かないので、
現在の解決策はどれも，~sRGB色域に制約され, ~HSLの知覚的な制限にも制約されている
（色は色~環~内に詰め込まれているため、
視覚的な明度が異なる 2 個の色の~HSL明度は，
`yellow^nc と `blue^nc の様に同じになり得る）。
◎
Currently Sass, calc() on HSL values, or PostCSS is used to do this. However, preprocessors are unable to work on dynamically adjusted colors; all current solutions are restricted to the sRGB gamut and to the perceptual limitations of HSL (colors are bunched up in the color wheel, and two colors with visually different lightness, like yellow and blue, can have the same HSL lightness).
</p>

<p>
この~moduleは：
◎
This module＼
</p>
<ul>
	<li>
`color-mix$f 関数を追加する。
◎
adds a new function: color-mix(),＼
</li>
	<li>
既存の関数を`相対~色の構文＠#relative-colors$で拡張する。
◎
and extends existing ones with relative color syntax.
</li>
	<li>
`color$f 関数を拡張する
— `定義済み色~空間$に限らず、
~ICC~profileにより定義される~custom色~空間（`較正-済み$~CMYKも含む）も，
~CSSにて利用できるよう。
◎
It also extends the color() function so that not only predefined color spaces, but also custom color spaces defined by ICC profiles (including calibrated CMYK) can be used in CSS.
</li>
	<li>
未較正な~CMYK色の表現として，
`device-cmyk^f 関数を追加する。
◎
It also adds device-cmyk, a representation of uncalibrated cmyk color.
</li>
</ul>

	</section>
	<section id="color-mix">
<h2 title="Mixing Colors: the color-mix() Function">2. 色の混合-法： `color-mix^f 関数</h2>

<p>
この関数は、
2 個の色~指定（ `color$t ）をとり，［
所与の`色~空間$（ `color-interpolation-method$t 内に指定される `color-space$t ）内で，指定した量により混合した結果
］を返す。
◎
This function takes two &lt;color&gt; specifications and returns the result of mixing them, in a given &lt;color-space&gt;, by a specified amount.
</p>

<pre class="prod">
`color-mix@f
	= color-mix(
		`color-interpolation-method$t,
		[ `color$t &amp;&amp; `percentage [0,100]$t? ]#{2})
</pre>

		<section id="color-mix-percent-norm">
<h3 title="Percentage Normalization">2.1. 百分率の正規化</h3>

<p>
百分率は、
0% 以上 100% 以下の範囲に入ることが要求される
— 特定的に，負な百分率は許容されない†。
◎
Percentages are required to be in the range 0% to 100%. Negative percentages are specifically disallowed.＼
</p>

<p class="trans-note">【†
したがって、
関数は無効な値を表現することになろう。
構文から， 100% を超える値も同様になろう。
（下の~algoには組入れられていないが。）
】</p>

<div class="algo">
<p>
百分率は、
以下に従って正規化される：
◎
The percentages are normalized as follows:
</p>
<ol>
	<li>
%p1 ~LET ［
1 個目の色に百分率も供されたならば それ ／
~ELSE_ ε
］
◎
Let p1 be the first percentage＼
</li>
	<li>
%p2 ~LET ［
2 個目の色に百分率も供されたならば それ ／
~ELSE_ ε
］
◎
and p2 the second one.
</li>
	<li>
~IF［
%p1 ~EQ ε
］~AND［
%p2 ~EQ ε
］
⇒＃
%p1 ~SET 50%；
%p2 ~SET 50%
（これは 2 個の色を等しく混合する）
◎
If both percentages are omitted, they each default to 50% (an equal mix of the two colors).
</li>
	<li>
~ELIF［
%p2 ~EQ ε
］
⇒
%p2 ~SET 100% ~MINUS %p1
◎
Otherwise, if p2 is omitted, it becomes 100% - p1
</li>
	<li>
~ELIF［
%p1 ~EQ ε
］
⇒
%p1 ~SET 100% ~MINUS %p2
◎
Otherwise, if p1 is omitted, it becomes 100% - p2
</li>
	<li>
%総和 ~LET %p1 ~PLUS %p2
◎
↓</li>
	<li>
~IF［
%総和 ~EQ 0%
］
⇒
関数は妥当でない
◎
If the percentages sum to zero, the function is invalid.
</li>
	<li>
<p>
~ELSE：
</p>
		<ol>
			<li>
%拡縮率 ~LET 100% ~DIV %総和
</li>
			<li>
%p1 ~SET %p1 ~MUL %拡縮率
</li>
			<li>
%p2 ~SET %p2 ~MUL %拡縮率
</li>
			<li>
~IF［
%総和 ~LT 100%
］
⇒
%総和 を
`~alpha乗算子@
として保存する
</li>
		</ol>
◎
Otherwise, if both are provided and add up to greater than 100%, they are scaled accordingly so that they add up to 100%.
◎
Otherwise, if both are provided and add up to less than 100%, the sum is saved as an alpha multiplier. They are then scaled accordingly so that they add up to 100%.
◎
This means that p1 becomes p1 / (p1 + p2) and p2 becomes p2 / (p1 + p2).
</li>
</ol>
</div>

<div class="example" id="ex-mix-syntactic">
<p>
したがって，次の各~構文-形は、
互いに等価になる：
◎
These syntactic forms are thus all equivalent:
</p>

<pre class="lang-css">
color-mix(in lch, purple 50%, plum 50%)
color-mix(in lch, purple 50%, plum)
color-mix(in lch, purple, plum 50%)
color-mix(in lch, purple, plum)
color-mix(in lch, plum, purple)
color-mix(in lch, purple 80%, plum 80%)
</pre>

<p>
これらはどれも，~LCH内で［
`purple^vc, `plum^vc
］を 50% ずつ混合した結果を生産する
⇒
`lch(51.51% 52.21 325.8)^v
（ `rgb(68.51% 36.01% 68.29%)^vc ）
◎
All produce a 50-50 mix of purple and plum, in lch: lch(51.51% 52.21 325.8) which is rgb(68.51% 36.01% 68.29%).
</p>

<p>
しかしながら，次の形は、
その~alphaは 1 未満になるので，`同じでない^em：
◎
However, this form is not the same, as the alpha is less than one:
</p>

<pre class="lang-css">
color-mix(in lch, purple 30%, plum 30%)
</pre>

<p>
これが生産する結果は
⇒
`lch(51.51% 52.21 325.8 / 0.6)^v
（ `rgb(68.51% 36.01% 68.29% / 0.6)^vc ）
◎
This produces lch(51.51% 52.21 325.8 / 0.6) which is rgb(68.51% 36.01% 68.29% / 0.6).
</p>
</div>

		</section>
		<section id="color-mix-result">
<h3 title="Calculating the Result of color-mix">2.2. `color-mix^f の結果の計算-法</h3>

<div class="algo">
<p>
両~百分率とも正規化したなら、
結果は，次の~algoにより生産される：
◎
After normalizing both percentages, the result is produced via the following algorithm:
</p>
<ol>
	<li>
%色~空間 ~LET 引数に与えられた `color-space$t が指示する`色~空間$
◎
↓</li>
	<li>
<p>
両~色とも %色~空間 へ変換する
— %色~空間 が当の色を表出し得ない場合
（例えば［
`hsl$v ／ `hwb$v
］色~空間は `srgb$v 色域の外側にある色を表出し得ない）、
`色域~対応付け$が生じることになる。
◎
Both colors are converted to the specified &lt;color-space&gt;. If the specified color space cannot express the color (for example, the hsl and hwb spaces cannot express colors outside the sRGB gamut), gamut mapping will occur.
</p>
	</li>
	<li>
<p>
2 つの色を %色~空間 内で
`補間する＠~CSSCOLOR#interpolation$
— %色~空間 に応じて：
◎
Colors are then interpolated in the specified color space, as described in CSS Color 4 § 12 Color Interpolation.＼
</p>
		<ul class="switch">
			<li>
`円柱な極-座標$【！cylindrical-polar-color space】
【 `polar-color-space$t 】である
⇒
`hue-interpolation-method$t も指定されたならば、
それが`色相の補間＠~CSSCOLOR#hue-interpolation$を制御する
— 指定されていない場合、
`shorter hue^v 【！`shorter^v 】が指定されたかのようになる。
◎
If the specified color space is a cylindrical-polar-color space, then the &lt;hue-interpolation-method&gt; controls the interpolation of hue, as described in CSS Color 4 § 12.4 Hue Interpolation.＼
If no &lt;hue-interpolation-method&gt; is specified, it is as if shorter had been specified.＼
</li>
			<li>
<p>
`矩形な直交-座標$【 `rectangular-color-space$t 】である
⇒
`hue-interpolation-method^t も指定するのは~errorである。
【 `color-interpolation-method$t の文法を見よ。】
</p>
◎
If the specified color space is a rectangular-orthogonal-color space, then specifying a &lt;hue-interpolation-method&gt; is an error.
</li>
		</ul>
	</li>
	<li>
百分率を正規化するときに`~alpha乗算子$が生産された場合、
補間した結果の~alpha成分を~alpha乗算子で乗算する。
◎
If an alpha multiplier was produced during percentage normalization, the alpha component of the interpolated result is multiplied by the alpha multiplier.
</li>
</ol>
</div>

<p>
混合した結果は、
各~色が，それに指定された百分率を占めるような色になる。
◎
The result of mixing is the color at the specified percentage along the progression of the second color to the first color.
</p>

<p class="note">注記：
特に，［
0% ／ 100%
］は［
他方の色／当の色
］を指定された色~空間~内に変換した結果を返す。
◎
Note: As a corrollary, a percentage of 0% just returns the other color converted to the specified color space, and a percentage of 100% returns the same color converted to the specified color space.
</p>

<div class="example" id="ex-mix-lch-peru40">
<p>
この例は、
`peru^vc 40%,
`palegoldenrod^vc 60% による混合を生産する。
◎
This example produces a mixture of 40% peru and 60% palegoldenrod.
</p>

<pre class="lang-css">
color-mix(in lch, peru 40%, palegoldenrod)
</pre>

<p>
混合するときは、
`lch$v 色~空間~内で行われる。
中立な L 軸~沿いに見下ろした図は：
◎
The mixing is done in lch color space. Here is a top-down view, looking along the neutral L axis:
</p>

<figure id="fig-LCH-peru-goldenrod">
<p class="alt" hidden id="_dgm-CH-mixing">
2 個の色の混合と混合した結果の出力。
~CIE L 軸~沿いに a-b 平面を見下ろしている。
a 軸, b 軸は、
~plotの中心を成す原点で交叉している。
◎
A mixture of two colours, and the mixed output. We are looking down the CIE L axis onto the ab plane. There are two axes, labelled a and b which cross at the origin, which is in the centre of the plot.
</p>

<figcaption>
~CIE~LCHにおける `peru^nc と `palegoldenrod^nc の混合。
`peru^nc の色相は，正な `a^ 軸から測定される角度 63.677° になる一方、
`palegoldenrod^nc の色相は， 98.834° になる。
`peru^nc の色度（ L 軸からの距離）は， 54.011 になる一方、
`palegoldenrod^nc の色度は， 31.406 になる。
アリなすべての混合は、
図の曲線~上に乗る。
40% 対 60% による混合も，そこに示される。
◎
Mixtures of peru and palegoldenrod in CIE LCH. Peru has a hue angle, measured from the positive a axis, of 63.677 degrees while palegoldenrod has a hue angle of 98.834 degrees. Peru has a chroma, or distance from the central neutral axis, of 54.011 while palegoldenrod has a chroma of 31.406. All possible mixtures lie along the curve. A 40%/60% mixture is shown.
</figcaption></figure>

<p>
計算は、次に従う：
◎
The calculation is as follows:
</p>
<ul>
	<li>
`peru^vc =
`lch(62.253% 54.011 63.677)^v
◎
peru is lch(62.253% 54.011 63.677)
</li>
	<li>
`palegoldenrod^vc =
`lch(91.374% 31.406 98.834)^v
◎
palegoldenrod is lch(91.374% 31.406 98.834)
</li>
	<li>
混合した明度 =
62.253 ~MUL 40 ~DIV 100 ~PLUS 91.374 ~MUL (100 ~MINUS 40) ~DIV 100 = 79.7256
◎
the mixed lightness is 62.253 * 40/100 + 91.374 * (100-40)/100 = 79.7256
</li>
	<li>
混合した色度 =
54.011 ~MUL 40 ~DIV 100 ~PLUS 31.406 ~MUL (100 ~MINUS 40) ~DIV 100 = 40.448
◎
the mixed chroma is 54.011 * 40/100 + 31.406 * (100-40)/100 = 40.448
</li>
	<li>
混合した色相 =
63.677 ~MUL 40 ~DIV 100 ~PLUS 98.834 ~MUL (100 ~MINUS 40) ~DIV 100 = 84.771
◎
the mixed hue is 63.677 * 40/100 + 98.834 * (100-40)/100 = 84.771
</li>
	<li>
混合した結果は
⇒
`87.41% 76.03% 47.64%^rgb
`lch(79.7256% 40.448 84.771)^v
◎
the mixed result is lch(79.7256% 40.448 84.771)
</li>
</ul>
</div>

<div class="example" id="ex-mix-lch-teal65">
<p>
この例は、
`lch$v 色~空間~内で
`teal^nc と `olive^nc の混合を生産する
— ~LCHの各~channelが `teal^nc は値の 65%, `olive^nc は値の 35% になるよう。
◎

This example produces the mixture of teal and olive, in lch color space, with each lch channel being 65% of the value for teal and 35% of the value for olive.
</p>

<p class="note">注記：
色相と色度に対する補間-法は、
中間~色を端点~色と同じ彩度に保つ。
◎
Note: interpolating on hue and chroma keeps the intermediate colors as saturated as the endpoint colors.
</p>

<pre class="lang-css">
color-mix(in lch, teal 65%, olive);
</pre>

<figure id="fig-LCH-teal-olive">
<p class="alt" hidden id="_dgm-CH-mixing3">
2 個の色の混合と混合した結果の出力。
~CIE L 軸~沿いに a-b 平面を見下ろしている。
a 軸, b 軸は、
~plotの中心を成す原点で交叉している。
◎
A mixture of two colours, and the mixed output. We are looking down the CIE L axis onto the ab plane. There are two axes, labelled a and b which cross at the origin, which is in the centre of the plot.
</p>

<figcaption>
`teal^nc と `olive^nc の混合。
`teal^nc の色相は、
正な `a^ 軸から測定される角度 196.4524° になる一方、
`olive^nc の色相は 99.5746° になる。
`teal^nc の色度（ L 軸からの距離）は 31.6903 になる一方、
`olive^nc の色度は 56.8124 になる。
様々な比による混合は、
図の点線~上に乗る。
65% 対 35% による混合も，そこに示される。
◎
Mixtures of teal and olive. Teal has a hue angle, measured from the positive a axis, of 196.4524 degrees while olive has a hue angle of 99.5746 degrees. Teal has a chroma, or distance from the central neutral axis, of 31.6903 while olive has a chroma of 56.8124. Mixtures lie along the dashed curve. A 65%/35% mixture is shown.
</figcaption></figure>

<p>
計算は、次に従う：
◎
The calculation is as follows:
</p>
<ul>
	<li>
~sRGB `teal^vc （ `#008080^v ） =
`lch(47.9855% 31.6903 196.4524)^v
◎
sRGB teal (#008080) is lch(47.9855% 31.6903 196.4524)
</li>
	<li>
~sRGB `olive^vc （ `#808000^v ） =
`lch(52.1496% 56.8124 99.5746)^v
◎
sRGB olive (#808000) is lch(52.1496% 56.8124 99.5746)
</li>
	<li>
混合した明度 =
47.9855 ~MUL 0.65 ~PLUS 52.1496 ~MUL 0.35 = 49.4429
◎
mixed lightness is 47.9855 * 0.65 + 52.1496 * 0.35 = 49.4429
</li>
	<li>
混合した色度 =
31.6903 ~MUL 0.65 ~PLUS 56.8124 ~MUL 0.35 = 40.4830
◎
mixed chroma is 31.6903 * 0.65 + 56.8124 * 0.35 = 40.4830
</li>
	<li>
混合した色相 =
196.4524 ~MUL 0.65 ~PLUS 99.5746 ~MUL 0.35 = 162.5452
◎
mixed hue is 196.4524 * 0.65 + 99.5746 * 0.35 = 162.5452
</li>
	<li>
混合した結果は
⇒
`lch(49.4429% 40.4830 162.5452)^v
（青みがかった~green `rgb(7.7377% 52.5730% 37.3213%)^vc になる）
◎
mixed result is lch(49.4429% 40.4830 162.5452)
◎
which is a slightly-blueish green: rgb(7.7377% 52.5730% 37.3213%)
</li>
</ul>
</div>

		</section>
		<section id="color-mix-color-space-effect">
<h3 title="Effect of Mixing Color Space on color-mix">2.3. `color-mix^f に対する混合用の色~空間による効果</h3>

<p>
混合用の色~空間としてどれを選ぶかは、
結果の効果を大きく左右する。
◎
The choice of mixing color space can have a large effect on the end result.
</p>

<div class="example" id="ex-mix-colorspaces-black-white">
<p>
この例では、
3 種の異なる色~空間~内で
`white^nc と `black^nc を 50% ずつ混合する。
◎
This example is a 50% mix of white and black, in three different color spaces.
</p>

<pre class="lang-css">
color-mix(in lch, white, black);
color-mix(in xyz, white, black);
color-mix(in srgb, white, black);
</pre>

<p>
計算は、次に従う：
◎
The calculation is as follows:
</p>
<ul>
	<li>
~sRGB `white^vc （ `#FFF^v ） = `lch(100% 0 0)^v
◎
sRGB white (#FFF) is lch(100% 0 0)
</li>
	<li>
~sRGB `black^vc （ `#000^v ） = `lch(0% 0 0)^v
◎
sRGB black (#000) is lch(0% 0 0)
</li>
	<li>
~LCH内で混合した結果は
⇒
`47% 47% 47%^rgb
`lch(50% 0 0)^v
◎
The mix in LCH is lch(50% 0 0)
</li>
	<li>
~XYZ内で混合した結果は
⇒
`74% 74% 74%^rgb
`lch(76% 0 0)^v
◎
The mix in XYZ is lch(76% 0 0)
</li>
	<li>
~sRGB内で混合した結果は
⇒
`50% 50% 50%^rgb
`lch(53.4% 0 0)^v
◎
The mix in sRGB is lch(53.4% 0 0)
</li>
</ul>

<p>
~LCH内で混合した結果は、
正確に期待されるとおり，
L 値 50% 
— ちょうど~~中間の~gray —
になる（
~Lab内で混合しても同じになる
— ~LCHと~Labの明度（ L ）軸は同じなので）。
◎
The mix in LCH gives an L value of 50%, a perfect mid gray, exactly as expected (mixing in Lab would do the same, as the Lightness axis is the same in LCH and Lab).
</p>

<p>
~XYZ内で混合した結果は，明になり過ぎる
— ~XYZは、
光に線形だが知覚的に一様ではないので。
~sRGB内で混合した結果は，少し明になり過ぎる
— ~sRGBは、
知覚的に一様でも光に線形でもない。
◎
The mix in XYZ gives a result that is too light; XYZ is linear-light but is not perceptually uniform. The mix in sRGB gives a result that is a bit too light; sRGB is neither perceptually uniform nor linear-light.
</p>
</div>

<div class="example">
<p>
この例は、
`xyz$v 色~空間~内で， 2 個の色 ~redと~sky-blue の混合を生産する
— その色相が ~redの色相の 75.23% （したがって，~blueの色相の 24.77% ）になるよう。
◎
This example produces the mixture of the a red and a sky blue, in xyz color space, with the mixture being 75.23% of that of the red (and thus, 24.77% of that of the blue).
</p>

<pre class="lang-css">
color-mix(in xyz, rgb(82.02% 30.21% 35.02%) 75.23%, rgb(5.64% 55.94% 85.31%));
</pre>

<p>
計算は、次に従う：
◎
The calculation is as follows:
</p>
<ul>
	<li>
~red
`rgb(82.02% 30.21% 35.02%)^vc
= `lch(52% 58.1 22.7)^v
は
⇒＃
X = 0.3214,
Y = 0.2014,
Z = 0.0879
◎
rgb(82.02% 30.21% 35.02%) is lch(52% 58.1 22.7) which is X=0.3214, Y=0.2014, Z=0.0879.
</li>
	<li>
~sky-blue
`rgb(5.64% 55.94% 85.31%)^vc
= `lch(56% 49.1 257.1)^v
は
⇒＃
X = 0.2070,
Y = 0.2391,
Z = 0.5249.
◎
rgb(5.64% 55.94% 85.31%) is lch(56% 49.1 257.1) which is X=0.2070, Y=0.2391, Z=0.5249.
</li>
	<li>
混合した結果の
⇒＃
X = (0.3214 ~MUL 0.7523) ~PLUS (0.2070 ~MUL (1 ~MINUS 0.7523)) = 0.29306,
Y = (0.2014 ~MUL 0.7523) ~PLUS (0.2391 ~MUL (1 ~MINUS 0.7523)) = 0.21074,
Z = (0.0879 ~MUL 0.7523) ~PLUS (0.5249 ~MUL (1 ~MINUS 0.7523)) = 0.19614
◎
mixed result X=(0.3214 * 0.7523) + (0.2070 * (1 - 0.7523)) = 0.29306.
◎
mixed result Y=(0.2014 * 0.7523) + (0.2391 * (1 - 0.7523)) = 0.21074.
◎
mixed result Z=(0.0879 * 0.7523) + (0.5249 * (1 - 0.7523)) = 0.19614.
</li>
	<li>
混合した結果は
⇒
`lch(53.0304% 38.9346, 352.8138)^v
（ `rgb(72.300% 38.639% 53.557%)^vc ）
◎
mix result is lch(53.0304% 38.9346, 352.8138) which is rgb(72.300% 38.639% 53.557%)
</li>
</ul>
</div>

<div class="example" id="ex-mix-blue-white">
<p>
この例は、
3 種の異なる色~空間~内で，~whiteと~blueを 50% ずつ混合する：
◎
This example is a 50% mix of white and blue, in three different color spaces.
</p>

<pre class="lang-css">
color-mix(in lch, white, blue);
color-mix(in oklch, white, blue);
color-mix(in srgb, white, blue);
</pre>

<p>
計算は次に従う：
◎
The calcuation is as follows:
</p>
<ul>
	<li>
`white^vc
= `rgb(100% 100% 100%)^v
= `lch(100% 0 none)^v
= `oklch(100% 0 none)^v
◎
white is rgb(100% 100% 100%) which is lch(100% 0 none) which is oklch(100% 0 none)
</li>
	<li>
`blue^vc
= `rgb(0% 0% 100)^v
= `lch(29.5683% 131.201 301.364)^v
= `oklch(45.201% 0.31321 264.052)^v
◎
blue is rgb(0% 0% 100%) which is lch(29.5683% 131.201 301.364) which is oklch(45.201% 0.31321 264.052)
</li>
	<li>
`lch$v 内で混合した結果は、
かなり~purpleになる
⇒
`68.594% 53.794% 100%^rgb
`lch(64.7841% 65.6008 301.364)^v
◎
mix in lch is lch(64.7841% 65.6008 301.364) which is quite purple
</li>
	<li>
`oklch$v 内で混合した結果は
⇒
`45.304% 63.808% 100%^rgb
`oklch(72.601 0.15661 264.052)^v
◎
mix in oklch is oklch(72.601 0.15661 264.052)
</li>
	<li>
`srgb$v 内で混合した結果は、
少し~purpleになる
⇒
`50% 50% 100%^rgb
`rgb(50% 50% 100)^v
◎
mix in srgb is rgb(50% 50% 100%) which is also a bit purple
</li>
</ul>
</div>

<div class="example" id="ex-hsl-gamut-map">
<p>
この例は、
`hsl$v 色~空間において 2 つの色を混合する
— うち一方の色は `srgb$v 色域の外側にある。
◎
This example is a mix of two colors, in hsl color space, where one of the colors to be mixed is outside the sRGB gamut.
</p>

<pre class="lang-css">
color-mix(in hsl, color(display-p3 0 1 0) 80%, yellow);
</pre>

<p>
計算は次に従う：
◎
The calcuation is as follows:
</p>
<ul>
	<li>
<p>
`color(display-p3 0 1 0)^v は、
~sRGB色域の外側にある
⇒
`color(srgb -0.5116 1.01827 -0.3107)^v
◎
color(display-p3 0 1 0) is color(srgb -0.5116 1.01827 -0.3107) which is outside the sRGB gamut
</p>

<p>
`~CSS色域~対応付け$を施したなら，その結果
`0% 99.797% 0%^rgb
`color(srgb 0 0.99797 0)^v
は `hsl$v に変換できる
⇒
`hsl(120 100% 49.898%)^v
◎
after CSS gamut mapping,the new color is color(srgb 0 0.99797 0) which can now be converted to hsl hsl(120 100% 49.898%)
</p>
	</li>
	<li>
`yellow^vc
= `hsl(60 100% 50%)^v
◎
yellow is hsl(60 100% 50%)
</li>
	<li>
混合した色相
= 120 ~MUL 0.8 ~PLUS 60 ~MUL 0.2 = 108
◎
the hue is 120 × 0.8 + 60 × 0.2 = 108
</li>
	<li>
混合した彩度
= 100% 
◎
the saturation is 100%
</li>
	<li>
混合した明度
= 49.898 ~MUL 0.8 ~PLUS 50 ~MUL 0.2 = 49.9184
◎
the lightness is 49.898 × 0.8 + 50 × 0.2 = 49.9184
</li>
	<li>
混合した結果は
⇒
`19.969% 99.837% 0%^rgb
`hsl(108 100% 49.9184%)^v
= `color(display-p3 0.48903 0.98415 0.29889)^v
◎
the mixed result is hsl(108 100% 49.9184%) which is color(display-p3 0.48903 0.98415 0.29889)
</li>
</ul>
</div>

		</section>
		<section id="color-mix-with-alpha">
<h3 title="Effect of Non-Unity Alpha on color-mix">2.4. `color-mix^f に対する全~不透明でない~alphaによる効果</h3>

<p>
これまでの `color-mix$f 例は、
どれも全~不透明な色を利用していた
— ［
乗算済みにする段／非乗算済みにする段
］は、各例を単純~化するため省略されていた
— これらは、単純に［
1 を乗算する／ 1 で除算する
］だけであり，結果は変化しないので。
◎
So far, all the color-mix() examples have used fully opaque colors. To simplify the examples, the premultilication and unpremultiplication steps were omitted because these would simply multiply by 1, and divide by 1, so the result would be unchanged.
</p>

<p>
一般~事例では、
色の~alpha成分は，全~不透明でないこともある。
したがって［
乗算済みにする,
補間する,
非乗算済みにする
］段を省略しないモノトスル。
◎
In the general case, colors may have non-unity alpha components and thus the premultiply, interpolate, unpremultiply steps must not be omitted.
</p>

<div class="example" id="ex-premultiply-srgb">

<p>
この例は、
全~不透明でない［
~red, ~green
］を［
25%, 75% 
］の割合で~sRGB内で混合する。
以下、［
正しい（乗算済み）作業-法, 不正な（非-乗算済み）作業-法
］を順に示す。
◎
This example is 25% semi-opaque red and 75% semi-opaque green. mixed in sRGB. Both the correct (premultiplied) and incorrect (non-premultiplied) workings are shown.
</p>

<pre class="lang-css">
color-mix(in srgb, rgb(100% 0% 0% / 0.7) 25%, rgb(0% 100% 0% / 0.2));
</pre>

<p>
正しい計算は、次に従う:
◎
The calcuation is as follows:
</p>
<ul>
	<li>
`rgb(100% 0% 0% / 0.7)^vc
を乗算済みにした結果は
⇒
[0.7, 0, 0]
◎
rgb(100% 0% 0% / 0.7) when premultiplied, is [0.7, 0, 0]
</li>
	<li>
`rgb(0% 100% 0% / 0.2)^vc
を乗算済みにした結果は
⇒
[0, 0.2, 0]
◎
rgb(0% 100% 0% / 0.2) when premultiplied, is [0, 0.2, 0]
</li>
	<li>
これら乗算済みを補間した結果は
⇒＃
[0.7 ~MUL 0.25 ~PLUS 0 ~MUL (1 ~MINUS 0.25), 0 ~MUL 0.25 ~PLUS 0.2 ~MUL (1 ~MINUS 0.25), 0 ~MUL 0.25 ~PLUS 0 ~MUL (1 ~MINUS 0.25)]
= [0.175, 0.150, 0]
◎
the premultiplied, interpolated result is [0.7 * 0.25 + 0 * (1 - 0.25), 0 * 0.25 + 0.2 * (1 - 0.25), 0 * 0.25 + 0 * (1 - 0.25)] which is [0.175, 0.150, 0]
</li>
	<li>
補間した~alphaは
⇒＃
0.7 ~MUL 0.25 ~PLUS 0.2 ~MUL (1 ~MINUS 0.25)
= 0.325
◎
the interpolated alpha is 0.7 * 0.25 + 0.2 * (1 - 0.25) = 0.325
</li>
	<li>
非乗算済みにした結果は
⇒＃
[0.175 ~DIV 0.325, 0.150 ~DIV 0.325, 0 ~DIV 0.325]
= [0.53846, 0.46154, 0]
◎
the un-premultiplied result is [0.175 / 0.325, 0.150 / 0.325, 0 / 0.325] which is [0.53846, 0.46154, 0]
</li>
	<li>
混合した結果の色は
⇒
`53.846%, 46.154%, 0%, 0.325^rgb `color(srgb 0.53846 0.46154 0 / 0.325)^v
◎
so the mixed color is color(srgb 0.53846 0.46154 0 / 0.325)
</li>
</ul>

<p>
`不正^emな計算：
◎
The incorrect calculation would be:
</p>
<ul>
	<li>
補間した結果は
⇒＃
[1 ~MUL 0.25 ~PLUS 0 ~MUL (1 ~MINUS 0.25), 0 ~MUL 0.25 ~PLUS 1 ~MUL (1 ~MINUS 0.25), 0 ~MUL 0.25 ~PLUS 0 ~MUL (1 ~MINUS 0.25)]
= [0.25, 0.75, 0]
◎
the interpolated result is [1 * 0.25 + 0 * (1 - 0.25), 0 * 0.25 + 1 * (1 - 0.25), 0 * 0.25 + 0 * (1 - 0.25)] which is [0.25, 0.75, 0]
</li>
	<li>
なので、`不正^emな混合した色は
⇒
`25%, 75%, 0%, 0.325^rgb `color(srgb 0.25 0.75 0 / 0.325)^v
◎
so the incorrect mixed color is color(srgb 0.25 0.75 0 / 0.325)
</li>
</ul>

<p>
［
正しい結果, 不正な結果
］には、
`かなり^emの相違があり，
~DeltaE 2000 で 30.7 もある。
◎
This is a huge difference; the ΔE2000 between the correct and incorrect results is 30.7!
</p>
</div>

<p>
百分率の正規化が`~alpha乗算子$を生成するときの計算は、
追加的な最後の段があることを除いて，同じになる。
◎
When the percentage normalization generates an alpha multiplier, the calculation is the same except for an additional last step.
</p>

<div class="example" id="ex-premultiply-srgb-2">

<p>
この例は、前と類似な例であり，
全~不透明でない［
~red, ~green
］を~sRGB内で［
25%, 75% 
］の~~割合で混合する。
◎
This example is similar to the previous one, 25% semi-opaque red and 75% semi-opaque green. mixed in sRGB.
</p>

<p>
しかしながら，この事例では、
混合-百分率が［
1 個目の色は 20%,
2 個目の色は 60%
］として指定されている。
これらを加算すると 80% になるので、
`~alpha乗算子$は 0.8 になる。
◎
However in this case the percentages are specified as 20% of the first color and 60% of the second. This adds to 80% so the alpha multiplier is 0.8.
</p>

<p>
混合-百分率は，係数 ［
1 ~DIV 0.8 = 1.25
］で拡縮され、
結果の［
20% ~MUL 1.25 = 25%
］, ［
60% ~MUL 1.25 = 75%
］は，前の例と同じ混合-百分率を与える。
◎
The mix percentages are then scaled by a factor of 100/80: 20% * 100/80 = 25% 60% * 100/80 = 75% giving the same final mix percentages as the previous example.
</p>

<pre class="lang-css">
color-mix(in srgb, rgb(100% 0% 0% / 0.7) 20%, rgb(0% 100% 0% / 0.2) 60%);
</pre>

<p>
計算は、次に従う：
◎
The calcuation is as follows:
</p>
<ul>
	<li>
`rgb(100% 0% 0% / 0.7)^vc
を乗算済みにした結果は
⇒
[0.7, 0, 0]
◎
rgb(100% 0% 0% / 0.7) when premultiplied, is [0.7, 0, 0]
</li>
	<li>
`rgb(0% 100% 0% / 0.2)^vc
を乗算済みにした結果は
⇒
[0, 0.2, 0]
◎
rgb(0% 100% 0% / 0.2) when premultiplied, is [0, 0.2, 0]
</li>
	<li>
これら乗算済みを補間した結果は
⇒＃
[0.7 ~MUL 0.25 ~PLUS 0 ~MUL (1 ~MINUS 0.25), 0 ~MUL 0.25 ~PLUS 0.2 ~MUL (1 ~MINUS 0.25), 0 ~MUL 0.25 ~PLUS 0 ~MUL (1 ~MINUS 0.25)]
= [0.175, 0.150, 0]
◎
the premultiplied, interpolated result is [0.7 * 0.25 + 0 * (1 - 0.25), 0 * 0.25 + 0.2 * (1 - 0.25), 0 * 0.25 + 0 * (1 - 0.25)] which is [0.175, 0.150, 0]
</li>
	<li>
補間した~alphaは
⇒＃
0.7 ~MUL 0.25 ~PLUS 0.2 ~MUL (1 ~MINUS 0.25)
= 0.325
◎
the interpolated alpha is 0.7 * 0.25 + 0.2 * (1 - 0.25) = 0.325
</li>
	<li>
非乗算済みにした結果は
⇒＃
[0.175 ~DIV 0.325, 0.150 ~DIV 0.325, 0 ~DIV 0.325]
= [0.53846, 0.46154, 0]
◎
the un-premultiplied result is [0.175 / 0.325, 0.150 / 0.325, 0 / 0.325] which is [0.53846, 0.46154, 0]
</li>
	<li>
なので、混合した結果の色は
⇒
`53.846%, 46.154%, 0%, 0.325^rgb
`color(srgb 0.53846 0.46154 0 / 0.325)^v
◎
so the mixed color would be color(srgb 0.53846 0.46154 0 / 0.325)
</li>
	<li>
`~alpha乗算子$ 0.8 があるので、
混合した結果の~alphaは，実際には
0.325 ~MUL 0.8 = 0.260 になる。
なので、混合した結果の色は，実際には
⇒
`53.846%, 46.154%, 0%, 0.260^rgb
`color(srgb 0.53846 0.46154 0 / 0.260)^v
◎
there is a 0.8 alpha multiplier, so the alpha of the mixed result is actually 0.325 * 0.8 = 0.260 so the mixed color is actually color(srgb 0.53846 0.46154 0 / 0.260)
</li>
</ul>
</div>

<p class="note">注記：
非-乗算済み~に戻すときには、［
補間した~alphaを`~alpha乗算子$で乗算した結果
］を利用しないこと。
そうするのは、混合-百分率を［
総和が 100% になるよう拡縮しなかった場合
］には正しくなるが，
`, but they are, ^en【？】
なので、この仕方は，混合した色を`重ねて^em調整することになる。
◎
Note: do not multiply the interpolated alpha by the alpha multiplier and then use that to undo premultiplication. That would be correct if the mix percentages were not scaled to sum to 100%, but they are, so doing it this way would adjust the mixed color twice.
</p>

		</section>
	</section>
	<section id="relative-colors">
<h2 title="Relative Color Syntax">3. 相対~色~構文</h2>

<p>
この仕様の以前の~levelでは、
色~関数は，絶対的な方式でしか色を指定できなかった
— すべての色~channelを直に指定することにより。
◎
In previous levels of this specification, the color functions could only specify colors in an absolute manner, by directly specifying all of the color channels.
</p>

<p>
新たな
`相対~色~構文@
（ `relative color syntax^en ）は、
既存の色を色~関数を利用して改変することを許容する。
それは、
`起点~色@
（ `origin color^en ）を指定する
— その場合，各~色~channelは、
直に指定することも，起点~色から
（場合によっては、`~math関数$で改変した上で）
とることもできる。
◎
The new relative color syntax allows existing colors to be modified using the color functions: if an origin color is specified, then each color channel can either be directly specified, or taken from the origin color (and possibly modified with math functions).
</p>

<p class="trans-note">【
そのような構文を利用している色~関数は、
“相対~色~関数” と総称される。
そのような構文を利用して生産される色は、
“相対~色” と総称される。
】</p>

<p>
以下【の各 下位節】では，
各種 色~関数にて`相対~色~構文$【！相対~色】を収容するための変更点を成す精確な詳細を挙げるが、
それらすべては共通な構造に従う：
◎
The precise details of each function’s changes to accomodate relative colors are listed below, but they all follow a common structure:
</p>

<ul>
	<li>
最初の引数として，`起点~色$を次の~~形で指定できる
⇒
<code class="prod">from `color$t</code>
◎
An origin color can be specified with a ''from &lt;color&gt;'' value at the start of the function.
</li>
	<li>
`起点~色$を指定した場合、
残りの各~引数は
— 通常通り直に指定する他にも —
`起点~色$を成す ある~channelを参照rしている
`~channel~keyword@
として指定することもできる。
これらの~keywordは、
`~math関数$内でも利用でき，`起点~色$の各~channelを動的に改変する。
◎
If an origin color is specified, the remaining arguments can either be specified directly, as normal, be specified as a channel keyword referring to one of the channels of the origin color. Math functions can also use these keywords to do dynamic modifications of the origin color’s channels.
</li>
	<li>
`相対~色~構文$においても、
引数が省略可能かどうかは，【元の構文から】変化しない。
しかしながら，~alpha値については、
省略された場合の既定は，`起点~色$からとられる
（絶対的な構文のときのように， `100%^v が既定にはならない）。
◎
Relative color syntax doesn’t change whether an argument is required or optional. If the alpha value is omitted, however, it defaults to taking from the origin color (rather than defaulting to 100%, as it does in the absolute syntax).
</li>
	<li>
`相対~色~構文$が適用されるのは、
現代の構文（各~成分を~spaceで, ~alphaを~slashで分離する）に限られ，
`旧来の色~構文$と伴には利用し得ない
— そうしようと試みるのは~errorである。
◎
Relative color syntax only applies to the modern (space separated components, / separator for alpha) syntax. It cannot be used with legacy color syntax and attempting to do so is an error.
</li>
</ul>

<p>
`起点~色$が当の色~関数と異なる色~関数で指定された場合、
各~channelから値をとれるようにするため，最初に当の色~関数の色~空間へ変換される。
◎
If the origin color was originally specified with a different color function, it’s first converted into the chosen color function, so it has meaningful values for the channels.
</p>

<div class="example">
<p>
例えば，ある~theme色が不透明として指定されているが、
特定0の~instanceに限り，部分的に透明にする必要がある場合：
◎
For example, if a theme color is specified as opaque, but in a particular instance you need it to be partially transparent:
</p>

<pre class="lang-css">
html { --bg-color: blue; }
.overlay {
  background: rgb(from var(--bg-color) r g b / 80%);
}
</pre>

<p>
この例では、
`起点~色$の［
`r^, `g^, `b^
］~channelは変更されない
— そのことは、
それらの値を`起点~色$から取り込む~keywordを指定することにより指示される。
一方で，不透明度は、
`起点~色$の不透明度に関わらず，少しだけ透明な `80%^v に設定される。
◎
In this example, the r, g, and b channels of the origin color are unchanged, indicated by specifying them with the keywords drawing their values from the origin color, but the opacity is set to 80% to make it slightly transparent, regardless of what the origin color’s opacity was.
</p>
</div>

<div class="example">
<p>
`~math関数$内で`~channel~keyword$を利用すれば、
もっと高度な仕方で`起点~色$を操作できる。
◎
By using the channel keywords in a math function, an origin color can be manipulated in more advanced ways.
</p>

<pre class="lang-css">
html { --color: green; }
.foo {
  --darker-accent: lch(from var(--color) calc(l / 2) c h);
}
</pre>

<p>
この例では、
`起点~色$を その明度を半分に抑えて暗化する
— 当の色の他の側面を変更することなく。
◎
In this example, the origin color is darkened by cutting its lightness in half, without changing any other aspect of the color.
</p>

<p>
`起点~色$は色~keywordである（したがって，~sRGBに属する）が、
`lch$f 関数~内で利用されているので，自動的に~LCH色として解釈されることにも注意。
◎
Note as well that the origin color is a color keyword (and thus, sRGB), but it’s automatically interpreted as an LCH color due to being used in the lch() function.
</p>
</div>

<div class="example">
<p>
`~channel~keyword$は
— ほとんどの`相対~色~構文$の利用では、
対応する引数にて利用することになろうが —
どの位置でも利用できる。
◎
While most uses of relative color syntax will use the channel keywords in their corresponding argument, you can use them in any position.
</p>
<p>
例えば，次は、
色を~grayscale化する大まかな近似を行う：
◎
For example, to do a rough approximation of grayscaling a color:
</p>

<pre class="lang-css">
--blue-into-gray: rgb(from var(--color)
                    calc(r * .3 + g * .59 + b * .11)
                    calc(r * .3 + g * .59 + b * .11)
                    calc(r * .3 + g * .59 + b * .11));
</pre>

<p>
これを利用すれば、［
`red$nc は `rgb(30% 30% 30%)^v ／
`lime$nc は `rgb(59% 59% 59%)^v ／
`blue$nc は `rgb(11% 11% 11%)^v
］になる。
`darkolivegreen$nc （~RGB値 `rgb(85 107 47)^v ）の様な より~~中間的な色は、
およそ `rgb(37% 37% 37%)^v になる。
◎
Using this, red would become rgb(30% 30% 30%), lime would become rgb(59% 59% 59%), and blue would become rgb(11% 11% 11%). A more moderate color, like darkolivegreen, which has RGB values rgb(85 107 47), would become approximately rgb(37% 37% 37%).
</p>

<p>
（大まかなわけは、
第一に［
これは，輝度~計算の様な見かけであるが、［
~red, ~green, ~blue
］値は，［
光に線形ではなく，~gamma符号化された空間
］内で操作される
］からであり，
第二に［
【 `calc^f 内の】重み付け係数は、
~sRGB用のそれではなく，廃用な~NTSC色~空間~用のそれである
］からである。）
◎
(Rough because firstly, although this looks like a luminance calculation, the red green and blue values are manipulated in gamma-encoded space rather than linear-light; secondly, the weighting factors are those for the obsolete NTSC color space, not sRGB.)
</p>

<p>
（この例は、
構文を~~説明するためでしかないことにも注意。
`oklch$f 関数を利用すれば、
もっと容易かつ正確aに色を~grayscale化できる
— その色~空間は、
ヒトの知覚において より正確aなので：
`oklch(from var(--color) l 0 h)^v は、
明度を保全しつつ，色の “~~鮮やかさ” を決定する色度を 0 化する。）
◎
(Note, too, that this is just to illustrate the syntax; an easier and more accurate way to grayscale a color is to use the oklch() function, as that color space is more accurate to human perception: oklch(from var(--color) l 0 h) preserves the lightness, but zeroes out the chroma, which determines how "colorful" the color is.)
</p>
</div>

		<section id="relative-RGB">
<h3 title="Relative sRGB Colors">3.1. 相対~sRGB色</h3>

<p>
`rgb$f 関数の文法は、
次のように拡張される：
◎
The grammar of the rgb() function is extended as follows:
</p>

<pre class="prod">
`rgb@f
	= rgb(
		[`percentage$t | `none$nc]{3}
		[ / [`alpha-value$t | `none$nc] ]? )
	| rgb(
		[`number$t | `none$nc]{3}
		[ / [`alpha-value$t | `none$nc] ]? )
	| rgb(
		[ from `color$t ]?
		[`number$t | `percentage$t | `none$nc]{3}
		[ / [`alpha-value$t | `none$nc] ]? )
`alpha-value@t
	= `number$t
	| `percentage$t
</pre>

<p>
`相対~色~構文$による `rgb$f 関数の中で許容される`~channel~keyword$は：
◎
Within a relative color syntax rgb() function, the allowed channel keywords are:
</p>
<ul>
	<li>
`rgb/r@ck
／
`rgb/g@ck
／
`rgb/b@ck
⇒
`起点~色$を~sRGBへ変換した結果の［
~red／~green／~blue
］~channelに対応する［
`percentage$t ／ `number$t
］（順不同）を与える。
100% に等価な `number$t は 255.0 。
◎
r, g, and b are all &lt;percentage&gt;s or &lt;number&gt;s that correspond to the origin color’s red, green, and blue channels after its conversion to sRGB. For &lt;number&gt;s, 255 (or 255.0) is equivalent to 100%.
</li>
	<li>
`rgb/alpha@ck
⇒
`起点~色$の~alpha透明度に対応する［
`number$t ／ `percentage$t
］を与える。
【 “~alpha透明度（ `alpha transparency^en ）” は、その字義に反して，実際には不透明度（ `opacity^en ）を表す（以下同様）。】
◎
alpha is a &lt;number&gt; or &lt;percentage&gt; that corresponds to the origin color’s alpha transparency
</li>
</ul>

<div class="example">
<p>
~sRGB色~空間~内で色~channelを操作するには：
◎
To manipulate color channels in the sRGB color space:
</p>
<pre class="lang-css">
rgb(from indianred 255 g b)
</pre>

<p>
これは、
~sRGB値 `indianred^vc（ `rgb(205 92 92)^v ）をとり，~red~channelを 255 に置換する。
その結果は、
`rgb(255 92 92)^vc になる。
◎
This takes the sRGB value of indianred (205 92 92) and replaces the red channel with 255 to give rgb(255 92 92).
</p>
</div>

<p>
`相対~色~構文$は、
旧来の~RGB構文-形【 `rgba$f 】には適用-可能でない。
◎
Relative color syntax is only applicable to the non-legacy RGB syntactic forms.
</p>

<div class="example invalid">
<p>
例えば、
`旧来の色~構文$ `rgba$f を利用しようとする次の試みは，不正になる。
◎
For example, this attempt to use the rgba legacy color syntax would be incorrect
</p>

<pre class="lang-css">
rgba(from darkblue 16 32 b / 0.5 )
</pre>

<p>
代わりに，次を利用すること：
◎
Instead, use
</p>

<pre class="lang-css">
rgb(from darkblue 16 32 b / 0.5 )
</pre>

<p>
これは、
`darkblue^vc の~sRGB値 (0 0 139) をとって，［
~red, ~green, ~alpha
］~channelを置換して，
`rgb(16 32 139 / 0.5)^vc を与える
◎
This takes the sRGB value of darkblue (0 0 139) and replaces the red, green and alpha channels to give rgb(16 32 139 / 0.5)
</p>
</div>

		</section>
		<section id="relative-HSL">
<h3 title="Relative HSL Colors">3.2. 相対~HSL色</h3>

<p>
`hsl$f 関数の文法は、
次のように拡張される：
◎
The grammar of the hsl() function is extended as follows:
</p>

<pre class="prod">
`hsl@f
	= hsl(
		[from `color$t]?
		[`hue$t | `none$nc]
		[`percentage$t | `number$t | `none$nc]
		[`percentage$t | `number$t | `none$nc]
		[ / [`alpha-value$t | `none$nc] ]? )
</pre>

<p>
`相対~色~構文$による `hsl$f 関数の中で許容される`~channel~keyword$は：
◎
Within a relative color syntax hsl() function, the allowed channel keywords are:
</p>

<ul>
	<li>
`hsl/h@ck
⇒
`起点~色$を~sRGBへ変換した結果の~HSL色相に対応する
`angle$t を与える
— 値は、範囲 [0°, 360°) に正規化される。
◎
h is an &lt;angle&gt; that corresponds to the origin color’s HSL hue after its conversion to sRGB, normalized to a [0deg, 360deg) range
</li>
	<li>
`hsl/s@ck
／
`hsl/l@ck
⇒
`起点~色$を~sRGBへ変換した結果の~HSL［
彩度／明度
］に対応する［
`percentage$t ／ `number$t
］（順不同）を与える。
◎
s and l are &lt;percentage&gt;s or &lt;number&gt;s that correspond to the origin color’s HSL saturation and lightness after its conversion to sRGB
</li>
	<li>
`hsl/alpha@ck
⇒
`起点~色$の~alpha透明度に対応する［
`number$t ／ `percentage$t
］を与える。
◎
alpha is a &lt;number&gt; or &lt;percentage&gt; that corresponds to the origin color’s alpha transparency
</li>
</ul>

<div class="example">
<p>
これは、色相~角度に 180° を加算して，補色を与える：
◎
This adds 180 degrees to the hue angle, giving a complementary color.
</p>

<pre class="lang-css">
--accent: lightseagreen;
--complement: hsl(from var(--accent) calc(h + 180deg) s l);
</pre>

<p>
`--accent^p の値 `lightseagreen^nc は
`hsl(177deg 70% 41%)^vc
なので、
`--complement^p は
`hsl(357deg 70% 41%)^vc
になる。
◎
lightseagreen is hsl(177deg 70% 41%), so --complement is hsl(357deg 70% 41%)
</p>
</div>

<p>
`相対~色~構文$は、
旧来の~HSL構文-形【 `hsla$f 】には適用-可能でない。
◎
Relative color syntax is only applicable to the non-legacy HSL syntactic forms.
</p>

		</section>
		<section id="relative-HWB">
<h3 title="Relative HWB Colors">3.3. 相対~HWB色</h3>

<p>
`hwb$f 関数の文法は、
次のように拡張される：
◎
The grammar of the hwb() function is extended as follows:
</p>

<pre class="prod">
`hwb@f
	= hwb(
		[from `color$t]?
		[`hue$t | `none$nc]
		[`percentage$t | `number$t | `none$nc]
		[`percentage$t | `number$t | `none$nc]
		[ / [`alpha-value$t | `none$nc] ]? )
</pre>

<p>
`相対~色~構文$による `hwb$f 関数の中で許容される`~channel~keyword$は：
◎
Within a relative color syntax hwb() function, the allowed channel keywords are:
</p>

<ul>
	<li>
`hwb/h@ck
⇒
`起点~色$を~sRGBへ変換した結果の~HWB色相に対応する
`angle$t を与える
— 値は、範囲 [0°, 360°) に正規化される。
◎
h is an &lt;angle&gt; that corresponds to the origin color’s HWB hue after its conversion to sRGB, normalized to a [0deg, 360deg) range
</li>
	<li>
`hwb/w@ck
／
`hwb/b@ck
⇒
`起点~色$を~sRGBへ変換した結果の~HWB［
白度／黒度
］に対応する［
`percentage$t ／ `number$t
］（順不同）を与える。
◎
w and b are &lt;percentage&gt;s or &lt;number&gt;s that correspond to the origin color’s HWB whiteness and blackness after its conversion to sRGB
</li>
	<li>
`hwb/alpha@ck
⇒
`起点~色$の~alpha透明度に対応する［
`number$t ／ `percentage$t
］を与える。
◎
alpha is a &lt;number&gt; or &lt;percentage&gt; that corresponds to the origin color’s alpha transparency
</li>
</ul>

		</section>
		<section id="relative-Lab">
<h3 title="Relative Lab Colors">3.4. 相対~Lab色</h3>

<p>
`lab$f 関数の文法は、
次のように拡張される：
◎
The grammar of the lab() function is extended as follows:
</p>

<pre class="prod">
`lab@f
	= lab(
		[from `color$t]?
		[`percentage$t | `number$t | `none$nc]
		[`percentage$t | `number$t | `none$nc]
		[`percentage$t | `number$t | `none$nc]
		[ / [`alpha-value$t | `none$nc] ]? )
</pre>

<p>
`相対~色~構文$による `lab$f 関数の中で許容される`~channel~keyword$は：
◎
Within a relative color syntax lab() function, the allowed channel keywords are:
</p>

<ul>
	<li>
`lab/l@ck
⇒
起点~色の~CIE明度（ L【！Lightness】 ）に対応する［
`percentage$t ／ `number$t
］を与える。
◎
l is a &lt;percentage&gt; or &lt;number&gt; that corresponds to the origin color’s CIE Lightness
</li>
	<li>
`lab/a@ck
／
`lab/b@ck
⇒
`起点~色$の~CIE~Lab［
`a^ ／ `b^
］軸に対応する［
`percentage$t ／ `number$t
］（順不同）を与える。
◎
a and b are &lt;percentage&gt;s or &lt;number&gt;s that correspond to the origin color’s CIELab a and b axes
</li>
	<li>
`lab/alpha@ck
⇒
`起点~色$の~alpha透明度に対応する［
`number$t ／ `percentage$t
］を与える。
◎
alpha is a &lt;number&gt; or &lt;percentage&gt; that corresponds to the origin color’s alpha transparency
</li>
</ul>

<div class="example">
<p>
基底~色の透明度を調整する複数の仕方：
◎
Multiple ways to adjust the transparency of a base color:
</p>
<ul>
	<li>
`lab(from var(--mycolor) l a b / 100%)^v
は、
`var(--mycolor)^v の~alphaを 100% に設定する
— 元は何であったかに関わらず。
◎
lab(from var(--mycolor) l a b / 100%) sets the alpha of var(--mycolor) to 100% regardless of what it originally was.
</li>
	<li>
`lab(from var(--mycolor) l a b / calc(alpha * 0.8))^v
`var(--mycolor)^v の~alphaを元の値の 20% に抑制する。
◎
lab(from var(--mycolor) l a b / calc(alpha * 0.8)) reduces the alpha of var(--mycolor) by 20% of its original value.
</li>
	<li>
`lab(from var(--mycolor) l a b / calc(alpha - 20%))^v
`var(--mycolor)^v の~alphaを 100% の 20% だけ抑制する。
◎
lab(from var(--mycolor) l a b / calc(alpha - 20%)) reduces the alpha of var(--mycolor) by 20% of 100%.
</li>
</ul>

<p>
~Labは，可視なすべての色を包摂するので、
すべての調整は色域~内に~~収まり，そのイミで~~情報は失われないことに注意。
これは、~sRGBに基づく関数（ `rgb^f, `hsl^f, `hwb^f など）における~alpha調整には該当しない
— それは、~alpha透明度を調整することに加え，~sRGBへ変換することになるので。
◎
Note that all the adjustments are lossless in the sense that no gamut clipping occurs, since lab() encompasses all visible color. This is not true for the alpha adjustments in the sRGB based functions (such as 'rgb()', 'hsl()', or 'hwb()'), which would also convert to sRGB in addition to adjusting the alpha transparency.
</p>
</div>

<div class="example">
<p>
正確に同じ明度を保ちながら，色を無~彩度な~grayにする：
◎
Fully desaturating a color to gray, keeping the exact same lightness:
</p>
<pre class="lang-css">
--mycolor: `orchid^nc;
/* <span class="comment">
`orchid^vc は `lab(62.753% 52.460 -34.103)^v
◎
orchid is lab(62.753% 52.460 -34.103)
</span> */
--mygray: lab(from var(--mycolor) l 0 0);
/* <span class="comment">
`--mygray^p は `lab(62.753% 0 0)^v
（ `rgb(59.515% 59.515% 59.515%)^vc ）になる
◎
mygray is lab(62.753% 0 0) which is rgb(59.515% 59.515% 59.515%)
</span> */
</pre>
</div>

		</section>
		<section id="relative-Oklab">
<h3 title="Relative Oklab Colors">3.5. 相対~Oklab色</h3>

<p>
`oklab$f 関数の文法は、
次のように拡張される：
◎
The grammar of the oklab() function is extended as follows:
</p>

<pre class="prod">
`oklab@f
	= oklab(
		[from `color$t]?
		[`percentage$t | `number$t | `none$nc]
		[`percentage$t | `number$t | `none$nc]
		[`percentage$t | `number$t | `none$nc]
		[ / [`alpha-value$t | `none$nc] ]? )
</pre>

<p>
`相対~色~構文$による `oklab$f 関数の中で許容される`~channel~keyword$は：
◎
Within a relative color syntax oklab() function, the allowed channel keywords are:
</p>

<ul>
	<li>
`oklab/l@ck
⇒
起点~色の~Oklab明度（ L【！Lightness】 ）に対応する［
`percentage$t ／ `number$t
］を与える。
◎
l is a &lt;percentage&gt; or &lt;number&gt; that corresponds to the origin color’s Oklab Lightness
</li>
	<li>
`oklab/a@ck
／
`oklab/b@ck
⇒
`起点~色$の~Oklab［
`a^ ／ `b^
］軸に対応する［
`percentage$t ／ `number$t
］（順不同）を与える。
◎
a and b are &lt;percentage&gt;s or &lt;number&gt;s that correspond to the origin color’s Oklab a and b axes
</li>
	<li>
`oklab/alpha@ck
⇒
`起点~色$の~alpha透明度に対応する［
`number$t ／ `percentage$t
］を与える。
◎
alpha is a &lt;number&gt; or &lt;percentage&gt; that corresponds to the origin color’s alpha transparency
</li>
</ul>

		</section>
		<section id="relative-LCH">
<h3 title="Relative LCH Colors">3.6. 相対~LCH色</h3>

<p>
`lch$f 関数の文法は、
次のように拡張される：
◎
The grammar of the lch() function is extended as follows:
</p>

<pre class="prod">
`lch@f
	= lch(
		[from `color$t]?
		[`percentage$t | `number$t | `none$nc]
		[`percentage$t | `number$t | `none$nc]
		[`hue$t | `none$nc]
		[ / [`alpha-value$t | `none$nc] ]? )
</pre>

<p>
`相対~色~構文$による `lch$f 関数の中で許容される`~channel~keyword$は：
◎
Within a relative color syntax lch() function, the allowed channel keywords are:
</p>
<ul>
	<li>
`lch/l@ck
⇒
起点~色の~CIE【~LCH？】明度（ L【！Lightness】 ）に対応する［
`percentage$t ／ `number$t
］を与える。
`percentage$t を与える。
◎
l is a &lt;percentage&gt; or &lt;number&gt; that corresponds to the origin color’s CIE Lightness
</li>
	<li>
`lch/c@ck
⇒
起点~色の~LCH色度（ C ）に対応する［
`percentage$t ／ `number$t
］（順不同）を与える。
`number$t を与える。
◎
c is a &lt;percentage&gt; or &lt;number&gt; that corresponds to the origin color’s LCH chroma
</li>
	<li>
`lch/h@ck
⇒
`起点~色$の~LCH色相（ H ）に対応する
`angle$t を与える
— 値は、範囲 [0°, 360°) に正規化される。
◎
h is an &lt;angle&gt; that corresponds to the origin color’s LCH hue, normalized to a [0deg, 360deg) range.
</li>
	<li>
`lch/alpha@ck
⇒
`起点~色$の~alpha透明度に対応する［
`number$t ／ `percentage$t
］を与える。
◎
alpha is a &lt;number&gt; or &lt;percentage&gt; that corresponds to the origin color’s alpha transparency
</li>
</ul>

<p>
~LCHは、［
知覚的に一様かつ色度を保全することに加え，その各~軸は容易に理解される色の属性に対応する
］ので，色~操作に適する。
◎
Because LCH is both perceptually uniform and chroma-preserving, and because the axes correspond to easily understood attributes of a color, LCH is a good choice for color manipulation.
</p>

<div class="example">
<p>
`lch(from peru calc(l * 0.8) c h)^v
は、
`peru^vc （ `lch(62.2532% 54.0114 63.6769)^v ）
より 20% 暗な色を生産する
— その色度と色相が~~保たれるよう。
結果は
`57.58% 32.47% 3.82%^rgb
`lch(49.80256% 54.0114 63.6769)^v
になる
◎
lch(from peru calc(l * 0.8) c h) produces a color that is 20% darker than peru or lch(62.2532% 54.0114 63.6769), with its chroma and hue left unchanged. The result is lch(49.80256% 54.0114 63.6769)
</p>
</div>

<div class="example">
<p>
これは、色相~角度に 180° を加算して，補色を与える：
◎
This adds 180 degrees to the hue angle, giving the complementary color.
</p>
<pre class="lang-css">
--accent: lightseagreen;
--complement: lch(from var(--accent) l c calc(h + 180deg));
</pre>

<p>
`lightseagreen^vc は
`lch(65.4937% 39.4484 190.1013)^v
なので、
`--complement^p は
`88.2814% 51.1047% 58.3039%^rgb
`lch(65.4937% 39.4484 370.1013)^v
になる。
◎
lightseagreen is LCH(65.4937% 39.4484 190.1013), so --complement is LCH(65.4937% 39.4484 370.1013)
</p>
</div>

<div class="example">
<p>
正確に同じ明度を保ちながら，色を無~彩度な~grayにする：
◎
Fully desaturating a color to gray, keeping the exact same lightness:
</p>

<pre class="lang-css">
--mycolor: `orchid^nc;
/* <span class="comment">
`orchid^vc は `lch(62.753% 62.571 326.973)^v
◎
orchid is lch(62.753% 62.571 326.973)
</span> */
--mygray: lch(from var(--mycolor) l 0 h);
/* <span class="comment">
`--mygray^p は `lch(62.753% 0 326.973)^v
（ `rgb(59.515% 59.515% 59.515%)^vc ）になる
◎
mygray is lch(62.753% 0 326.973) which is rgb(59.515% 59.515% 59.515%)
</span> */
</pre>

<p>
次の結果は、
彩度が`~~復活する^em（色相は保全されているので）：
◎
But now (since the hue was preserved) re-saturating again
</p>

<pre class="lang-css">
--mymuted: lch(from var(--mygray) l 30 h);
/* <span class="comment">
`--mymuted^p は `lch(62.753% 30 326.973)^v
（ `rgb(72.710% 53.293% 71.224%)^vc ）になる
◎
mymuted is lch(62.753% 30 326.973) which is rgb(72.710% 53.293% 71.224%)
</span> */
</pre>
</div>

<p>
しかしながら，~HSLと違って、
操作した結果が色域~内に入ることは保証されない。
◎
However, unlike HSL, manipulations are not guaranteed to be in-gamut.
</p>

<div class="example" id="ex-wildly-oog">

<p>
この例では、
新たな色
— 同じ明度, 色度を伴いつつ，色相は 120° 相違する色 —
を生産することを目指す。
`起点~色$は~RGB色域の内側にあるが，~LCH内で色相を回転すると色域~外の色を生産する。
◎
In this example, the aim is to produce a new color with the same Lightness and Chroma, but the triad (hue differs by 120 degrees). The origin color is inside the RGB gamut, but rotating the hue in LCH produces an out of gamut color.
</p>

<pre class="lang-css">
--mycolor: `86.1% 33.4% 97.6%^rgb lch(60% 90 320);
lch(from var(--mycolor) l c calc(h - 120));
</pre>

<p>
これは、色度がごく高い~blue-green
`lch(60% 90 200)^v
= `color(srgb -0.6 0.698 0.772)^v
を与えるので，~sRGBの色域~外になる（負な~red値）。
それは、
`display-p3$v でも `rec2020$v ですら色域~外になる（順に，
`color(display-p3 -0.46 0.68 0.758)^v,
`color(rec2020 -0.14 0.623 0.729)^v
になる）。
◎
This gives a very high-chroma blue-green, lch(60% 90 200) which is color(srgb -0.6 0.698 0.772) and thus out of gamut (negative red value) for sRGB. Indeed, it is out of gamut for display-p3: color(display-p3 -0.46 0.68 0.758) and even rec2020: color(rec2020 -0.14 0.623 0.729).
</p>

<p>
~sRGB色域の内側で最も近い色は、
`lch(60.71% 37.56 201.1)^v
— すなわち `rgb(0% 64.2% 66.3%)^vc —
になり、
色度は大きく異なる（ `90^v ではなく `37.56^v ）。
◎
The closest color inside the sRGB gamut would be lch(60.71% 37.56 201.1) which is rgb(0% 64.2% 66.3%). The difference in chroma (37.5, instead of 90) is huge.
</p>

<figure id="fig-LCH-rotation-oog">
<p class="alt" hidden id="_dgm-LCH-rotation-oog">
相対的な色~操作を示している~CIE C-H 平面の図式
— 中心の明度（ L ）軸~沿いに見下ろしている。
真中で a 軸, b 軸が交叉している。
ひしゃげた凸~多角形（点線）は、
~sRGB色~空間が占める色域を示す。
◎
Diagram of CIE CH plane showing relative color manipulation. The a and b axes are labelled, and cross in the middle. We are looking down the central Lightness axis. The maximal gamut of the sRGB color space is shown as an irregular, convex polygon.
</p>

<figcaption>
<p>
この図式は、
~CIE a-b 平面~内の~sRGB色域を示す。
小さな円は、
原色と二次色を指示する。
大きい円として示される
`86.1% 33.4% 97.6%^rgb 起点~色は，~sRGB用の色域~内にあるが、
~LCH色相が −120° 回転されたときは，色域~外になる（赤く縁取られた灰色の円）。
色域~対応付けを施した
`0% 64.2% 66.3%^rgb 結果の色度は、
ずっと低くなる。
◎
This diagram shows the sRGB gamut, in the CIE ab plane. Small circles indicate the primary and secondary color. The origin color, shown as a large circle, is in gamut for sRGB; but becomes out of gamut (shown as a grey fill and red border) when the LCH hue is rotated -120°. The gamut-mapped result has much lower chroma.
</p>
</figcaption></figure>

<p>
同じ演算を~HSL内で遂行すると，色域~内の結果を返すことになる。
が、それは他を満たしていない：
◎
Performing the same operation in HSL will return an in-gamut result. But it is unsatisfactory in other ways:
</p>

<pre class="lang-css">
--mycolor: `86.1% 33.4% 97.6%^rgb lch(60% 90 320);
hsl(from var(--mycolor) calc(h - 120) s l);
</pre>

<p>
~HSLにおいては、
`--mycolor^p は
`86.1% 33.4% 97.6%^rgb `hsl(289.18 93.136% 65.531%)^v
になるので，
120° 減算した結果は
`33.428% 97.634% 86.056%^rgb `hsl(169.18 93.136% 65.531%)^v 
を与える。
その結果を変換して~LCHに戻した結果は、
`33.428% 97.634% 86.056%^rgb `lch(89.0345% 49.3503 178.714)^v
になる
— 見て判るとおり、
~HSLにおける色相~回転-に因り，
明度は 60% から 89% に跳ね上がり,
色度は 90 から 49 へ落とされ,
色相は 実際には 141° 変化する
— 120° ではなく。
◎
In HSL, --mycolor is hsl(289.18 93.136% 65.531%) so subtracting 120 degrees gives hsl(169.18 93.136% 65.531%). Converting that result back to LCH lch(89.0345% 49.3503 178.714) we see that, due to the hue rotate in HSL, Lightness shot up from 60% to 89%, the Chroma has dropped from 90 to 49, and the Hue actually changed by 141 degrees not 120.
</p>
</div>

		</section>
		<section id="relative-Oklch">
<h3 title="Relative Oklch Colors">3.7. 相対~Oklch色</h3>

<p>
`oklch$f 関数の文法は、
次のように拡張される：
◎
The grammar of the oklch() function is extended as follows:
</p>

<pre class="prod">
`oklch@f
	= oklch(
		[from `color$t]?
		[`percentage$t | `number$t | `none$nc]
		[`percentage$t | `number$t | `none$nc]
		[`hue$t | `none$nc]
		[ / [`alpha-value$t | `none$nc] ]? )
</pre>

<p>
`相対~色~構文$による `oklch$f 関数の中で許容される`~channel~keyword$は：
◎
Within a relative color syntax oklch() function, the allowed channel keywords are:
</p>

<ul>
	<li>
`oklch/l@ck
⇒
起点~色の~Oklab明度（ L【！Lightness】 ）に対応する［
`percentage$t ／ `number$t
］を与える。
◎
l is a &lt;percentage&gt; or &lt;number&gt; that corresponds to the origin color’s Oklab Lightness
</li>
	<li>
`oklch/c@ck
⇒
起点~色の~Oklch色度（ C ）に対応する［
`percentage$t ／ `number$t
］を与える。
◎
c is a &lt;percentage&gt; or &lt;number&gt; that corresponds to the origin color’s Oklch chroma
</li>
	<li>
`oklch/h@ck
⇒
`起点~色$の~Oklch色相（ H ）に対応する
`angle$t を与える
— 値は、範囲 [0°, 360°) に正規化される。
◎
h is an &lt;angle&gt; that corresponds to the origin color’s Oklch hue, normalized to a [0deg, 360deg) range.
</li>
	<li>
`oklch/alpha@ck
⇒
`起点~色$の~alpha透明度に対応する［
`number$t ／ `percentage$t
］を与える。
◎
alpha is a &lt;number&gt; or &lt;percentage&gt; that corresponds to the origin color’s alpha transparency
</li>
</ul>

<div class="example" id="ex-oklch-wildly-oog">
<p>
この例では再び、
新たな色
— 同じ明度, 色度を伴いつつ，色相は 120° 相違する色 —
を生産することを目指す。
この例では、
~Oklch内で操作を行う。
`起点~色$は，~RGB色域の内側にあるが、
ここでも，~Oklch内で色相を回転すると色域~外の色を生産する。
◎
In this example, the aim is again to produce a new color with the same Lightness and Chroma, but the triad (hue differs by 120 degrees). In this example, we will do the manipulation in Oklch. The origin color is inside the RGB gamut, but rotating the hue in Oklch again produces an out of gamut color.
</p>

<pre class="lang-css">
--mycolor: `86.1% 33.4% 97.6%^rgb lch(60% 90 320);
oklch(from var(--mycolor) l c calc(h - 120));
</pre>

<p>
~Oklchにおいては、
`--mycolor^p は
`86.1% 33.4% 97.6%^rgb `oklch(69.012% 0.25077 319.893)^v
になる。
色相から 120 を減算した結果は、
色度がごく高い~blue-green
`oklch(69.012% 0.25077 199.893)^v
になる。
それは，~sRGBにおいては
`color(srgb -0.6018 0.7621 0.8448)^v
であり、
負な~red成分が指示するとおり，~sRGBの色域~外になる。
~Oklch色度を抑制してこれを色域の中へ持ち込むと
`0.079% 69.282% 72.067%^rgb `oklch(69.012% 0.1173 199.893)^v
が得られる。
~Oklch色度は、
0.251 から 0.117 へ落とされる。
◎
--mycolor is oklch(69.012% 0.25077 319.893). Subtracting 120 from the Hue gives a very high-chroma blue-green, oklch(69.012% 0.25077 199.893) which is out of sRGB gamut, color(srgb -0.6018 0.7621 0.8448) as the negative red component indicates. Bring this into gamut by reducing Oklch Chroma, yeilds oklch(69.012% 0.1173 199.893). The Oklch chroma has dropped from 0.251 to 0.117.
</p>
</div>
		</section>
	</section>
	<section id="color-function">
<h3 title="Specifying Custom Color Spaces: the color() Function">4. ~custom色~空間~内の色の指定-法： `color^f 関数</h3>

<p>
`color$f 関数により、
特定0の指定した`色~空間$内の色を指定できるようになる
（他のほとんどの色~関数が暗黙的に~sRGB色~空間の中で演算するのとは~~対照的に）。
◎
The color() function allows a color to be specified in a particular, specified color space (rather than the implicit sRGB color space that most of the other color functions operate in).
</p>

<p>
この~levelでは、
`color$f 関数は，次を許容するよう拡張される：
◎
In this level the color() function is＼
</p>
<ul>
	<li>
`~custom色~空間$
— `~level 4$ の`定義済み色~空間$に加えて。
◎
extended to allow custom color spaces, in addition to the predefined spaces from CSS Color 4 § 10 Predefined Color Spaces.
</li>
	<li>
相対的な色
— 絶対的な色のみならず。
◎
It is also extended to allow relative, rather than just absolute, colors.
</li>
</ul>

<p>
その構文は、
次に従って拡張される：
◎
Its syntax is extended as follows:
</p>

<pre class="prod">
`color@f
	= color(
		[from `color$t]?
		`colorspace-params$t
		[ / [ `alpha-value$t  | `none$nc ] ]? )
`colorspace-params@t
	= `custom-params$t
	| `predefined-rgb-params$t
	| `xyz-params$t
`custom-params@t
	= `dashed-ident$t [ `number$t | `percentage$t | `none$nc ]#
`predefined-rgb-params@t
	= `predefined-rgb$t [ `number$t | `percentage$t | `none$nc ]{3}
`predefined-rgb@t
	= srgb
	| srgb-linear
	| display-p3
	| a98-rgb
	| prophoto-rgb
	| rec2020
`xyz-params@t
	= `xyz$t [ `number$t | `percentage$t | `none$nc ]{3}
`xyz@t
	= xyz
	| xyz-d50
	| xyz-d65
</pre>

<p>
`color$f 関数は、
明示的に与えられた色~空間~内の色を指定する，一連の~parameterをとる。
◎
The color function takes parameters specifying a color, in an explicitly listed color space.
</p>

<p>
この関数は、以下に述べる
`無効な色@,
それ以外の
`妥当な色@
どちらかを表現する。
◎
It represents either an invalid color, as described below, or a valid color.
◎
Any color which is not an invalid color is a valid color.
</p>

<p>
色は、
`妥当な色$であっても，出力~機器（~screen／投影機／印刷機など）が生産できる色の範囲の外側になることもある。
そのような色は、
（出力~機器~用の）色~空間の
`色域~外@
（ `out of gamut^en ）にあるとされる。
【その否定は “色域~内（ `in-gamut^en ／ `in gamut^en ）” と称される。】
【！この定義は、文脈によっては，出力~機器に依存することになる。】
◎
A color may be a valid color but still be outside the range of colors that can be produced by an output device (a screen, projector, or printer). It is said to be out of gamut for that color space.
</p>

<p>
`色域~外$にある色には、［
0 以上 1 以下／ 0% 以上 100% 以下
］の範囲に入らない成分~値がある。
それは，`無効な色$ではなく、
代わりに，表示~用には［
`相対~色計量~意図$を利用して`色域~対応付け$が施され、
算出d値の時点で，この範囲に入る
］ようにされる。
◎
An out of gamut color has component values less than 0 or 0%, or greater than 1 or 100%. These are not invalid; instead, for display, they are gamut-mapped using a relative colorimetric intent which brings the values within the range 0/0% to 1/100% at computed-value time.
</p>

<p>
`妥当な色$は、
当の出力~機器（~screen／印刷機）用の［
色域~内,
`色域~外$
］どちらかにある。
◎
Each valid color is either in-gamut for the output device (screen, or printer), or it is out of gamut.
</p>

		<section id="relative-color-function">
<h3 title="Relative Color-Function Colors">4.1. 相対~色~関数による色</h3>

<p>
`相対~色~構文$による `color$f 関数のうち［
`custom-params$t を利用しているもの
］の中で許容される`~channel~keyword$の個数と名前は：
◎
Within a relative color syntax color() function using &lt;custom-params&gt;, the number and name of the allowed channel keywords are:
</p>
<ul>
	<li>
【 `dashed-ident$t に指定される名前に】
対応する `color-profile$at 規則は在るならば，その `components$d 記述子により定義される。
他の場合，当の相対~色~操作は妥当でない。
いずれも，`起点~色$を［
【当の規則の `src$d 記述子に指定された】
`色~profile$の色~空間
］へ変換した結果の各~channelに対応する［
`number$t ／ `percentage$t
］を与える。
100% に等価な `number$t は 1.0 。
◎
defined by the components descriptor on the corresponding @color-profile, if present; otherwise, no relative color manipulation is valid. They are &lt;number&gt;s or &lt;percentage&gt;s that correspond to the origin color’s channels after its conversion to the color space of the color profile. For &lt;number&gt;s, 1.0 corresponds to 100%.
</li>
</ul>

<p>
`相対~色~構文$による `color$f 関数のうち［
`predefined-rgb-params$t を利用しているもの
］の中で許容される`~channel~keyword$は：
◎
Within a relative color syntax color() function using &lt;predefined-rgb-params&gt;, the allowed channel keywords are:
</p>

<ul>
	<li>
`color/r@ck
／
`color/g@ck
／
`color/b@ck
⇒
`起点~色$を~RGB色~空間
— 【 `predefined-rgb$t が指示する】`定義済み色~空間$ —
へ変換した結果の［
~red／~green／~blue
］~channelに対応する［
`percentage$t ／ `number$t
］（順不同）を与える。
◎
r, g, and b are all &lt;percentage&gt;s or &lt;number&gt;s that correspond to the origin color’s red, green, and blue channels after its conversion to the predefined RGB color space.
</li>
</ul>

<p>
`相対~色~構文$による `color$f 関数のうち［
`xyz-params$t を利用しているもの
］の中で許容される`~channel~keyword$は：
◎
Within a relative color syntax color() function using &lt;xyz-params&gt;, the allowed channel keywords are:
</p>
<ul>
	<li>
`color/x@ck
／
`color/y@ck
／
`color/z@ck
⇒
`起点~色$を［
関連な白色点に順応された，相対~CIE~XYZ色~空間
］へ変換した結果の［
X ／ Y ／ Z
］~channelに対応する［
`percentage$t ／ `number$t
］（順不同）を与える。
◎
x, y, z are all &lt;percentage&gt;s or &lt;number&gt;s that correspond to the origin color’s X, Y and Z channels after its conversion to relative CIE XYZ color space adapted to the relevant white point.
</li>
</ul>

<p>
各~parameterは、
次の形をとる：
◎
The parameters have the following form:
</p>
<ol>
	<li>
<p>
`ident$t ／ `dashed-ident$t
⇒＃
前者（ `predefined-rgb$t ）は `~level 4$ の`定義済み色~空間$（ `display-p3^v など）を表す。
後者は それを名前に伴う `color-profile$at 規則により定義される`~custom色~空間$を表す。
◎
An &lt;ident&gt; or &lt;dashed-ident&gt; denoting the color space. If this is an &lt;ident&gt; it denotes one of the predefined color spaces CSS Color 4 § 10 Predefined Color Spaces (such as display-p3); if it is a &lt;dashed-ident&gt; it denotes a custom color space, defined by a @color-profile rule.＼
</p>

<p>
個々の定義済み色~空間は、
他の成分に［
`number$t, `percentage$t
］のうち どれを利用してヨイかを，さらに制約する。
◎
Individual predefined color spaces may further restrict whether &lt;number&gt;s or &lt;percentage&gt;s or both, may be used.
</p>

<p>
この引数が存在しない色~空間の名前を与えている
— すなわち，次に該当する —
場合、
`color^f 関数は`無効な色$を表現する：
◎
↓</p>
		<ul class="switch">
			<li>
`ident$t
⇒
どの`定義済み色~空間$の名前にも合致しないか、
合致するものはあるが，~supportされない
◎
If the &lt;ident&gt; names a non-existent color space (a name that does not match one of the predefined color spaces), or a predefined but unsupported color space, this argument represents an invalid color.
</li>
			<li>
`dashed-ident$t
⇒
どの`色~profile$の名前にも合致しないか、
合致するものはあるが，読込まれていないか妥当な~profileを表現していない
◎
If the &lt;dashed-ident&gt; names a non-existent color space ( a name that does not match an color profile’s name, or which matches but the corresponding profile has not loaded, or does not represent a valid profile), this argument represents an invalid color.
</li>
		</ul>
	</li>
	<li>
<p>
1 個~以上の［
`number$t ／ `percentage$t
］値
⇒
色~空間がとり得る一連の数量-~parameterを供する。
◎
One or more &lt;number&gt;s or &lt;percentage&gt;s providing the parameter values that the color space takes.
</p>

<p>
これらに対しては、
前項にて指定された色~空間に応じて：
◎
↓</p>
		<dl class="switch">
			<dt>
`~custom色~空間$の場合：
◎
For custom color spaces,＼
</dt>
			<dd>
指定された成分~値が［
0 以上 1 以下／ 0% 以上 100% 以下
］の範囲に入らない場合でも無効にはならない。
それらは、
算出d値の時点で妥当な範囲に切詰められる
— そうするのは、
~ICC~profileは，範囲~外の入力~値を概して受容しないからである。
◎
specified component values less than 0 or 0%, or greater than 1 or 100% are not invalid; they are clamped to the valid range at computed value time. This is because ICC profiles typically do not accept out of range input values.
</dd>
			<dd>
<p>
供された値の個数が当の色~空間がとる個数より多過ぎても少な過ぎても，
`無効な色$にすることはない：
◎
↓</p>
				<ul>
					<li>
多過ぎる場合、
末尾側の超過分は無視される。
◎
For custom color spaces, if more &lt;number&gt;s or &lt;percentage&gt;s are provided than parameters that the color space takes, the excess &lt;number&gt;s at the end are ignored. The color is still a valid color.
</li>
					<li>
少な過ぎる場合、
足りない~parameterは，既定で `0^v にされる
（これは特に，複~channel印刷機において、
追加的な~inkは~spot色か上塗り用で，ほとんどの色には利用されない場合に簡便になる）。
◎
For custom color spaces, if fewer &lt;number&gt;s or &lt;percentage&gt;s are provided than parameters that the color space takes, the missing parameters default to 0. (This is particularly convenient for multichannel printers where the additional inks are spot colors or varnishes that most colors on the page won’t use.) The color is still a valid color.
</li>
				</ul>
			</dd>

			<dt>
`定義済み色~空間$の場合：
◎
For predefined color spaces,＼
</dt>
			<dd>
指定された成分~値が［
0 以上 1 以下／ 0% 以上 100% 以下
］の範囲に入らない場合でも無効にはならない。
そのような`色域~外$にある色は、
算出d値の時点で
— `相対~色計量~意図$の下で —
妥当な範囲の色域~内に対応付けられる。
◎
specified component values less than 0 or 0%, or greater than 1 or 100% are not invalid; these out of gamut colors are gamut mapped to the valid range at computed value time, with a relative colorimetric intent.
</dd>
		</dl>
	</li>
	<li>
<p>
省略可能な、
~slashで分離された `alpha-value$t
⇒
`rgb$f 内の `alpha-value$t と同じ仕方で解釈される。
省略-時の既定は `100%^v になる。
◎
An optional slash-separated &lt;alpha-value&gt;. This is interpreted the same way as the &lt;alpha-value&gt; in rgb(), and if omitted it defaults to 100%.
</li>
</ol>

<div>
<p class="trans-note">【
以下，この節の内容（ `color$f 関数の使用~値，例）は、
`~level 4 と同じ＠~CSSCOLOR#_used-color-of-color-function$なので，
和訳は省略する。
】</p>
◎
A color which is either an invalid color or an out of gamut color can’t be displayed.
◎
If the specified color can be displayed, (that is, it isn’t an invalid color and isn’t out of gamut) then this is the used value of the color() function.
◎
If the specified color is a valid color but can’t be displayed, the used value is derived from the specified color, gamut-mapped for display.
◎
If the color is an invalid color, the used value is opaque black.
◎
This very intense lime color is in-gamut for rec.2020:
• color(rec2020 0.42053 0.979780 0.00579);
◎
in LCH, that color is
• lch(86.6146% 160.0000 136.0088);
◎
in display-p3, that color is
• color(display-p3 -0.6112 1.0079 -0.2192);
◎
and is out of gamut for display-p3 (red and blue are negative, green is greater than 1). If you have a display-p3 screen, that color is:
• valid
• in gamut (for rec.2020)
• out of gamut (for your display)
• and so can’t be displayed 
◎
The color used for display will be a less intense color produced automatically by gamut mapping.
◎
This example has a typo! An intense green is provided in profoto-rgb space (which doesn’t exist). This makes it invalid, so the used value is opaque black
◎
color(profoto-rgb 0.4835 0.9167 0.2188)
</div>

		</section>
		<section id="custom-color">
<h3 title="Custom Color Spaces">4.2. ~custom色~空間</h3>

<p>
~CSSでは、
ある色~profileを基準に`色$を指定することも許容される。
これには例えば、［
較正-済み~CMYK印刷機 ／
~RGB色~空間 ／
その他の`有特性$［
多彩色（ `color^en ）／単彩色（ `monochrome^en ）
］な出力~機器
］などもあり得る。
◎
CSS allows colors to be specified by reference to a color profile. This could be for example a calibrated CMYK printer, or an RGB color space, or any other color or monochrome output device which has been characterized.
</p>

<div class="example" id="ex-profiles-colors">
<p>
次の例は、
4 種の較正-済みな色を指定する。
うち最初の 2 つは，~custom空間
（ある `SWOP-coated^en ~CMYK刷版~用, ある広-色域な 7 色~ink印刷機~用）
であり、
他の 2 つは，`定義済み色~空間$（ `prophoto-rgb$v, `display-p3$v ）である。
各~事例において、
数量的な~parameterは範囲 0.0 〜 1.0 に入る
（例えば 0 〜 255 ではなく）。
◎
This example specifies four calibrated colors: two are custom spaces (for a SWOP-coated CMYK press, and for a wide-gamut seven-ink printer), the other two are predefined spaces (the ProPhoto RGB, and display-p3 RGB spaces). In each case, the numerical parameters are in the range 0.0 to 1.0 (rather than, for example, 0 to 255).
</p>

<pre class="lang-css">
color: color(--swopc 0.0134 0.8078 0.7451 0.3019);
color: color(--indigo 0.0941 0.6274 0.3372 0.1647 0 0.0706 0.1216);
color: color(prophoto-rgb 0.9137 0.5882 0.4784);
color: color(display-p3 0.3804 0.9921 0.1412);
</pre>
</div>

<p>
これらのうち， `dashed-ident$t を利用しているものが、
`~level 4$ の`定義済み色~空間$を利用していない色として判別される
— それらには、
当の名前と~profile~dataを接続するため，
~stylesheet内のどこかに合致する `color-profile$at ~at-規則も必要になる：
◎
The colors not using a predefined color space CSS Color 4 § 10 Predefined Color Spaces are distinguished by their use of &lt;dashed-ident&gt; and also need a matching @color-profile at-rule somewhere in the stylesheet, to connect the name with the profile data.
</p>

<div class="example" id="ex-profiles-colors-at">
<pre class="lang-css">
@color-profile --swopc {
  src: url('http://example.org/swop-coated.icc');}
@color-profile --indigo {
  src: url('http://example.org/indigo-seven.icc');}
</pre>
</div>

		</section>
		<section id="at-profile">
<h3 title="Specifying a Color Profile: the @color-profile at-rule">4.3. 色~profileの指定-法：`color-profile^at ~at-規則</h3>

<p>
`color-profile@at
規則は、
`色~profile@
を定義し，それに名前を与える。
後で `color$f 関数にて色を指定するときに，その名前を利用できる。
◎
The @color-profile rule defines and names a color profile which can later be used in the color() function to specify a color.
</p>

<p>
その構文は、次で定義される：
◎
It’s defined as:
</p>

<pre class="prod">
@color-profile
	= @color-profile [`dashed-ident$t | `device-cmyk^v] { `declaration-list$t }
</pre>

<p>
`dashed-ident$t が，~CSS~stylesheet内で利用することになる`色~profile$の名前を与える。
それに代えて， `device-cmyk^v ~keywordを与えた場合、
この色~profileは
— 妥当であるならば —
［
`device-cmyk$f 関数【！device-cmyk】にて指定した色を解決する
］ために利用されることになる。
◎
The &lt;dashed-ident&gt; gives the color profile’s name, by which it will be used in a CSS stylesheet. Alternatively, the device-cmyk keyword means that this color profile will, if valid, be used to resolve colors specified in device-cmyk.
</p>

<p>
`color-profile$at 規則は、
この仕様に定義される記述子を受容する。
◎
The @color-profile rule accepts the descriptors defined in this specification.
</p>

◎述 `src@d
◎用 `color-profile$at
◎値 `url$t
◎初 n/a
◎表終

<p>
`src$d 記述子は、
色~profile情報を検索取得するための~URLを指定する。
◎
The src descriptor specifies the URL to retrieve the color-profile information from.
</p>

<p>
検索取得した~ICC~profileは、
次が満たされるならば妥当とされる。
◎
The retrieved ICC profile is valid if
</p>
<ul>
	<li>
~ICC~profileとして構文解析できる，かつ
◎
it can be parsed as an ICC Profile
</li>
	<li>
［
`Input^i ／ `Display^i ／ `Output^i ／ `ColorSpace^i【！color space】
］に~~分類される~ICC~profileである
（［
`Abstract^i ／ `DeviceLink^i ／ `NamedColor^i
］に~~分類されるものは、
利用してはナラナイ）。
◎
it is an Input, Display, Output, or color space ICC profile. (Abstract, DeviceLink, and NamedColor ICC Profiles must not be used).
</li>
</ul>

<p>
妥当でない~profileを参照している~CSS色は、
どれも`無効な色$になる。
◎
If the profile is not valid, all CSS colors which reference this profile are invalid colors.
</p>

<div class="algo">
<p>
`外部の色~profileを~fetchする@
ときは、所与の
( `color-profile$at 規則 %規則 )
に対し：
</p>

<ol>
	<li class="algo">
%応答の処理n ~LET 所与の
( `応答$ %応答, ［
~NULL／`失敗^i／~byte~stream
］ %~stream )
に対し，次を走らす手続き
⇒
~IF［
%~stream は~byte~streamである
］
⇒
%~stream から構文解析された色~profileを適用する
</li>
	<li>
`~style資源を~fetchする$( %規則 の~URL, %規則 の`親~stylesheet$, `color-profile^l, `cors^l, %応答の処理n )
</li>
</ol>
◎
To fetch an external color profile, given a @color-profile rule rule, fetch a style resource given rule’s URL, with stylesheet being rule’s parent CSS style sheet, destination "color-profile", CORS mode "cors", and processResponse being the following steps given response |/res| and null, failure or a byte stream byteStream: If byteStream is a byte stream, apply the color profile as parsed from |byteStream.
</div>

<p class="note">注記：
~ICC~profile用の~MIME型は、
`application/vnd.iccprofile$c である。
◎
Note: The Internet Media Type ("MIME type") for ICC profiles is application/vnd.iccprofile.
</p>

◎述 `rendering-intent@d
◎用 `color-profile$at
◎値
`relative-colorimetric$v
| `absolute-colorimetric$v
| `perceptual$v
| `saturation$v
◎初 `relative-colorimetric$v
◎表終

<p>
`色~profile$は、
`描画~意図@
を包含する。
それは、
`色域~対応付け@
— 色を それを定義していた`色域$より狭い色域へ対応付ける（ `gamut-map^en する）方法 —
を定義する。
~profileが包含する描画~意図は，一つだけの場合が多いが、
複数ある場合は， `rendering-intent$d 記述子を利用して いずれかを選べる。
◎
Color profiles contain “rendering intents”, which define how to gamut-map their color to smaller gamuts than they’re defined over. Often a profile will contain only a single intent, but when there are multiple, the rendering-intent descriptor chooses one of them to use.
</p>

<p class="trans-note">【
描画~意図（ `colorimetric rendering intent^en, 略して `rendering intent^en ）
— 色域が異なる媒体で，色をどう再現するか（何を重視して再現するか）を表現する情報。
】</p>

<p>
アリな描画~意図 `ICC$r には、
次の 4 種がある：
◎
The four possible rendering intents are [ICC]:
</p>

<dl>
	<dt>`relative-colorimetric@v 【 “相対~色計量” 】</dt>
	<dd>
色計量が媒体に相対的になることが要求される
— すなわち，変換元の色は、
変換先~媒体の色域においても，双方の媒体の白色点から相対的に変化しない。
変換先~媒体の色域~外になる変換元の色は、
種々の手法を利用して，色域~境界の色に対応付けられる。
◎
Media-relative colorimetric is required to leave source colors that fall inside the destination medium gamut unchanged relative to the respective media white points. Source colors that are out of the destination medium gamut are mapped to colors on the gamut boundary using a variety of different methods.
</dd>
	<dd>
この`描画~意図$は、
黒色点~補償
— 黒色点も，変換元~媒体から変換先~媒体に対応付ける —
を伴って利用されることが多い。
この手法では、
変換元の白色点は，変換先の白色点に対応付けるモノトスル。
黒色点~補償も利用-中にある場合、
変換元の黒色点も，変換先の黒色点に対応付けるモノトスル。
白色点の変化に対する調整には、
順応~algoを利用するベキである。
変換元の色のうち，変換先の色域~内に入る各~色に対しては、
それらの相対的な関係性を保全するベキである。
変換先の色域~外になる色については、
相対的な関係性は変化し得る。
◎
The media-relative colorimetric rendering intent is often used with black point compensation, where the source medium black point is mapped to the destination medium black point as well. This method must map the source white point to the destination white point. If black point compensation is in use, the source black point must also be mapped to the destination black point. Adaptation algorithms should be used to adjust for the change in white point. Relative relationships of colors inside both source and destination gamuts should be preserved. Relative relationships of colors outside the destination gamut may be changed.
</dd>
	<dd class="trans-note">【
黒色点~補償（ `black point compensation^en ）
— 大雑把に言えば、
黒のつぶれも回避するように変換することに思われる。
】</dd>

	<dt>`absolute-colorimetric@v 【 “絶対~色計量” 】</dt>
	<dd>
色計量が~ICC色に関して絶対的になることが要求される
— すなわち、
変換元の色のうち，変換先~媒体の色域~内に入るものは、
順応された~white（全拡散反射板から反射される色）から相対的に変化しない。
変換元の色のうち，変換先~媒体の色域~外になるものは、
種々の手法を利用して，色域~境界の色に対応付けられる。
この手法は、
色域~内の色については，最も正確aに合致する色を生産するが、
変換先~媒体の白色点が変換元~媒体の白色点より~~暗い場合，
高明度（ `highlight^en ）付近がつぶれる結果になる。
この理由から、
色を正確に合致させる必要はあるが，
高明度~付近のつぶれは懸念されないような応用に限って利用することが推奨される。
◎
ICC-absolute colorimetric is required to leave source colors that fall inside the destination medium gamut unchanged relative to the adopted white (a perfect reflecting diffuser). Source colors that are out of the destination medium gamut are mapped to colors on the gamut boundary using a variety of different methods. This method produces the most accurate color matching of in-gamut colors, but will result in highlight clipping if the destination medium white point is lower than the source medium white point. For this reason it is recommended for use only in applications that need exact color matching and where highlight clipping is not a concern.
</dd>
	<dd>
この手法は、
色を変換する際には，［
白色点／黒色点
］の~~対応付けを不能化するモノトスル。
一般に，この~optionは、
~test用の目的を除き，推奨されない。
◎
This method MUST disable white point matching and black point matching when converting colors. In general, this option is not recommended except for testing purposes.
</dd>

	<dt>`perceptual@v 【 “知覚~重視” 】</dt>
	<dd>
この手法は、
画像に選好されることが多い
— とりわけ，変換元と変換先の間が相当に異なるときに
（反射~印刷-面に再現される，~screen~display用の画像など）。
これは、
~proprietaryな【言い換えれば，~UAに特有な】手法を利用して，
変換元の画像の色から変換先~媒体~用に画像の外観を最適化し直す。
その結果、変換元の色は，変換先の色域に入る色でも変化し得る
— 知覚的には、
元の基本的な審美的~意図を保守するように変形されて再現されることが想定されているが。
この手法は、
変換元の画像~内の~errorを補正しようと試みることはない
【何の~error？】。
◎
This method is often the preferred choice for images, especially when there are substantial differences between the source and destination (such as a screen display image reproduced on a reflection print). It takes the colors of the source image and re-optimizes the appearance for the destination medium using proprietary methods. This re-optimization may result in colors within both the source and destination gamuts being changed, although perceptual transforms are supposed to maintain the basic artistic intent of the original in the reproduction. They will not attempt to correct errors in the source image.
</dd>
	<dd class="note">注記：
v2 ~ICC~profileでは，知覚的な基準~媒体が指定されていないため、
相互運用能の問題が生じ得る。
v2 ~ICC~profileの利用-時には、
`描画~意図$ `perceptual$v に代えて，黒色点~補償を伴う `relative-colorimetric$v を利用する方が安全になり得る
— 特定の［
変換元, 変換先
］が利用され、
それらの~profileの組合nの下で，欲される結果が生産されるものと検査-済みであれば別だが。
◎
Note: With v2 ICC profiles there is no specified perceptual reference medium, which can cause interoperability problems. When v2 ICC profiles are used it can be safer to use the media-relative colorimetric rendering intent with black point compensation, instead of the perceptual rendering intent, unless the specific source and destination profiles to be used have been checked to ensure the combination produces the desired result.
</dd>
	<dd>
この手法は、
~target機器の色域に対応付ける際に，画素どうしの相対的な色~値を保守するべきである。
この手法は、
色相ずれや不連続性を避けて，風景の全体的な外観をアリな限り保全するため、
~target機器の色域に元から入っていた画素~値も変更し得る。
◎
This method should maintain relative color values among the pixels as they are mapped to the target device gamut. This method may change pixel values that were originally within the target device gamut, in order to avoid hue shifts and discontinuities and to preserve as much as possible the overall appearance of the scene.
</dd>

	<dt>`saturation@v 【 “彩度~重視” 】</dt>
	<dd>
この~optionは、
元の相対的な彩度（色度）を保全して，単色を純に保つために創出された。
しかしながら、
`描画~意図$ `perceptual$v の様な相互運用能の問題があることも判っている。
単色の保全は，基準~媒体に~~帰順させられないので、
v4 ~profileを利用しても，その問題は解消できない。
この描画~意図の利用は推奨されない
— 特定の［
変換元, 変換先
］が利用され、
それらの~profileの組合nの下で，欲される結果が生産されるものと検査-済みであれば別だが。
この~optionは、
元の画素の相対的な彩度（色度）値を保全する。
色域~外の色は、
色域~内に入る同じ彩度の色に変換するベキである。
◎
This option was created to preserve the relative saturation (chroma) of the original, and to keep solid colors pure. However, it experienced interoperability problems like the perceptual intent, and as solid color preservation is not amenable to a reference medium solution using v4 profiles does not solve the problem. Use of this rendering intent is not recommended unless the specific source and destination profiles to be used have been checked to ensure the combination produces the desired result. This option should preserve the relative saturation (chroma) values of the original pixels. Out of gamut colors should be converted to colors that have the same saturation but fall just inside the gamut.
</dd>
</dl>

◎述 `components@d
◎用 `color-profile$at
◎値 `ident$t#
◎初 n/a
◎表終

<p>
色~profileは、
可変個数の成分を包含する色~空間を定義できる。
例えば：
◎
Color profiles can define color spaces which contain a varying number of components. For example,＼
</p>
<ul>
	<li>
［
~cyan, ~magenta, ~yellow, ~black
］（~CMYK）~profileは、［
`c^v, `m^v, `y^v, `k^v
］と命名される 4 個の成分を利用するかもしれない。
◎
a Cyan, Magenta, Yellow and Black (CMYK) profile has four components named c, m, y and k＼
</li>
	<li>
4 個の成分からなる加法的な~screen~profileは、［
`r^v, `g^v, `y^v, `b^v
］と命名される 4 個の成分を利用するかもしれない。
◎
While a four-component additive screen profile might use four components named r, g, y and b.
</li>
</ul>

<p>
この記述子の値は、
~commaで分離された一連の `ident$t ~tokenが成す~listである
⇒＃
各~tokenは、
色~profile内で利用される順序で，ある成分を命名する。
~tokenの総数は、
成分の個数を定義する。
◎
The value of this descriptor is a comma-separated list of &lt;ident&gt; tokens. Each &lt;ident&gt;&gt; names a component, in the order in which they are used in the color profile, while the total number of tokens defines the number of components.
</p>

<div class="example" id="ex-components-cmyk">
<p>
次の記述子は、［
`cyan^v, `magenta^v, `yellow^v, `black^v
］と命名される 4 個の成分が在ることを宣言する：
◎
This descriptor declares that there are four components named cyan, magenta, yellow and black:
</p>

<pre class="lang-css">
components: cyan, magenta, yellow, black
</pre>

<p>
一方で，次の記述子は、
簡素な名前を~~採用する：
◎
while this descriptor opts for terser names:
</p>

<pre class="lang-css">
components: c,m,y,k
</pre>
</div>

<div class="example" id="ex-components-cmykogv">

<p>
次の記述子は、［
`cyan^v,
`magenta^v,
`yellow^v,
`black^v,
`orange^v,
`green^v,
`violet^v
］と命名される 7 個の成分が在ることを宣言する：
◎
This descriptor declares that there are seven components named cyan, magenta, yellow, black, orange, green and violet:
</p>

<pre class="lang-css">
components: cyan, magenta, yellow, black, orange, green, violet
</pre>
</div>

<p>
各~成分は、
"`none^v" と命名してはナラナイ
— 欠落している値~用の~token【 `none$nc 】と衝突することになるので。
この記述子が "`none^v" と呼ばれる成分を包含する場合、
無効になる。
◎
A component must not be named ‘none’, because that would clash with the token for missing values. If this descriptor contains a component called ‘none’, the descriptor is invalid.
</p>

<p>
［
ある成分~用に選ばれた名前
］が［
`~CSS数量-定数＠~CSSVAL#calc-constants$として定義された名前
］と衝突する場合
⇒
当の成分は依然として妥当ではあるが、
`calc$f 【などの`~math関数$】の内側においては，
当の成分は当の数量-定数により隠蔽され，期待されない結果へ至らす。
◎
If the name chosen for a component clashes with a CSS numeric constant as defined in CSS Values 4 § 10.7 Numeric Constants: e, pi the component is still valid, but inside calc() the component will be shadowed by the numeric constant leading to unexpected results.
</p>

<div class="example" id="ex-component-pi">
<p>
次の記述子は、
成分の名前に，うかつにも `pi$v を用いる
— `相対~色~構文$においては、
期待されない結果に至る。
◎
This descriptor unwisely calls a component pi, leading to unexpected results in Relative Color Syntax.
</p>

<pre class="lang-css">
@color-profile --unwise {
  src: url(https://example.com/unwise);
  components: mi, pi, ni;
}
--base: color(--unwise 35% 20% 8%);
--accent: color(from var(--base) mi calc(pi * 2) calc(ni / 2));
</pre>

<p>
ここでは、
`--accent^p の 2 個目の成分~値は，円周率の 2 倍（ 6.28318… ）になる。
◎
Here, the component values of --accent are 35%, 3.14159265358979 * 2 = 6.28318530717959, 4%.
</p>
</div>

		</section>
		<section id="cal-cmyk">
<h3 title="CSS and Print: Using Calibrated CMYK and Other Printed Color Spaces">4.4. ~CSSと印刷： 較正-済み~CMYKその他の，印刷される色~空間の利用-法</h3>

<p>
`color-profile$at ~at-規則は、
~RGB色~空間に制約されない。
~screenは，色を概して~RGBで直に表示するが、
印刷機は色を~CMYKで表現することが多い。
◎
The @color-profile at-rule is not restricted to RGB color spaces. While screens typically display colors directly in RGB, printers often represent colors with CMYK.
</p>

<p>
~CMYK（ `Cyan Magenta Yellow Black^en ）による`較正-済み$な 4 色~印刷や，
~CMYKOGV（ `Cyan Magenta Yellow Black Orange Green Violet^en ）などの
追加的な~inkを伴う忠実度が高い広-色域な印刷-法は、
~CSSにおいても
— 利用する［
~ink, 紙, 総~ink被覆率, 機材
］の組合nに対応する~ICC~profileを供すれば —
行える。
◎
Calibrated four color print with Cyan, Magenta, Yellow and Black (CMYK), or high-fidelity wide gamut printing with additional inks such as Cyan Magenta Yellow Black Orange Green Violet (CMYKOGV) can also be done in CSS, provided you have an ICC profile corresponding to the combination of inks, paper, total ink coverage and equipment you will use.
</p>

<div class="example" id="ex-fogra">
<p>
115gsm【 gsm は g/m<sup>2</sup> 単位（坪量）】の塗工~紙に~offset印刷するときの例
— ［
`ISO 12647-2:2004 / Amd 1:2007^en,
`FOGRA39^en 特性評価~data
］を利用し，~inkの総面積被覆率
（ <abbr title="Total Area Coverage" lang="en">TAC</abbr> ）
は 300% に制限される下で：
◎
For example, using offset printing to ISO 12647-2:2004 / Amd 1:2007 using the FOGRA39 characterization data on 115gsm coated paper with an ink limit of 300% Total Area Coverage.
</p>

<pre class="lang-css">
@color-profile --fogra39 {
  src: url('https://example.org/Coated_Fogra39L_VIGC_300.icc');
}
.header {
  background-color: color(--fogra39 0% 70% 20% 0%);
}
</pre>

<p>
ここでの `color$f 関数は、
まず，~profileに与えた名前を言明してから，［
~cyan, ~magenta, ~yellow, ~black
］の順に百分率を与えている。
◎
Here the color() function first states the name we have given the profile, then gives the percentage of cyan, magenta, yellow, and black.
</p>

<p>
この~profileにおいては、
これは次の色に解決される
⇒
`93.124% 44.098% 57.491%^rgb
`lab(63.673303% 51.576902 5.811058^v
（ ~EQ `rgb(93.124, 44.098% 57.491%)^v ）
◎
In this profile, this resolves to the color lab(63.673303% 51.576902 5.811058) which is rgb(93.124, 44.098% 57.491%).
</p>
</div>

<p>
所与の~CMYKの組合nから得られた結果の実際の色は既知なので、
印刷された出力の~screen上での視覚-化（ `soft-proof^en ）を為せる。
◎
Because the actual color resulting from a given CMYK combination is known, an on-screen visualization of the printed output (soft-proof) can be made.
</p>

<p>
また，色を知ることに依拠する手続-
（~anti-aliasing, 組成-法, ~gradient内に色を利用する, 等々）
は、通常通り続行できる。
◎
Also, procedures that rely on knowing the color (anti-aliasing, compositing, using the color in a gradient, etc) can proceed as normal.
</p>

<figure id="fig-fogra51-roundtrip">
<p class="alt" hidden id="_dgm-macbeth-roundtrip">
一群の色付けられた升目が成す格子。
A 〜 F と~labelされた 6 本の列と，
1 〜 4 と~labelされた 4 本の行がある。
◎
A grid of colored squares. There are six columns, labelled A to F, and four rows, labelled 1 to 4.
</p>

<figcaption>
<p>
［
印刷-／写真-
］業界で色の忠実度を確保するために利用される，ある色~検査器。
各~patchには，測定して平均した~Lab値が示される。
各 矩形は、
~sRGBへ変換された~Lab値を示す。
矩形の中の かすかに可視な真円は、
同じ~Lab値を `FOGRA51^en ~ICC~profileを通過して~CMYKへ変換した結果を示す。
これらの~CMYK値は、
新たな~Lab値を得るため，同じ~ICC~profileを逆向きに通過する。
図では さらに、表示-用に~sRGBへ変換されている。
◎
A color checker, used for ensuring color fidelity in the print and photographic industries. Averaged measured Lab values are available for each patch. The rectangles show the Lab values, converted to sRGB. The circles, which are barely visible, show the Lab values, passed through a FOGRA51 ICC profile to convert them to CMYK. The CMYK values are then passed through the same ICC profile in reverse, to yield new Lab values. These are then converted to sRGB for display.
</p>

<p>
3 行目の左端の~patchが他より可視な真円になっているのは、
その色が，利用されている `FOGRA51^en ~CMYK空間の色域から少し外側にあることによる。
◎
The one patch with a more visible circle (third row, first patch) is because the color is slightly outside the gamut of the FOGRA51 CMYK space used.
</p>

<p>
各~patchに対し，［
元の~Lab値, ~CMYKを通して往来した後の~Lab値
］の間の~DeltaE 2000 を下の表に示す。
~DeltaE 2000 が 1 以上なら，可視になる【ヒトが差を知覚できる】。
◎
The table below shows, for each patch, the DeltaE 2000 between the original Lab and the Lab value after round-tripping through CMYK. A DeltaE 2000 of 1 or more is just visible.
</p>

<table class="deltaE"><thead>
<tr><td><th>A<th>B<th>C<th>D<th>E<th>F
</thead><tbody>
<tr><th>1
<td class="dE0">0.06
<td class="dE0">0.07
<td class="dE0">0.03
<td class="dE0">0.04
<td class="dE0">0.06
<td class="dE0">0.17

<tr><th>2
<td class="dE0">0.03
<td class="dE0">0.75
<td class="dE0">0.05
<td class="dE0">0.06
<td class="dE0">0.03
<td class="dE0">0.02

<tr><th>3
<td class="dE2">1.9
<td class="dE0">0.04
<td class="dE0">0.06
<td class="dE0">0.05
<td class="dE0">0.02
<td class="dE0">0.05

<tr><th>4
<td class="dE0">0.03
<td class="dE0">0.08
<td class="dE0">0.03
<td class="dE0">0.03
<td class="dE0">0.04
<td class="dE0">0.80
</tbody></table>

</figcaption></figure>

<div class="example" id="ex-swop5v2">
<p>
`grade 5^en の紙に~offset印刷するときの例
— ［
`ISO 12647-2:2004^en,
`CGATS/SWOP TR005 2007^en 特性評価~data,
~gray成分~置換
（<abbr lang="en" title="gray component replacement">GCR</abbr>）
は中程度（ `medium^en ）
］を利用し，~inkの総面積被覆率は 300% に制限される下で：
◎
This example is using offset printing to ISO 12647-2:2004 using the CGATS/SWOP TR005 2007 characterization data on grade 5 paper with an ink limit of 300% Total Area Coverage, and medium gray component replacement (GCR).
</p>

<pre class="lang-css">
@color-profile --swop5c {
  src: url('https://example.org/SWOP2006_Coated5v2.icc');
}
.header {
  background-color: color(--swop5c 0% 70% 20% 0%);
}
</pre>

<p>
この~profileにおいては、
この量の~CMYK（前の例と同じ百分率）は，次の色に解決される
⇒
`94.903% 45.248%  59.104%^rgb
`lab(64.965217% 52.119710 5.406966)^v
（ ~EQ `rgb(94.903% 45.248% 59.104%)^v ）
◎
In this profile, this amount of CMYK (the same percentages as the previous example) resolves to the color lab(64.965217% 52.119710 5.406966) which is rgb(94.903% 45.248% 59.104%).
</p>
</div>

<p>
~fallback色も
— 例えば，媒体~queryを利用して —
指定でき、［
指定された~CMYK色が~sRGB色域の外側にあることが既知な場合
］に利用されることになる。
◎
Fallback colors can be specified, for example using media queries, to be used if the specified CMYK color is known to be outside the sRGB gamut.
</p>

<div class="example" id="ex-fogra39-fallback-mq">
<p>
この例は、
【後者の `media^at 内で】上と同じ `--fogra39^v ~profileを利用するが，~sRGB色域の外側にある鮮やかな~greenを指定する。
しかしながら，この色は `display-p3$v 色域の内側にあるので、［
広-色域~screen／印刷
］においては，そのまま表示される。
~sRGB~screen上では，【前者の `media^at 内の】鮮やかさに劣る~fallback色が利用される。
◎
This example uses the same FOGRA39 setup as before, but specifies a bright green which is outside the sRGB gamut. It is, however, inside the display-p3 gamut. Therefore it is displayed as-is on wide gamut screens and in print, and a less intense fallback color is used on sRGB screens.
</p>

<pre class="lang-css">
@media (color-gamut: srgb) {
  .header {
    background-color: rgb(8.154% 60.9704% 37.184%);
  }
}
@media print, (color-gamut: p3){
  .header {
    background-color: color(--fogra39 90% 0% 90% 0%);
  }
}
</pre>

<p>
この~CMYK色【 `color(--fogra39 …)^v 】は、
`lab(56.596645% -58.995875 28.072154)^v
（ ~EQ `lch(56.596645% 65.33421077211648 154.5533771086801)^v ）
に対応する。
これは，~sRGBにおいては
`rgb(-60.568% 62.558% 32.390%)^v
になり、
大幅に負な~red成分が示すとおり，色域~外にある。
◎
This CMYK color corresponds to lab(56.596645% -58.995875 28.072154) or lch(56.596645% 65.33421077211648 154.5533771086801). In sRGB this would be rgb(-60.568% 62.558% 32.390%) which, as the large negative red component shows, is out of gamut.
</p>

<p>
結果が色域に入るまで色度を抑制すると，
`lch(56.596645% 51 154.5533771086801)^v
になり、
手動で指定した~fallback色
`rgb(8.154% 60.9704% 37.184%)^vc
に一致する。
◎
Reducing the chroma until the result is in gamut gives lch(56.596645% 51 154.5533771086801) which is rgb(8.154% 60.9704% 37.184%) and this has been manually specified as a fallback color.
</p>

<p>
広-色域~screen用には、
この色は `display-p3$v 色域の内側にある
（ `display-p3(0.1658 0.6147 0.3533)^v になる）。
◎
For wide gamut screens, the color is inside the display-p3 gamut (it is display-p3(0.1658 0.6147 0.3533) ).
</p>
</div>

<p>
色は 4 ~ink（~CMYK）に制約されない。
例えば，広-色域な 7 色~inkも利用できる。
◎
Colors are not restricted to four inks (CMYK). For example, wide-gamut 7 Color ink sets can be used.
</p>

<div class="example" id="ex-fogra55beta-7color">
<p>
この例は、
~KCMYOGV 7 色で印刷するために
`beta FOGRA55 dataset^en
を利用する。
うち 4 個の~ink
— ~black, ~cyan, ~magenta, ~yellow —
は、
`FOGRA51 set^en と同じであり，同じ結果を与える。
他の 3 個の~inkは
⇒＃
Pantone Orange 021C,
Pantone Green C,
Pantone Violet C
◎
This example uses the beta FOGRA55 dataset for KCMYOGV seven-color printing. Four of the inks - black, cyan, magenta, and yellow - are the same as, and give the same results as, the FOGRA51 set. The other three inks are:
• Pantone Orange 021C
• Pantone Green C
• Pantone Violet C 
</p>

<p>
測定~条件は M1 である
— すなわち、
紙~内の蛍光染料は織り込まれ，分光光度計には~UV-cut~filterは無い。
◎
The measurement condition is M1, which means that optical brighteners in the paper are accounted for and the spectrophotometer has no UV-cut filter.
</p>

<pre class="lang-css">
@color-profile --fogra55beta {
  src: url('https://example.org/2020_13.003_FOGRA55beta_CL_Profile.icc');
}
.dark_skin {
  background-color: `45.8702% 32.0071% 26.3813%^rgb
  color(--fogra55beta 0.183596 0.464444 0.461729 0.612490 0.156903 0.000000 0.000000);
}
.light_skin {
  background-color: `78.0170% 58.1957% 50.7737%^rgb
  color(--fogra55beta 0.070804 0.334971 0.321802 0.215606 0.103107 0.000000 0.000000);
}
.blue_sky {
  background-color: `35.8614% 48.0665% 61.6556%^rgb
  color(--fogra55beta 0.572088 0.229346 0.081708 0.282044 0.000000 0.000000 0.168260);
}
.foliage {
  background-color: `34.9582% 42.3446% 25.4209%^rgb
  color(--fogra55beta 0.314566 0.145687 0.661941 0.582879 0.000000 0.234362 0.000000);
}
.blue_flower {
  background-color: `51.2952% 50.4131% 68.9186%^rgb
  color(--fogra55beta 0.375515 0.259934 0.034849 0.107161 0.000000 0.000000 0.308200);
}
.bluish_green {
  background-color: `36.8792% 74.3685% 67.4749%^rgb
  color(--fogra55beta 0.397575 0.010047 0.223682 0.031140 0.000000 0.317066 0.000000);
}
</pre>
</div>

		</section>
		<section id="cmyk-to-lab">
<h3 title="Converting CMYK colors to Lab">4.5. ~CMYK色から~Lab色への変換-法</h3>

<p>
`較正-済み$な~CMYK色~空間から~Labへの変換は、
概して，~ICC~profile内で~Lab値を検索することにより行われる。
◎
Conversion from a calibrated CMYK color space to Lab is typically done by looking up the Lab values in an ICC profile.
</p>

		</section>
		<section id="lab-to-cmyk">
<h3 title="Converting Lab colors to CMYK">4.6. ~Lab色から~CMYK色への変換-法</h3>

<p>
印刷-用には、
~Lab色は，印刷機の色~空間へ変換される必要がある。
◎
For print, Lab colors will need to be converted to the color space of the printer.
</p>

<p>
これは、
概して，~ICC~profile内で~CMYK値を検索することにより行われる。
◎
This is typically done by looking up the CMYK values in an ICC profile.
</p>

		</section>
	</section>
	<section id="device-cmyk">
<h2 title="Uncalibrated CMYK Colors: the device-cmyk() Function">5. 未較正な~CMYK色： `device-cmyk^f 関数</h2>

<p>
所与の印刷機が［
`較正-済み$ではないが，特定0の~inkたちの組合n用の出力は［
実験結果を通して, または印刷された色見本帳を介して
］既知であるとき
］は、［
~CMYK色を機器に依存する仕方で表出する
］ことが有用になることも，ときにはある。
◎
Sometimes, when a given printer has not been calibrated, but the output for particular ink combinations is known through experimentation, or via a printed sample swatchbook, it is useful to express CMYK colors in a device-dependent way.
</p>

<p class="note">注記：
実際の結果の色は未知なこともあるので、
その場合，［
~CSS処理器は、
それを近似しようと試みる
］ことになろう。
この近似は、
実際に印刷される結果から視覚的にかけ離れる見込みが高い。
◎
Note: Because the actual resulting color can be unknown, CSS processors might attempt to approximate it. This approximation is likely to be visually very far from the actual printed result.
</p>

<p>
`device-cmyk$f 関数により、
作者は，この仕方で色を指定できるようになる：
◎
The device-cmyk() function allows authors to specify a color in this way:
</p>

<pre class="prod">
`device-cmyk@f
	= device-cmyk( `cmyk-component$t{4} [ / `alpha-value$t ]? )
`cmyk-component@t
	= `number$t
	| `percentage$t
</pre>

<p>
`device-cmyk$f 関数の引数のうち：
◎
The arguments of the device-cmyk() function＼
</p>
<ul>
	<li>
最初から 4 個の引数は、
順に，［
~cyan, ~magenta, ~yellow, ~black
］成分を
範囲 0 〜 1 の実数, または
範囲 0% 〜 100% の百分率で指定する。
これら 2 つの用法は等価であり，互いの対応関係は線形になる。
この範囲~外の値も無効にはされないが、
それらは算出d値の時点で範囲~内に切詰められる。
◎
specify the cyan, magenta, yellow, and black components, in order, as a number between 0 and 1 or a percentage between 0% and 100%. These two usages are equivalent, and map to each other linearly. Values less than 0 or 0%, or greater than 1 or 100%, are not invalid; instead, they are clamped to 0/0% or 1/100% at computed-value time.
</li>
	<li>
5 個目の引数は、
色の~alpha~channelを指定し，
`rgb$f 関数に対する 4 個目の引数と同じに解釈される。
省略-時の既定は `100%^v になる。
◎
The fifth argument specifies the alpha channel of the color. It’s interpreted identically to the fourth argument of the rgb() function. If omitted, it defaults to 100%.
</li>
</ul>

<p>
概して，印刷用途の~appは、
実際に利用する色を~CMYKとして格納し, それを そのままの形で印刷機へ送信する。
しかしながら，そのような色は、
色計量の解釈がないので，［
~gradient, 組成-法, 混色-法, 等々
］には利用できない。
◎
Typically, print-based applications will actually store the used colors as CMYK, and send them to the printer in that form. However, such colors do not have a colorimetric interpretation, and thus cannot be used in gradients, compositing, blending and so on.
</p>

<p>
そのようなわけで、
機器~CMYK色は，等価な色に変換されなければならない。
これは、［
~HSL／~HWB
］から~RGBへ変換するときほど簡単ではない
— 精確な変換は、
出力~機器の精確な特性に依存する。
◎
As such, Device CMYK colors must be converted to an equivalent color. This is not trivial, like the conversion from HSL or HWB to RGB; the precise conversion depends on the precise characteristics of the output device.
</p>

<p>
`device-cmyk$f 関数の算出d値は、
次に従って得られる結果になるモノトスル：
◎
↓</p>
<ol>
	<li>
<p>
次がすべて満たされるならば、
当の~CMYK色を表す~Lab値：
</p>
		<ul>
			<li>
［
利用者／作者／~UA
］いずれかの~stylesheetには， `device-cmyk^v 用の `color-profile$at 定義がある
</li>
			<li>
前項の定義を成す `src$d 記述子が指定する資源を検索取得できる
</li>
			<li>
前項の資源は、
妥当な~CMYK~ICC~profileである
</li>
			<li>
~UAは、
~ICC~profileを処理できる
</li>
		</ul>

◎
If the user, author, or user-agent stylesheet has an @color-profile definition for device-cmyk, and the resource specified by the src descriptor can be retrieved, and the resource is a valid CMYK ICC profile, and the user agent can process ICC profiles, the computed value of the device-cmyk() function must be the Lab value of the CMYK color.
</li>
	<li>
他の場合、
当の~CMYK色を`素朴な変換$~algoで変換した結果の~sRGB値
◎
Otherwise, the computed value of the device-cmyk() function must be the sRGB value of the CMYK color, as converted with the following naive conversion algorithm.
</li>
</ol>

<div class="example" id="ex-device-cmyk-naive">
<p>
例えば，次に挙げる色は、
`color-profile$at が無いときは，`素朴な変換$を利用する下で等価になる。
◎
For example, with no @color-profile, the following colors are equivalent, using the naive conversion.
</p>

<pre class="lang-css">
color: `178 34 34^rgb device-cmyk(0 81% 81% 30%);
color: `178 34 34^rgb rgb(178 34 34);
color: `178 34 34^rgb firebrick;
</pre>
</div>

<div class="example" id="ex-device-cmyk-colprof">
<p>
~stylesheet例【どの例？】のように `color-profile$at は指定されているならば、
次に挙げる色は，色計量~変換を利用する下で等価になる。
◎
With the @color-profile specified as in the example stylesheet, the following colors are equivalent, using colorimetric conversion.
</p>

<pre class="lang-css">
color: `70.690% 26.851% 19.724%^rgb device-cmyk(0 81% 81% 30%);
color: `70.690% 26.851% 19.724%^rgb lab(45.060% 45.477 35.459)
color: `70.690% 26.851% 19.724%^rgb rgb(70.690% 26.851% 19.724%);
</pre>
</div>

<p>
`素朴な変換$は、
近似するとは限らない
— それには［
~inkの色計量y,
~dot-gain,
~RGB空間の色計量y,
等々
］の知識は無いので。
◎
The naive conversion is necessarily approximate, since it has no knowledge of the colorimetry of the inks, the dot gain, the colorimetry of the RGB space, and so on.
</p>

<figure id="fig-naive-cmyk">
<p class="alt" hidden id="_dgm-macbeth-naive">
一群の色付けられた升目が成す格子。
A 〜 F と~labelされた 6 本の列と，
1 〜 4 と~labelされた 4 本の行がある。
◎
A grid of colored squares. There are six columns, labelled A to F, and four rows, labelled 1 to 4.
</p>
<figcaption>
<p>
［
印刷-／写真-
］業界で色の忠実度を確保するために利用される，ある色~検査器。
各~patchには，測定して平均した~Lab値が示される。
各 矩形は、
~sRGBへ変換された~Lab値を示す。
矩形の中の真円は，同じ~Lab値を~ICC~profileを通過して~CMYKへ変換した結果を示すが、
図では さらに，`~CMYKから~RGBAへ素朴に変換-$されている。
◎
A color checker, used for ensuring color fidelity in the print and photographic industries. Averaged measured Lab values are available for each patch. The rectangles show the Lab values, converted to sRGB. The circles show the Lab values, passed through an ICC profile to convert them to CMYK. The CMYK value are then naively converted to sRGB.
</p>

<p>
各~patchに対し，［
元の~Lab値, ~CMYKを通して往来した後の~Lab値
］の間の~DeltaE 2000 を下の表に示す。
~DeltaE 2000 が 1 以上なら，可視になる
— 5 以上になると，かなり異なる色になる。
◎
The table below shows, for each patch, the DeltaE 2000 between the original Lab and the Lab value after round-tripping through CMYK. A DeltaE 2000 of 1 or more is just visible, while 5 or more is just a different color altogether.
</p>

<table class="deltaE"><thead>
<tr><td><th>A<th>B<th>C<th>D<th>E<th>F
</thead><tbody>
<tr><th>1
<td class="dE5">11.33
<td class="dE5">9.36
<td class="dE5">5.66
<td class="dE5">7.52
<td class="dE5">12.39
<td class="dE5">21.58

<tr><th>2
<td class="dE5">6.40
<td class="dE5">8.79
<td class="dE5">11.77
<td class="dE5">17.16
<td class="dE5">11.91
<td class="dE3">3.97

<tr><th>3
<td class="dE5">12.1
<td class="dE5">17.00
<td class="dE3">3.38
<td class="dE1">1.94
<td class="dE5">18.08
<td class="dE5">14.97

<tr><th>4
<td class="dE1">1.89
<td class="dE5">6.56
<td class="dE5">7.85
<td class="dE5">8.76
<td class="dE5">9.82
<td class="dE5">10.29
</tbody></table>

</figcaption></figure>

		<section id="cmyk-rgb">
<h3 title="Naively Converting Between Uncalibrated CMYK and sRGB-Based Color">5.1. 未較正な~CMYK色と~RGBに基づく色の間の素朴な変換-法</h3>

<div class="algo">
<p>
`~CMYKから~RGBAへ素朴に変換-@
するときは、所与の
( %cyan, %magenta, %yellow, %black, %alpha )
に対し：
</p>
<ol>
	<li>
%w ~LET 1 ~MINUS %black
</li>
	<li>
%red ~LET `max^op( 0, ( 1 ~MINUS %cyan ) ~MUL %w )
</li>
	<li>
%green ~LET `max^op( 0, ( 1 ~MINUS %magenta ) ~MUL %w )
</li>
	<li>
%blue ~LET `max^op( 0, ( 1 ~MINUS %yellow ) ~MUL %w )
</li>
	<li>
~RET ( %red, %green, %blue, %alpha )
</li>
</ol>

◎
To naively convert from CMYK to RGBA:
• red = 1 - min(1, cyan * (1 - black) + black)
• green = 1 - min(1, magenta * (1 - black) + black)
• blue = 1 - min(1, yellow * (1 - black) + black)
• Alpha is same as for input color. 
</div>

<div class="algo">
<p>
`~RGBAから~CMYKへ素朴に変換-@
するときは、所与の
( %red, %green, %blue, %alpha )
に対し：
</p>
<ol>
	<li>
%w ~LET `max^op( %red, %green, %blue )
</li>
	<li>
~IF［
%w ~EQ 0
］
⇒
~RET ( 0, 0, 0, 1, %alpha )
</li>
	<li>
%cyan ~LET 1 ~MINUS ( %red ~DIV %w )
</li>
	<li>
%magenta ~LET 1 ~MINUS ( %green ~DIV %w )
</li>
	<li>
%yellow ~LET 1 ~MINUS ( %blue ~DIV %w )
</li>
	<li>
%black ~LET 1 ~MINUS %w
</li>
	<li>
~RET ( %cyan, %magenta, %yellow, %black, %alpha )
</li>
</ol>
◎
To naively convert from RGBA to CMYK:
• black = 1 - max(red, green, blue)
• cyan = (1 - red - black) / (1 - black), or 0 if black is 1
• magenta = (1 - green - black) / (1 - black), or 0 if black is 1
• yellow = (1 - blue - black) / (1 - black), or 0 if black is 1
• alpha is the same as the input color
</div>

<p class="trans-note">【
~RGBA → ~CMYK → ~RGBA の結果は元に戻るが、
~CMYK → ~RGBA → ~CMYK の結果は（~~次元が一つ減るので）元に戻るとは限らない。
】</p>

		</section>
	</section>
	<section id="resolving-color-values">
<h2 title="Resolving &lt;color&gt; Values">6. `color$t 値の解決-法</h2>

		<section id="resolving-mix">
<h3 title="Resolving color-mix() Values">6.1. `color-mix^f 値の解決-法</h3>

<p>
`color-mix$f の算出d値は：
◎
↓</p>
<ul class="switch">
	<li>
すべての `color$t ~parameterが各自の色~空間~内の対応する色に解決された場合
⇒
指定された混合用の色~空間~内で混合した結果を［
`~level 4$ の `§ ~color_t 値の解決-法$
］に則って解決した結果になる。
◎
If all &lt;color&gt; parameters resolve to the corresponding colors in their respective color spaces, the computed value is the mixed color, in the specified mixing color space, resolved according to CSS Color 4 § 14 Resolving &lt;color&gt; Values.＼
</li>
	<li>
他の場合（ある~parameterに `currentcolor$nc が利用された場合）
⇒
各 `color$t ~parameterを［
`~level 4$ の `§ ~color_t 値の解決-法$
］に則って解決した結果になる。
関数はそのままなので、
子~要素の中への継承を保全する。
◎
Otherwise (if currentColor was used in the function), the computed value is the color-mix() function with each &lt;color&gt; parameter resolved according to CSS Color 4 § 14 Resolving &lt;color&gt; Values, thus preserving inheritance into child elements.
</li>
</ul>

		</section>
		<section id="resolving-device-cmyk-values">
<h3 title="Resolving device-cmyk Values">6.2. `device-cmyk^f 値の解決-法</h3>

<div class="p">
<p>
`device-cmyk$f の算出d値は、
次が成す~pairになる
— 使用~値は算出d値と同じになる：
</p>
<ul>
	<li>
指定された機器に特有な~CMYK色
（各~成分は `percentage$t ではなく `number$t になる）
</li>
	<li>
指定された~alpha~channel
⇒＃
`percentage$t ではなく `number$t になるとする ／
未指定な場合の既定は、
不透明になるとする
</li>
</ul>
◎
The computed and used value is the specified device-specific CMYK color, (with components as &lt;number&gt;, not &lt;percentage&gt;) paired with the specified alpha channel (as a &lt;number&gt;, not a &lt;percentage&gt;; and defaulting to opaque if unspecified).
</div>

<p>
`実際の値$は、
当の演算に基づいて変わり得る：
◎
The actual value can vary based on the operation;＼
</p>
<ul>
	<li>
~CMYK能力がある機器へ描画するときには、
~CMYK色として描画されてヨイ。
◎
for rendering to a CMYK-capable device, it may be rendered as a CMYK color;＼
</li>
	<li>
［
~CMYKでない色と混色する／~CMYKでない機器へ描画する
］ときには、
<a href="#device-cmyk">§ 未較正な~CMYK色： `device-cmyk^f 関数</a>
に指定されるとおりに変換するモノトスル。
◎
for blending with non-CMYK colors or rendering to a non-CMYK device, it must be converted as specified in § 5 Uncalibrated CMYK Colors: the device-cmyk() Function.
</li>
</ul>

<div class="example" id="ex-device-cmyk-used">
<p>
例えば，
`93.124% 44.098% 57.491%^rgb
`device-cmyk(0% 70% 20% 0%)^v
に対しては：
◎
For example,
• device-cmyk(0% 70% 20% 0%)
</p>
<ul>
	<li>
その［
指定d値／実際の値
］は
⇒
`93.124% 44.098% 57.491%^rgb
`device-cmyk(0 0.7 0.2 0)^v
◎
has the specified and actual value
• device-cmyk(0 0.7 0.2 0)
</li>
	<li>
その使用~値は、
実装が~ICC~profileを解する, かつ適切な~profileが~install済みならば
⇒
`93.124% 44.098% 57.491%^rgb
`lab(63.673% 51.577 5.811)^v
◎
and will, if the implementation understands ICC profiles and has an appropriate profile installed, have the used value
• lab(63.673% 51.577 5.811)
</li>
</ul>

<p class="note">注記：
他の色と同じく、
使用~値は~scriptからは可用でない。
◎
Note: As with all colors, the used value is not available to script.
</p>
</div>

		</section>
	</section>
	<section id="serial">
<h2 title="Serialization">7. 直列化</h2>

<p>
この節は、［
`~level 4$ の `§ ~color_t 値の直列化-法$
］を拡張して，［
`color-mix$f,
`相対~色~関数$
］の結果【を成す `color^t 】の直列化を追加する。
◎
This section extends CSS Color 4 § 15 Serializing &lt;color&gt; Values to add serialization of the results of the color-mix(), and relative color functions.
</p>

<p>
この節に利用される...
【以下、 § ~color_t 値の直列化-法に記された規約と同じなので和訳は省略する。】
◎
In this section, the strings used in the specification and the corresponding characters are as follows.
String 	Character
" " 	U+0020 SPACE
"," 	U+002C COMMA
"-" 	U+002D HYPHEN-MINUS
"." 	U+002E FULL STOP
"/" 	U+002F SOLIDUS 
◎
The string "." shall be used as a decimal separator, regardless of locale, and there shall be no thousands separator.
</p>

<p>
結果を成す~alphaは、
正確に 1 になる場合は，通例通り直列化から省略される
— それは、暗黙的な既定の値 1 （全部的に不透明）を表す。
◎
As usual, if the alpha of the result is exactly 1, it is omitted from the serialization; an implicit value of 1 (fully opaque) is the default.
</p>

		<section id="serial-color-mix">
<h3 title="Serializing color-mix()">7.1. `color-mix^f の直列化-法</h3>

<p>
`color-mix$f 関数の結果は、
`color$t であり，［
`~level 4$ の `§ ~color_t 値の直列化-法$
］にて定義されるとおりに直列化される。
利用される形は、
引数~内の `in^v に伴って指定された色~空間に依存する：
◎
The serialization of the result of a color-mix() function is a &lt;color&gt;, as defined in CSS Color 4 § 15 Serializing &lt;color&gt; Values. The form used depends on the color space specified with "in".
</p>

<p>
往来するための`最小^emな精度は、［
`~level 4$ の `§ ~color_t 値の直列化-法$
］にて指定されたそれと同じとする。
◎
The minimum precision for round-tripping is the same as that specified in CSS Color 4 § 15 Serializing &lt;color&gt; Values.
</p>

<table>
<thead>
<tr><th>混合用の色~空間
<th>形
</thead><tbody>

<tr><td>`srgb$v
<td>`color(srgb r g b)^v

<tr><td>`srgb-linear$v
<td>`color(srgb-linear r g b)^v

<tr><td>`hsl$v
<td>`color(srgb r g b) ^v

<tr><td>`hwb$v
<td>`color(srgb r g b) ^v

<tr><td>`xyz-d65$v
<td>`color(xyz-d65 x y z)^v

<tr><td>`xyz-d50$v
<td>`color(xyz-d50 x y z)^v

<tr><td>`xyz$v
<td>`color(xyz-d65 x y z)^v †

<tr><td>`lab$v
<td>`lab(l a b)^v

<tr><td>`lch$v
<td>`lch(l c h)^v

<tr><td>`oklab$v
<td>`oklab(l a b)^v

<tr><td>`oklch$v
<td>`oklch(l c h)^v

</tbody></table>

<p>
<span id="fn1">†</span>
`xyz$v は、
単に `xyz-d65$v 用の別名なので。
◎
¹
• Because xyz is just an alias for xyz-d65
</p>

<div class="example">
<p>
`87.416% 76.036% 47.637%^rgb
`color-mix(in lch, peru 40%, palegoldenrod)^v
による色~混合の結果を直列化した結果は、
次の文字列になる
⇒
`lch(79.7256% 40.448 84.771)^l
◎
The result of this color mixture
• color-mix(in lch, peru 40%, palegoldenrod)
◎
is serialized as the string "lch(79.7256% 40.448 84.771)"＼
</p>

<p>
一方で，
`88.16% 75.45% 49.88%^rgb
`color-mix(in srgb, peru 40%, palegoldenrod)^v
の結果を直列化した結果は、
次の文字列になる
⇒
`color(srgb 0.8816 0.7545 0.4988)^l
◎
while the result of
• color-mix(in srgb, peru 40%, palegoldenrod)
◎
is serialized as the string "color(srgb 0.8816 0.7545 0.4988)".
</p>
</div>

		</section>
		<section id="serial-relative-color">
<h3 title="Serializing Relative Color Functions">7.2. 相対~色~関数の直列化-法</h3>

<p>
`相対~色~関数$の結果の直列化は、
`color$t であり，［
`~level 4$ の `§ ~color_t 値の直列化-法$
］にて定義されるとおりに直列化される。
利用される形は、
`起点~色$と同じになる。
【！絶対~形を利用することを除けば，相対~色を指定するために利用されたものと同じになる】
◎
The serialization of the result of a relative color function is a &lt;color&gt;, as defined in CSS Color 4 § 15 Serializing &lt;color&gt; Values. The form used is the same as that used to specify the relative color, but using the absolute form.
</p>

<p>
往来するための `最小^em精度は、［
`~level 4$ の
<a href="~CSSCOLOR#serializing-color-function-values">§ `color^f 関数の直列化-法</a>
］にて指定されたそれと同じとする。
◎
The minimum precision for round-tripping is the same as that specified in CSS Color 4 § 15.5 Serializing values of the color() function.
</p>

<div class="example">
<p>
`3.12% 50.352% 68.894%^rgb
`lch(from peru calc(l * 0.8) calc(c * 0.7) calc(h + 180))^v
を直列化した結果は、
次の文字列になる
⇒
`lch(49.80224% 37.80819 243.6803)^l
◎
The result of serializing
• lch(from peru calc(l * 0.8) calc(c * 0.7) calc(h + 180))
◎
is the string "lch(49.80224% 37.80819 243.6803)"
</p>
</div>

		</section>
		<section id="serial-custom-color">
<h3 title="Serializing Custom Color Spaces">7.3. ~custom色~空間の直列化-法</h3>

<p>
`color$f の各~成分~値の精度は維持される
— したがって、
この仕様では，直列化した結果における有効数字の個数は定義されないが、
~CMYK色~空間~用には，［
8 ~bit精度の値が往来するに足る個数
］以上にするモノトスル。
したがって、
尾部を成す 0 が省略されない限り，結果の小数部は 2 桁以上になる。
◎
The precision with which color() component values are retained, and thus the number of significant figures in the serialized value, is not defined in this specification, but for CMYK color spaces must at least be sufficient to round-trip values with eight bit precision; this will result in at least two decimal places unless trailing zeroes have been omitted.
</p>

<div class="example" id="ex-color-swop-serial">
<p>
次が与えられた下では：
</p>

<pre class="lang-css">
@color-profile --swop5c {
  src: url('https://example.org/SWOP2006_Coated5v2.icc');
}
</pre>

<p>
`94.903% 45.248% 59.104%^rgb
`color(--swop5c  0% 70.0% 20.00% .0%)^v
を直列化した結果は
⇒
`color(--swop5c 0 0.7 0.2 0)^l
</p>

◎
The serialized value of the color in

@color-profile --swop5c {src: url('https://example.org/SWOP2006_Coated5v2.icc');
}
.header {
background-color:    color(--swop5c  0% 70.0% 20.00% .0%);
}

is the string "color(--swop5c 0 0.7 0.2 0)"
</div>

		</section>
		<section id="serializing-device-cmyk-values">
<h3 title="Serializing device-cmyk Values">7.4. `device-cmyk^f 値の直列化-法</h3>

<p>
`device-cmyk$f 値を直列化した形は、
`算出d値$から導出され，
`device-cmyk$f 形を利用する
— 関数の名前は小文字~化される。
◎
The serialized form of device-cmyk() values is derived from the computed value and uses the device-cmyk() form, with lowercase letters for the function name.
</p>

<p>
各~成分~値は、
`number$t として基数 10 で直列化される。
成分~値どうしは、
1 個の `0020^U `SPACE^cn を利用して分離するモノトスル。
◎
The component values are serialized in base 10, as &lt;number&gt;. A single ASCII space character " " must be used as the separator between the component values.
</p>

<p>
どの成分~値に対しても、
小数部の尾部を成す 0 は省略するモノトスル。
小数部がすべて 0 からなる場合、
小数点も省略するモノトスル。
◎
Trailing fractional zeroes in any component values must be omitted; if the fractional part consists of all zeroes, the decimal point must also be omitted.
</p>

<div class="example" id="ex-device-cmyk-serial">
<p>
`70.7% 26.9% 19.7%^rgb
`device-cmyk(0 81% 81% 30%)^v
を直列化した結果は
⇒
`device-cmyk(0 0.81 0.81 0.3)^l
◎
The serialized value of the color
• device-cmyk(0 81% 81% 30%)
is the string "device-cmyk(0 0.81 0.81 0.3)"
</p>
</div>

<p>
`device-cmyk$f の各~成分~値の精度は維持される
— したがって，この仕様は、
直列化した結果における有効数字の個数は定義しないが、［
8 ~bit精度の値が往来するに足る個数
］以上にするモノトスル。
したがって、
尾部を成す 0 が省略されない限り，結果の小数部は 2 桁以上になる。
値は、切捨てるのではなく，`丸める$モノトスル。
◎
The precision with which device-cmyk() component values are retained, and thus the number of significant figures in the serialized value, is not defined in this specification, but must at least be sufficient to round-trip values with eight bit precision; this will result in at least two decimal places unless trailing zeroes have been omitted. Values must be rounded towards +∞, not truncated.
</p>

<p>
~alpha値 1 は、
明示的に直列化されない
— 他の~alpha値は、
明示的に直列化するモノトスル。
~~最後の色~成分~値（ ~black【！`k^l】 ）と~alpha値は、
文字列 ` / ^l
（ `0020^U `SPACE^cn, `002F^U （ `/^l ）, `0020^U `SPACE^cn ）
を利用して分離するモノトスル。
◎
Unitary alpha values are not explicitly serialized. Non-unitary alpha values must be explicitly serialized, and the string " / " (an ASCII space, then forward slash, then another space) must be used to separate the black ("k") color component value from the alpha value.
</p>

		</section>
	</section>
	<section id="sample">
<h2 title="Default Style Rules">8. 既定の~style規則</h2>

<p>
次の~stylesheetは参考であり，規範的ではない。
実装は、
この~stylesheetを各種~HTML族~文書
（ HTML4, HTML5, XHTML1, XHTML1.1, XHTML Basic, 他）
にて既定の~style付けの一部として利用できる。
◎
The following stylesheet is informative, not normative. This style sheet could be used by an implementation as part of its default styling of HTML4, HTML5, XHTML1, XHTML1.1, XHTML Basic, and other XHTML Family documents.
</p>

<pre class="lang-css">
/* <span class="comment">
~hyperlink用には、伝統的な~desktop~UA用の色
◎
traditional desktop user agent colors for hyperlinks
</span> */
:link { color: LinkText; }
:visited { color: VisitedText; }
:active { color: ActiveText; }

/* <span class="comment">
`device-cmyk^v 用の適度かつ保守的な既定
◎
a reasonable, conservative default for device-cmyk
</span> */
@color-profile device-cmyk {
  src: url('https://drafts.csswg.org/css-color-4/ICCprofiles/Coated_Fogra39L_VIGC_300.icc');
}
</pre>

	</section>
	<section id="security">
<h2 title="Security Considerations">~securityの考慮点</h2>

<p>
この仕様は、［
~ICC~profileを必要時に限り~downloadする特能
］を~CSSに追加する。
これは、実行-可能な~codeは包含しないので，~security~riskを増やすものにはならない。
◎
This specification adds to CSS the on-demand downloading of ICC profiles. These do not contain executable code, and thus do not constitute an increased security risk.
</p>

	</section>
	<section id="privacy">
<h2 title="Privacy Considerations">~privacyの考慮点</h2>

<p>
この仕様に対し報告された，新たな~privacyの考慮点は、無い。
◎
No new privacy considerations have been reported on this specification.
</p>

	</section>
	<section id="changes">
<h2 title="Changes">変更点</h2>

<dl>
	<dt id="changes-20220628">
`2022年 6月 28日 作業草案＠~TR/2022/WD-css-color-5-20220628/$
からの変更点
◎
11.1. Since the Working Draft of 28 June 2022
</dt>
	<dd>
［
~Oklab／~Oklch
］の文字大小0が一貫するようにした。
◎
Consistent capitalization of Oklab and Oklch
</dd>
	<dd>
色見本~用の~accessibilityを改善した。
◎
Acessibility improvements for color swatches
</dd>
	<dd>
図式~用の~accessibilityを改善した。
◎
Acessibility improvements for diagrams
</dd>
	<dd>
一部の色見本における求まれない~clippingを修正した。
◎
Fixed unwanted clipping of some color swatches
</dd>
	<dd>
一部の `figure^e 用の代替~textを改善した。
◎
Improve alternative text for some figures
</dd>
	<dd>
一部の欠落していた色見本を追加した。
◎
Add some missing color swatches
</dd>
	<dd>
【！MacBeth】~DeltaE格子を成す表の［
行, 列
］に~labelを追加した。
◎
Add row and column labels for MacBeth images and table of deltaE
</dd>
	<dd>
色相~回転-図式~内に【色を表す】~labelを与えた。
◎
Better labelling on hue-rotate diagram
</dd>
	<dd>
図式~上の色の記述をもっと良くした。
図式の~accessibilityを改善した。
◎
Better descriptions of colors on diagrams, improve acessibility
</dd>
	<dd>
すべての［
図式／ `figure^e
］に［
~ID, 自己-~link
］を付与した。
◎
Ensure all diagrams and figures have IDs, selflinks
</dd>

	<dt id="changes-20220428">
`2022年 4月 28日 作業草案＠~TR/2022/WD-css-color-5-20220428/$
からの変更点
◎
11.2. Since the Working Draft of 28 April 2022
</dt>
	<dd>
`rgb^f の定義における誤記を修正した
◎
Fixed a typo in definition of rgb()
</dd>
	<dd>
編集上の改善
（文字大小0, 綴り, 明確さ）
◎
Editorial improvements (capitalization, spelling, clarity)
</dd>
	<dd>
他の仕様による利用-用に定義を~exportした。
◎
Exported definitions for other specifications to use
</dd>
	<dd>
`color$f の文法~内の~alphaに欠落していた `none$nc を追加した。
◎
Add missing none to alpha in grammar of color()
</dd>
	<dd>
`color-contrast^f 関数を~level 6 へ移動した。
【以下に現れる `color-contrast^f （または~contrast）に関する変更点も，今や この~level 5 には関わらない。】
◎
Moved the color-contrast() function to level 6
</dd>

	<dt id="changes-20211215">
`2021年 12月 15日 作業草案＠~TR/2021/WD-css-color-5-20211215/$
からの変更点
◎
11.3. Since the Working Draft of 15 December 2021
</dt>
	<dd>
`color$f 内の［
多過ぎる／少な過ぎる
］~parameterに対する寛容さを`~custom色~空間$に制約した。
◎
Forgiveness of too many/too few parameters in color() restricted to custom color spaces
</dd>
	<dd>
`相対~色~構文$を，どこでも［
実数, 百分率
］を許容するよう変更した。
◎
Changed RCS to allow number or percent everywhere
</dd>
	<dd>
成分の名前が `pi$v などの有名~定数と衝突する可能性について明瞭に述べた。
◎
Clearly described potential clash of component names with named constants such as PI
</dd>
	<dd>
`相対~色~構文$は`旧来の色~構文$（~commaで分離される）を利用しないことを明確化した。
◎
Clarified that Relative Color Syntax does not use legacy (comma-separated) syntax
</dd>
	<dd>
`rgb$f 関数の文法を正した
— それは、
~alpha用の~optionとして `none$nc を挙げていなかった。
◎
Corrected grammar of the rgb() function, none' was not listed as an option for alpha
</dd>
	<dd>
［
`hsl^v ／ `hwb^v
］を利用している `color-mix$f の直列化を，精度を最大~化するよう変更した。
◎
Changed serialization of color-mix() which uses hsl or hwb, to maximise precision
</dd>
	<dd>
`color-mix$f の例として，
【混合した結果が】色域~外になる場合を追加した。
◎
Added an out of gamut color-mix example
</dd>
	<dd>
拡張された色域~外の色を表現し得ない［
~HSL／~HWB
］~modelを述べるため、
用語 “色を表出し得ない” 利用するようにした。
【が、定義された用語ではない（一般な句として現れる）。】
◎
Use the term "cannot express the color" to describe HSL and HWB models which cannot represent extended, out of gamut colors.
</dd>
	<dd>
綴りの誤りを修正した。
◎
Fixed some spelling errors
</dd>

	<dt id="changes-20210601">
`2021 年 6 月 1日 作業草案＠~TR/2021/WD-css-color-5-20210601/$
からの変更点
◎
11.4. Since the Working Draft of 1 June 2021
</dt>
	<dd>
矩形な空間において `hue-interpolation-method$t を利用するのは、
~errorとした。
◎
Using &lt;hue-interpolation-method&gt; in rectangular spaces is an error
</dd>
	<dd>
旧 `hue-adjuster^t を新たな `hue-interpolation-method$t に変更した。
◎
Changed old &lt;hue-adjuster&gt; to new &lt;hue-interpolation-method&gt;
</dd>
	<dd>
~CSS~WGによる解決に則り，
`color-profile^at, `device-cmyk^f を~level 5 へ移動した。
◎
Moved @color-profile and device-cmyk to level 5 per CSSWG resolution
</dd>
	<dd>
成分の名前として `none^v を除外した。
◎
Excluded none as a component name
</dd>
	<dd>
~Oklch相対~色~構文の例を追加した。
◎
Added Oklch relative color syntax example
</dd>
	<dd>
補間~色~空間を定義した。
◎
Defined interpolation color space
</dd>
	<dd>
色~profileの読込ngを~fetchの用語で定義した。
◎
Defined loading color profiles in terms of fetch
</dd>
	<dd>
~contrastは~D65に順応された~CIE~XYZに相対的に計算されることを明確化した。
◎
Clarified that contrast is calculated relative to D65-adapted CIE XYZ
</dd>
	<dd>
`color-mix$f の直列化に［
`oklab$f, `oklch$f
］を追加した。
◎
Added oklab() and oklch() to serialization of color-mix()
</dd>
	<dd>
`相対~色~構文$に［
`oklab$f, `oklch$f
］を追加した。
◎
Added oklab() and oklch() relative color syntax
</dd>
	<dd>
`lch^v で混合したとき, `oklch^v で混合したときを~~対比する例を追加した。
◎
Added lch vs. oklch mixing example
</dd>
	<dd>
混合-法には［
`oklab^v ／ `oklch^v
］が選好されるようにした。
◎
Prefer oklab and oklch for mixing
</dd>
	<dd>
`~level 4$ に従って，
`xyz$v は~D65に相対的とするよう変更した。
◎
Changed xyz to D65-reative, following CSS Color 4
</dd>
	<dd>
色~空間として［
`oklab^v, `oklch^v
］を追加した。
◎
Added oklab and oklch color spaces
</dd>
	<dd>
`color-contrast^f の解決-法を定義した。
◎
Defined how to resolve color-contrast())
</dd>
	<dd>
直列化された形における最小な精度を明確化した。
◎
Clarified minimum precision of serialized forms
</dd>
	<dd>
【~LCHは】~CIE~LCHが意味されることを明確化した。
◎
Clarified that CIE LCH is meant
</dd>
	<dd>
いくつか例を追加した。
◎
Added some more examples
</dd>
	<dd>
`color-adjust^f を除去した（`相対~色~構文$の方を残した）。
【以下に現れる “調整子（ `adjuster^en ）”, `*-adjuster^t も，今や除去された。】
◎
Removed color-adjust(), keeping relative color syntax
</dd>
	<dd>
［
`color-mix$f,
`color-contrast^f,
`相対~色~構文$
］の結果の直列化を定義した。
◎
Defined serialization of the results of the color-mix, color-contrast, and relative color syntaxes
</dd>

	<dt id="changes-20200303">
`2020年 6 月 10日 最初の公な作業草案＠~TR/2020/WD-css-color-5-20200303/$
からの変更点
◎
11.5. Since the FPWD of 10 June 2020
</dt>
	<dd>
`color$f 関数~用の相対~色~構文を追加した。
◎
Added relative color syntax for the color() function
</dd>
	<dd>
`color-adjuster^t は省略可能でないことを明確化した。
◎
Clarified that the color-adjuster is not optional
</dd>
	<dd>
`color-mix$f における百分率は義務的であることを明確化した。
◎
Clarified that the percentage in color-mix is mandatory
</dd>
	<dd>
`hue-adjuster^t を元在った `color-mix$f に戻した【！whee】。
◎
Moved hue-adjuster back to color-mix whee it belongs
</dd>
	<dd>
異なる色~空間どうしで混合する【！mxing】例を追加した。
◎
Added example with different mxing color spaces
</dd>
	<dd>
`color-mix$f における百分率の正規化に関する例を追加した。
◎
Added examples of percentage normalization in color-mix()
</dd>
	<dd>
`color-mix$f における負な百分率は明示的に除外した。
◎
Explicitly excluded negative percentages in color-mix()
</dd>
	<dd>
`color-mix$f における百分率の総和が 100% 未満になるときは、
1【！100%】 未満の~alpha透明度を生産するようにした。
◎
Percentages in color-mix() summing to less than 100% produce an alpha transparency less than 100%
</dd>
	<dd>
用語 `color space^en （色~空間）を一貫して利用するようにした
— `colorspace^en ではなく。
◎
Consistently used the term color space rather than colorspace,＼
</dd>
	<dd>
`color-space$t ~tokenを定義した
【が、~level 4 に移動された】。
◎
defined &lt;color-space&gt; token
</dd>
	<dd>
`color-contrast^f の文法を正した。
◎
Corrected color-contrast grammar
</dd>
	<dd>
`color-contrast^f に省略可能な~target~contrast比を追加した。
◎
Added an optional target contrast ratio to color-contrast()
</dd>
	<dd>
調整子の文法を正した。
◎
Corrected adjuster grammar
</dd>
	<dd>
百分率の総和が 0 になる際どい事例を取扱う必要があることを注記した。
◎
Noted that the corner case of percentages summing to zero needs to be handled
</dd>
	<dd>
`color-mix$f における演算の順序を明確化した。
◎
Clarified order of operations in color-mix()
</dd>
	<dd>
各~例を現在の文法に合致するよう更新した。
◎
Updated examples to match current grammar
</dd>
	<dd>
百分率がどう正規化されるかを定義した。
◎
Defined how percentages are normalized
</dd>
	<dd>
`color-mix$f における［
0% ／ 100%
］の意味を明確化した。
◎
Clarify meaning of 0% and 100% in color-mix()
</dd>
	<dd>
調整子の定義を `color-mix$f から `color-adjust^f へ移動した。
◎
Definition of adjusters moved from color-mix() to color-adjust()
</dd>
	<dd>
`color-mix$f に与える引数には任意の順序を許容した。
◎
Allow arguments to color-mix() to be in any order
</dd>
	<dd>
`color-mix$f 用の色~空間は義務的とした。
◎
Mandatory color space for color-mix()
</dd>
	<dd>
`color-mix$f における百分率は、
色より前に来ることを許容した。
◎
Allowed the percentage in color-mix() to come before the color
</dd>
	<dd>
`color-mix$f 用の明示的な~algoを追加した。
◎
Added explicit algorithm for color-mix()
</dd>
	<dd>
`color-mix$f から調整子を除去して，文法を単純~化した。
◎
Removed adjusters from color-mix() and simplified the grammar
</dd>
	<dd>
混合するために利用される色~空間を指定するための `in^v ~keywordを追加した。
◎
Added the "in" keyword to specify the color space used for mixing
</dd>
	<dd>
`color-contrast^f ~listには 2 個以上の~itemが要求されるようにした。
◎
Required color-contrast() list to have at least two items
</dd>
	<dd>
相対-色~構文の説明を改善した。
◎
Improved explanation of the relative color syntax
</dd>
	<dd>
`~level 4$ による，色の直列化の定義へ~linkした。
◎
Link to CSS 4 definition of color serialization
</dd>
	<dd>
色~空間~用に別々な節を追加した。
◎
Added separate section for color spaces
</dd>
	<dd>
`color-adjust^f の例を更新した。
◎
Updated color-adjust example
</dd>
	<dd>
説明用の図式を追加した。
◎
Added explanatory diagrams
</dd>
	<dd>
未解決な百分率への~~対処。【？】
◎
Deal with unresolved percentages
</dd>
	<dd>
`color-mix$f 用の引数を正規化するようにした。
◎
Normalize arguments to color-mix
</dd>
	<dd>
調整子に百分率を許容した。
◎
Allow percentages for adjusters
</dd>
	<dd>
~linkを修正した。
◎
Link fixes
</dd>
	<dd>
`color-mix$f の文法を更新した
— 調整子を許容するようにして，~alpha調整子を追加した。
◎
Updated color-mix grammar, allowing adjusters, add alpha adjuster
</dd>
	<dd>
いくつかの例を正した。
◎
Corrections to some examples
</dd>
	<dd>
`§ ~securityの考慮点＠#security$,
`§ ~privacyの考慮点＠#privacy$
を更新した。
◎
Updated Security and Privacy section
</dd>
	<dd>
`color-contrast^f に `vs^v ~keywordを追加した。
◎
added vs keyword to color-contrast
</dd>
	<dd>
文法に `xyz^v 用の調整子（ `xyz-adjuster^t ）を追加した。
◎
added xyz adjuster to grammar
</dd>
	<dd>
色相~調整子（ `hue-adjuster^t ）用の各種~keywordを追加した。
◎
added hue adjuster keywords
</dd>
	<dd>
`color-mix$f 用に，~XYZ色~空間として `xyz^v を追加した。
◎
add XYZ color space for mixing
</dd>
	<dd>
色~調整子（ `color-adjuster^t ）と色~空間を定義した。
◎
defined color-adjuster and color space
</dd>
	<dd>
`color-mix$f 用に，省略-時の既定（ `50%^v ）を許容した。
◎
allowed mix percent to default to 50%
</dd>
	<dd>
作業した例と図式を追加した。
◎
added worked examples and diagrams
</dd>
	<dd>
［
綴り／構文／整形
］に関する小さな課題を正した。
◎
corrected minor spelling, syntax and formatting issues
</dd>
	<dd>
`color-contrast^f 値の解決-法を与える節を追加した。
◎
Added section on resolving color-contrast() values
</dd>

	<dt id="changes-from-3">
`~level 4$ からの変更点
◎
11.6. Changes from CSS Color 4
</dt>
	<dd>
<p>
主要な変更は、
~CSS色は，もはや定義済み~RGB空間
— ~sRGBや `display-p3$v など —
に制約されなくなったことである。
これを~supportするため，次に挙げる特能が新規に追加された：
◎
One major change, compared to CSS Color 4, is that CSS colors are no longer restricted to predefined RGB spaces such as sRGB or display-p3.
◎
To support this, several brand new features have been added:
</p>
		<ul>
			<li>
`color$f 関数は、
~profiled機器に依存する色（較正-済み~CMYKも含む）用に，
`color-profile$at ~at-規則により拡張された。
◎
The color() function is extended by the @color-profile at-rule, for profiled device-dependent color, including calibrated CMYK.
</li>
			<li>
`device-cmyk$f 関数は、
出力~機器に特有な~CMYK色~空間~内の未較正な色を指定する。
◎
device-cmyk() function, for specifying uncalibrated colors in an output-device-specific CMYK color space.
</li>
		</ul>
	</dd>
	<dd>
新たな `color-mix$f 関数は、
2 個の色を指定された色~空間~内で混合して，新たな色を得ることを許容する。
◎
In addition the new color-mix() function allows two colors to be mixed, in a specified color space, to yeild a new color.
</dd>
</dl>

	</section>
</main></div>
