<!DOCTYPE html><html lang="ja"><head><meta charset="utf-8">
<title>The HTTP QUERY Method（日本語訳）</title>

<link rel="stylesheet" href="common.css" type="text/css">
<link rel="stylesheet" href="http-common.css" type="text/css">
<style>
#table-1 td {
	min-width: 6em;
	max-width: 12em;
}
</style>


<script src="common0.js"></script>
<script src="http-common.js"></script>
<script src="common1.js" async></script>

<script type="text/plain" id="_source_data">

●●options

spec_title:The HTTP QUERY Method
spec_date:2024-11-20
trans_update:2024-11-24
source_checked:231211
original_url:https://httpwg.org/http-extensions/draft-ietf-httpbis-safe-method-w-body.html
	abbr_url:HTTPquery
spec_status:IETFID
page_state_key:HTTP
no_original_dfn:true
ref_rfc:true
	ref_id_prefix:
site_nav:network,http
trans_1st_pub:2024-01-02

●●class_map

●●tag_map

●●original_id_map

references:
normative:
informative:

●●mdn_urls

●●link_map

m.QUERY:#query
~cache~key:~HTTPcache#cache-key

	●§

●●words_table1

●●words_table

	●略語
SQL:

	●処理
	通過-:pass through
	事前に:ahead of time
	得られた:yield
	再び行う:redo

	●仕様
機能:function:~
協調-:coordinate:~
組入れな:incorporateしな:組み入れな
処置:disposition::~
隙間:gap:~
	隙間を~~埋める:spans the gap between
配役-:cast:~
選んで:chooseして:~
仮の:hypotheticalな:~
表記上の:notationalな:~
偽陽性:false positive:~

	による難がある:suffers from
	に関して:with regards to
	かまわない:free to
	ではなく:as opposed to
	事前に明らか:readily apparent
	はい:Yes
	〜によっては:depending
	効率的でない:inefficient
	有意でない:insignificant
	互いに協調していない:uncoordinated
	挙げる:illustrate
	~~説明:illustrate
	~~説明:illustration
	無い下では:absent
	長大過ぎる:too voluminous
	巨大:large
	望ましい:desirable
	従って:per

	●言い換え
	~MIME型$:media type
	算出-用の:computing
	発見-可能:discoverable
	視野が絞られた:scoped
	~target~URI$:the effective request URI
	要請~target$:Request URI
	要請~target$:request URI
	算出-用の:computing
	`内容~符号法$:content encoding
	~~代替策:variation
	素な~text:plain-text
	~redirectを伴わない:with direct response
	~redirectを伴う:with indirect response
	と伴に:while identifying
	主張していること:claim
	〜によっては:certain

	●未分類
locate:
予行:preflight::~::プリフライト

	前回に:the previously
	見込みが高い:likely
	たった今:just
	〜安全とされる:-safelisted


●●ref_key_map


●●ref_normative

[RFC2119]
    Bradner, S., "Key words for use in RFCs to Indicate Requirement Levels", BCP 14, ~RFC2119, March 1997
[RFC8174]
    Leiba, B., "Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words", BCP 14, ~RFC8174, May 2017
[HTTP]
    Fielding, R., Ed., Nottingham, M., Ed., and J. Reschke, Ed., "HTTP Semantics", STD 97, ~RFC9110, June 2022
[HTTP-CACHING]
    Fielding, R., Ed., Nottingham, M., Ed., and J. Reschke, Ed., "HTTP Caching", STD 98, ~RFC9111, June 2022,

●●ref_informative

[FETCH]
    WHATWG, ＜FETCH＞
    URL: https://fetch.spec.whatwg.org

●●trans_metadata
<p>
~THIS_PAGEは、
~IETF により Internet-Draft として公表された，
<a href="~SPEC_URL">The HTTP QUERY Method</a>
を日本語に翻訳したものです。
~PUB
</p>

●●spec_metadata

Workgroup
	HTTP
公表者
	<a href="https://httpwg.org/">HTTP Working Group</a>
位置付け
	Internet-Draft
意図される位置付け
	Standards Track
失効日
	日付から半年後
編集／著作者アドレス
	<a href="mailto:julian.reschke@greenbytes.de">Julian Reschke</a> (greenbytes GmbH)
	<a href="mailto:malhotrasahib@gmail.com">Ashok Malhotra</a>
	<a href="mailto:jasnell@gmail.com">James M Snell</a>
	<a href="mbishop@evequefou.be">Mike Bishop</a> (Akamai)

課題追跡
	https://github.com/httpwg/http-extensions/labels/query-method
履歴
	https://datatracker.ietf.org/doc/draft-ietf-httpbis-safe-method-w-body/
commit 履歴
	https://github.com/httpwg/http-extensions/commits/main/draft-ietf-httpbis-safe-method-w-body.xml
HTTP WG mailing list
	ietf-http-wg@w3.org
	<a href="https://lists.w3.org/Archives/Public/ietf-http-wg/">archive</a>

HTTP 拡張仕様草案
	https://github.com/httpwg/http-extensions#draft-http-extension-specifications
現在の Internet-Draft のリスト
	https://datatracker.ietf.org/drafts/current/
</script>

</head>
<body>

<header>
	<hgroup>
<h1>HTTP QUERY メソッド</h1>
<p lang="en">The HTTP QUERY Method</p>
	</hgroup>
</header>

<div id="MAIN" hidden>
	<section>
◎要約

<p>
この仕様は、
新たな~HTTP`~method$として `QUERY^m を定義する。
それは，`安全$かつ`冪等$な要請~methodであり、
それを伴う`要請$は，`内容$を運べる。
◎
This specification defines a new HTTP method, QUERY, as a safe, idempotent request method that can carry request content.
</p>

	</section>
	<section>
<h2 title="Editorial Note">編集上の注記</h2>

<p>
この注記は、
~RFCとして公表する前に除去されることになる。
【以下，この節の内容は、冒頭の “この文書についての詳細” に移譲。】
◎
This note is to be removed before publishing as an RFC.
</p>

	</section>
	<section id="status-of-memo">
<h2 title="Status of This Memo">このメモの位置付け</h2>

<p class="trans-note">【
この節の内容は
`~IETF日本語訳 共通~page＠~IETFcommon#status-draft$に移譲。
】</p>

	</section>
	<section id="copyright">
<h2 title="Copyright Notice">著作権の告知</h2>

<p lang="en">
Copyright (c) 2024 IETF Trust and the persons identified as the document authors. All rights reserved.
</p>

	</section>

<main id="MAIN0">

	<section id="intro">
<h2 title="Introduction">1. 序論</h2>

<p>
この仕様は、［
`内容$を包含する，`安全$かつ`冪等$な要請
］を為すための手段として，
~HTTP `QUERY^m 要請~methodを定義する。
◎
This specification defines the HTTP QUERY request method as a means of making a safe, idempotent request that contains content.
</p>

<p>
これが望ましくなるのは、［
要請~内に伝達される~dataが，
要請の~URI【`要請~target$】の中へ符号化するには長大過ぎるとき
］が，最も多い。
例えば、
次の~query~patternは，共通的にある：
◎
Most often, this is desirable when the data conveyed in a request is too voluminous to be encoded into the request's URI. For example, this is a common query pattern:
</p>

<pre class="lang-http">
GET /feed?q=foo&amp;limit=10&amp;sort=-published HTTP/1.1
Host: example.org
</pre>

<p>
しかしながら，~queryに伴われる~parameterが［
複階的／~sizeが巨大
］な場合、
それを`要請~target$【！要請~URI】内に符号化することは，
最善な~optionではないであろう
— なぜなら：
◎
However, for a query with parameters that are complex or large in size, encoding it in the request URI may not be the best option because
</p>
<ul>
	<li>
~size上限は、
事前に既知でないことが多い
— 要請は、
互いに協調しない多くの~systemを通過し得るので。
◎
often size limits are not known ahead of time because a request can pass through many uncoordinated system,
</li>
	<li>
~dataの種類によっては、
`~target~URI$内に表出することは，効率的でない
— そのような~dataを妥当な~URIの中へ符号化することには~overheadがあるので。
◎
expressing certain kinds of data in the target URI is inefficient because of the overhead of encoding that data into a valid URI, and
</li>
	<li>
~query~parameterを`要請~target$【！要請~URI】の中へ直に符号化することは、
実質的に，~query入力を成す あらゆるアリな組合nそれぞれを別個な`資源$として配役することでもある。
◎
encoding query parameters directly into the request URI effectively casts every possible combination of query inputs as distinct resources.
</li>
</ul>

<p>
`GET$m を利用することの代替として、
多くの実装は，~HTTP `POST$m ~methodを用立てて~queryを遂行する
— 下の例で~~説明されるとおり。
この事例では、
~query演算に対する入力~parameterは，要請の`内容$の中に渡される
— `要請~target$【！要請~URI】を利用するのではなく。
◎
As an alternative to using GET, many implementations make use of the HTTP POST method to perform queries, as illustrated in the example below. In this case, the input parameters to the query operation are passed along within the request content as opposed to using the request URI.
</p>

<div class="example">
<p>
ある~queryを要請している~HTTP `POST$m の典型的な利用：
◎
A typical use of HTTP POST for requesting a query:
</p>

<pre class="lang-http">
POST /feed HTTP/1.1
Host: example.org
Content-Type: application/x-www-form-urlencoded

q=foo&amp;limit=10&amp;sort=-published
</pre>
</div>

<p>
しかしながら，この~~代替策には、
`GET$m と同じ【異なる？】基本的な制限による難
— 要請の送信-先である［
`資源$や`~server$
］に特有な知識が無い下では、
`安全$かつ`冪等$な~queryを遂行するかどうかが，事前に明らかでない難 —
がある。
◎
This variation, however, suffers from the same basic limitation as GET in that it is not readily apparent -- absent specific knowledge of the resource and server to which the request is being sent -- that a safe, idempotent query is being performed.
</p>

<p>
`QUERY^m ~methodは、
`GET$m の利用と `POST$m の利用の隙間を~~埋める解決策を供する
— 上の例が，次として表出されるよう：
◎
The QUERY method provides a solution that spans the gap between the use of GET and POST, with the example above being expressed as:
</p>

<pre class="lang-http">
QUERY /feed HTTP/1.1
Host: example.org
Content-Type: application/x-www-form-urlencoded

q=foo&amp;limit=10&amp;sort=-published
</pre>

<p>
~query演算への入力は、
`POST$m と同じく，要請の`内容$の中に渡される
— `要請~target$【！要請~URI】の一部としてではなく。
しかしながら， `POST$m と違って、
この~methodは明示的に`安全$かつ`冪等$であり，
~cachingや自動的な再試行の様な機能を運用することを許容する。
◎
As with POST, the input to the query operation is passed along within the content of the request rather than as part of the request URI. Unlike POST, however, the method is explicitly safe and idempotent, allowing functions like caching and automatic retries to operate.
</p>

<p>
要約すると：
◎
Summarizing:
</p>

<div>
<table id="table-1"><thead><tr>
<th>
<th>`GET$m
<th>`QUERY$m
<th>`POST$m
<tbody>

<tr>
<td>`安全$か
<td>はい
<td>はい
<td>いいえになり得る

<tr>
<td>`冪等$か
<td>はい
<td>はい
<td>いいえになり得る

<tr>
<td>`~cache可能$か
<td>はい
<td>はい
<td>いいえ

<tr>
<td>`内容$（本体）
<td>“定義された意味論は無い”
<td>期待される（意味論は`~target資源$に従う）
<td>期待される（意味論は`~target資源$に従う）

</table>
◎
Table 1
｜GET｜QUERY｜POST
Safe｜yes｜yes｜potentially no
Idempotent｜yes｜yes｜potentially no
Cacheable｜yes｜yes｜no
Content (body)｜"no defined semantics"｜expected (semantics per target resource) 	expected (semantics per target resource)
</div>

	</section>
	<section id="notational.coventions">
<h3 title="Notational Conventions">1.1. 表記上の規約</h3>

<p>
この文書~内の~keyword "MUST" …
【以下、この段落の内容は`~IETF日本語訳 共通~page＠~IETFcommon#requirements-notation$に移譲。】
◎
The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in BCP 14 [RFC2119] [RFC8174] when, and only when, they appear in all capitals, as shown here.
</p>

	</section>
	<section id="query">
<h2 title="QUERY">2. `QUERY^m</h2>

<p>
`QUERY^m ~methodは、
~server側の~queryを起動するために利用される。
~HTTP `GET$m ~methodは，［
~serverが`~target~URI$により識別される`資源$の`表現$
］を返すよう要請するが
（ `HTTP$r `~target資源の決定-法＠~HTTPsem#target.resource§
にて定義されるとおり）、
それとは違って `QUERY^m ~methodは，［
`~target~URI$に視野が絞られた，何らかの~dataが成す集合
］にわたって［
（要請の`内容$により述べられる）
~query演算を遂行する
］よう~serverに依頼するために利用される。
対する応答~内に返される`内容$は、
`~target~URI$により識別される`資源$の`表現$とは見做せない。
◎
The QUERY method is used to initiate a server-side query. Unlike the HTTP GET method, which requests that a server return a representation of the resource identified by the target URI (as defined by Section 7.1 of [HTTP]), the QUERY method is used to ask the server to perform a query operation (described by the request content) over some set of data scoped to the target URI. The content returned in response to a QUERY cannot be assumed to be a representation of the resource identified by the target URI.
</p>

<p>
~queryは、
要請の`内容$が定義する。
実装は、
当の内容が適切な~query意味論を供する限りにおいて
— `QUERY^m 要請【！~method】に伴われる`~MIME型$を問わず —
当の内容を利用してもヨイ。
◎
The content of the request defines the query. Implementations MAY use a request content of any media type with the QUERY method, provided that it has appropriate query semantics.
</p>

<p>
`QUERY^m 要請は、
`要請~target$【！要請~URI】により識別される`資源$に関して`安全$かつ`冪等$である。
すなわち、
`QUERY^m 要請は，~targetされた資源の状態を改めない。
しかしながら，~serverには、
`QUERY^m 要請を処理している間に，
算出-用の資源や~memory資源を割振ることが
— さらには、
追加的な~HTTP`資源$を作成して，
それを通して応答を検索取得できるようにすることも —
期待され得る。
◎
QUERY requests are both safe and idempotent with regards to the resource identified by the request URI. That is, QUERY requests do not alter the state of the targeted resource. However, while processing a QUERY request, a server can be expected to allocate computing and memory resources or even create additional HTTP resources through which the response can be retrieved.
</p>

<p>
`QUERY^m 要請に対する成功裡な応答には、
当の演算の最終-処置として，何らかの指示を供することが期待される。
一例として，
ある成功裡な~queryにおいて得られた結果が無い場合、
`204$st 応答により表現できる。
当の応答が`内容$を内包する場合、
それが，演算の結果を述べることが期待される。
◎
A successful response to a QUERY request is expected to provide some indication as to the final disposition of the operation. For instance, a successful query that yields no results can be represented by a 204 No Content response. If the response includes content, it is expected to describe the results of the operation.
</p>

		<section id="location">
<h3 title="Content-Location and Location Fields">2.1. `Content-Location^h ~fieldと `Location^h ~field</h3>

<p>
`QUERY^m 要請に対する成功裡な応答は、［
当の演算の結果に対応している資源
］用の識別子を包含する `Content-Location$h ~header `HTTP$r も内包できる。
これは、［
~clientは、
指示された~URIへ `GET$m 要請を送信することで，
たった今 遂行した~query演算の結果を検索取得できる
］ものと［
~serverが主張している
］ことを表現する。
指示された資源は一時的かもしれない。
◎
Furthermore, a successful response can include a Content-Location header field (see Section 8.7 of [HTTP]) containing an identifier for a resource corresponding to the results of the operation. This represents a claim from the server that a client can send a GET request for the indicated URI to retrieve the results of the query operation just performed. The indicated resource might be temporary.
</p>

<p>
`~server$は、
未来の利用-用に，当の~query演算を識別する`資源$を作成しても
— あるいは【作成-済みなそれが在るならば，それを】~locateしても —
ヨイ。
`~server$は、
それを行う場合には，応答の `Location$h ~header `HTTP$r 内に当の資源の~URIを内包できる。
これは、［
`~client$は、
指示された~URIへ `GET$m 要請を送信することで，
たった今 遂行した~query演算を~query~parameterを送信し直すことなく繰返せる
］ものと主張していることを表現する。
この資源は、
一時的かもしれない
— 未来の要請が失敗した場合、
~clientは，［
元の `QUERY^m 資源と前回に提出した~parameter
］を再び利用して試行し直せる。
◎
A server MAY create or locate a resource that identifies the query operation for future use. If the server does so, the URI of the resource can be included in the Location header field of the response (see Section 10.2.2 of [HTTP]). This represents a claim that a client can send a GET request to the indicated URI to repeat the query operation just performed without resending the query parameters. This resource might be temporary; if a future request fails, the client can retry using the original QUERY resource and the previously submitted parameters again.
</p>

		</section>
		<section id="redirection">
<h3 title="Redirection">2.2. ~redirection</h3>

<p>
`~server$は、
一部の事例では， `QUERY^m 要請に対し間接的に応答することを選んでもよい
— `~UA$を異なる~URIへ~redirectすることにより
（ `HTTP$r `3xx§st を見よ）。
~redirect応答の意味論は、
他の~methodと相違しない。
一例として、
`303$st 応答は，
`Location$h ~fieldが代替-~URIを識別することを指示することになる
— そこから， `GET$m 要請を利用して結果を検索取得できるような
（ `2xx$st0 応答における `Location$h ~fieldの利用も，この利用事例を受持つ）。
他方，`状態s~code$［
`307$st, `308$st
］は、［
`Location$h ~fieldにより指定された~URIに対し `QUERY^m 要請を再び行う
］よう，~UAに要請するために利用できる。
`例＠#examples§ にて，
`QUERY^m 要請に対する成功裡な応答を成す様々な規範的でない例を挙げる。
◎
In some cases, the server may choose to respond indirectly to the QUERY request by redirecting the user agent to a different URI (see Section 15.4 of [HTTP]). The semantics of the redirect response do not differ from other methods. For instance, a 303 (See Other) response would indicate that the Location field identifies an alternate URI from which the results can be retrieved using a GET request (this use case is also covered by the use of the Location response field in a 2xx response). On the other hand, response codes 307 (Temporary Redirect) and 308 (Permanent Redirect) can be used to request the user agent to redo the QUERY request on the URI specified by the Location field. Various non-normative examples of successful QUERY responses are illustrated in Appendix A.
</p>

		</section>
		<section id="conditional">
<h3 title="Conditional Requests">2.3. 条件付き要請</h3>

<p>
条件付き `QUERY^m 要請に対する応答~内に`選定された表現$
（すなわち、
`内容~折衝$（もしあれば）の後における~query結果）が返されるのは、
`HTTP$r `条件付き要請＠~HTTPsem#conditional.requests§【内の特に，`事前条件の評価＠~HTTPsem#evaluation§】にて定義されるとおり，
`条件付き要請~header$（たち）により述べられる状況下に限られる。
◎
A conditional QUERY requests that the selected representation (i.e., the query results, after any content negotiation) be returned in the response only under the circumstances described by the conditional header field(s), as defined in Section 13 of [HTTP].
</p>

		</section>
		<section id="caching">
<h3 title="Caching">2.4. ~cache法</h3>

<p>
`QUERY^m ~methodに対する応答は、
`~cache可能$である
— ~cacheは、
それを利用して，後続な `QUERY^m 要請を満足してもヨイ
（ `HTTP-CACHING$r `~cacheからの応答の構築-法＠~HTTPcache#constructing.responses.from.caches§
に従う下で）。
◎
The response to a QUERY method is cacheable; a cache MAY use it to satisfy subsequent QUERY requests as per Section 4 of [HTTP-CACHING]).
</p>

<p>
~query用の`~cache~key$ `HTTP-CACHING$r には、
当の要請の`内容$を組入れなければナラナイ。
そのためには、
~cacheは，
まず当の内容を次に従って正規化するベキである
— 【`~cache~key$における】意味論的に有意でない相違点を除去して，
それにより~cache効率を改善するために：
◎
The cache key for a query (see Section 2 of [HTTP-CACHING]) MUST incorporate the request content. When doing so, caches SHOULD first normalize request content to remove semantically insignificant differences, thereby improving cache efficiency, by:
</p>
<ul>
	<li>
`内容~符号法$（たち）を除去する。
◎
Removing content encoding(s)
</li>
	<li>
<p>
当の要請が `Content-Type$h ~fieldを伴う場合、
その値に与えられた`~MIME型$ %~MIME型 を利用して：
◎
↓</p>
		<ul>
			<li>
%~MIME型 の接尾辞（例： "`+json^c" ）により指示される形式~規約に関する知識に基づいて正規化する。
◎
Normalizing based upon knowledge of format conventions, as indicated by the any media type suffix in the request's Content-Type field (e.g., "+json")
</li>
			<li>
%~MIME型 により指示される［
当の`内容$自体の意味論に関する知識
］に基づいて正規化する。
◎
Normalizing based upon knowledge of the semantics of the content itself, as indicated by the request's Content-Type field.
</li>
		</ul>
	</li>
</ul>

<p>
そのような正規化は、
もっぱら，`~cache~key$を生成する目的で遂行されることに注意
— それは、
当の要請~自体を変更するものではない。
◎
Note that any such normalization is performed solely for the purpose of generating a cache key; it does not change the request itself.
</p>

		</section>
	</section>
	<section id="field.accept-query">
<h2 title="The &quot;Accept-Query&quot; Header Field">3. `Accept-Query^h ~header</h2>

<p>
`資源$は、
`QUERY^m ~method用の~supportと伴に［
当の資源に利用してもよい特定の~query形式の`~MIME型$（たち）
］を直に通達するためとして，
`Accept-Query^h 応答~headerを利用してもヨイ。
◎
The "Accept-Query" response header field MAY be used by a resource to directly signal support for the QUERY method while identifying the specific query format media type(s) that may be used.
</p>

<pre class="bnf">
Accept-Query
	= 1#`media-type$p
</pre>

<p>
`Accept-Query^h ~headerは、［
~commaで分離された（省略可能な~parameterを伴う）`~MIME型$ `HTTP$r
］たちが成す~listを指定する。
この~fieldの構文は、
現在，`課題 #2860＠https://github.com/httpwg/http-extensions/issues/2860$
にて論じられている
【構文は変更され得る（例えば，有構造~field用の構文に）】。
◎
The Accept-Query header field specifies a comma-separated listing of media types (with optional parameters) as defined by Section 8.3.1 of [HTTP]. field syntax currently discussed in https://github.com/httpwg/http-extensions/issues/2860
</p>

<p>
`Accept-Query^h ~headerに~listされる~MIME型たちの順序は、
有意でない。
◎
The order of types listed by the Accept-Query header field is not significant.
</p>

<p>
`Accept-Query^h の値は、
~server上の同じ~pathを共有する あらゆる~URIに適用される
— 言い換えれば、
`query$p 成分は無視される。
同じ`資源$への要請たちが異なる `Accept-Query^h 値を返す場合、
最も近過去に受信した新鮮な値が利用される
（ `HTTP-CACHING$r `鮮度＠~HTTPcache#expiration.model§
に従って）。
◎
Accept-Query's value applies to every URI on the server that shares the same path; in other words, the query component is ignored. If requests to the same resource return different Accept-Query values, the most recently received fresh (per Section 4.2 of [HTTP-CACHING]) value is used.
</p>

	</section>
	<section id="name-security-considerations">
<h2 title="Security Considerations">4. ~securityの考慮点</h2>

<p>
`QUERY^m ~methodは、
`HTTP$r にて述べられるとおり，［
すべての~HTTP~methodと同じ一般な~security考慮点
］の~subjectになる。
◎
The QUERY method is subject to the same general security considerations as all HTTP methods as described in [HTTP].
</p>

<p>
`QUERY^m ~methodは、［
~URI内（例：~query成分【！section】）に要請~情報を渡すこと
］の代替として利用できる。
一部の事例では、
これが選好される
— ~URIは、
要請の`内容$よりも［
~logされたり，`媒介者$により処理される
］見込みが高いので。
~serverは、
所与の `QUERY^m 要請 %要請 に対し，
その結果を表現する一時的な資源を作成する場合
（例： `Location$h や `Content-Location$h ~fieldにおける利用-用に）、
%要請 が［
~logさせ得ない敏感な情報
］を包含する場合には，この資源の~URIを［
%要請 を成す敏感な部位を内包しない
］ように選ぶベキである。
◎
It can be used as an alternative to passing request information in the URI (e.g., in the query section). This is preferred in some cases, as the URI is more likely to be logged or otherwise processed by intermediaries than the request content. If a server creates a temporary resource to represent the results of a QUERY request (e.g., for use in the Location or Content-Location field) and the request contains sensitive information that cannot be logged, then the URI of this resource SHOULD be chosen such that it does not include any sensitive portions of the original request content.
</p>

<p>
`~cache$が `QUERY^m 要請の`内容$を不正に
— あるいは、
要請の`~target資源$【！the resource】が当の内容を処理する方法とは有意に異なる仕方で —
正規化する場合【`~cache法＠#caching§ を見よ】、
その結果が偽陽性である場合に，不正な応答を返し得る。
◎
Caches that normalize QUERY content incorrectly or in ways that are significantly different than how the resource processes the content can return the incorrect response if normalization results in a false positive.
</p>

<p>
`~CORS＠~FETCH#http-cors-protocol$（ `Cross-Origin Resource Sharing^en ）を実装している`~UA$からの `QUERY^m 要請には、
`~CORS予行~要請＠~FETCH#cors-preflight-request$が要求されることになる
— `QUERY^m は、
`~CORS安全とされる~method＠~FETCH#cors-safelisted-method$ではないので。
`FETCH$r
◎
A QUERY request from user agents implementing CORS (Cross-Origin Resource Sharing) will require a "preflight" request, as QUERY does not belong to the set of CORS-safelisted methods (see "Methods" in [FETCH]).
</p>

	</section>
	<section id="iana.considerations">
<h2 title="IANA Considerations">5. ~IANA考慮点</h2>

		<section id="method.registration">
<h3 title="Registration of QUERY method">5.1. `QUERY^m ~methodの登録</h3>

<p>
~IANAには、
`~HTTP~method~registry＠~IANA-a/http-methods$cite
内に `QUERY^m ~methodを追加するよう要請される
（ `HTTP$r `~method~registry＠~HTTPinfra#method.registry§
を見よ）。
◎
IANA is requested to add the QUERY method to the HTTP Method Registry at &lt;http://www.iana.org/assignments/http-methods&gt; (see Section 16.3.1 of [HTTP]).
</p>

<div>
<table id="table-2"><thead><tr>
<th>~method名
<th>`安全$か
<th>`冪等$か
<th>仕様
<tbody>

<tr>
<td>`QUERY^m
<td>はい
<td>はい
<td>`§ 2＠#query$

</table>
◎
Table 2
Method Name｜Safe｜Idempotent｜Specification
QUERY｜Yes｜Yes｜Section 2
</div>

		</section>
		<section id="field.registration">
<h3 title="Registration of Accept-Query field">5.2. `Accept-Query^h ~fieldの登録</h3>

<p>
~IANAには、
`~HTTP~field名~registry＠~IANA-a/http-fields$cite
内に `Accept-Query^h ~fieldを追加するよう要請される
（ `HTTP$r `~field名~registry＠~HTTPinfra#fields.registry§
を見よ）。
◎
IANA is requested to add the Accept-Query field to the HTTP Field Name Registry at &lt;https://www.iana.org/assignments/http-fields&gt; (see Section 16.1.1 of [HTTP]).
</p>

<div>
<table id="table-3"><thead><tr>
<th>~field名
<th>位置付け
<th>有構造~型
<th>参照
<th>~comment
<tbody>

<tr>
<td>`Accept-Query^h
<td>恒久的
<td>
<td>`3＠#field.accept-query§
<td>
この~fieldの構文は、
現在，`課題 #2860＠https://github.com/httpwg/http-extensions/issues/2860$
にて論じられている。
</table>
◎
Table 3
Field Name｜Status｜Structured Type｜Reference｜Comments
Accept-Query｜permanent｜｜Section 3 of this document.｜field syntax currently discussed in https://github.com/httpwg/http-extensions/issues/2860
</div>

		</section>
	</section>
	<section id="examples">
<h2 title="Examples">付録 A. 例</h2>

<p>
この節における規範的でない例は、［
~SQLに基づく~query構文に基づく，単純な素な~text
］を用立てる
— ~queryの結果は、
~commaで分離された値たちとして返される。
これは、
仮の形式であり，~~説明~目的に限られる。
実装は、［
要請, 応答
］どちらにも，自身が望む形式を利用してかまわない。
◎
The non-normative examples in this section make use of a simple, hypothetical plain-text based query syntax based on SQL with results returned as comma-separated values. This is done for illustration purposes only. Implementations are free to use any format they wish on both the request and response.
</p>

		<section>
<h3 title="Simple QUERY with a Direct Response">A.1. ~redirectを伴わない単純な `QUERY^m</h3>

<p>
~redirectを伴わない単純な~query：
◎
A simple query with a direct response:
</p>

<pre class="lang-http">
QUERY /contacts HTTP/1.1
Host: example.org
Content-Type: application/sql
Accept: text/csv

select surname, givenname, email limit 10
</pre>

<p>
対する応答：
◎
Response:
</p>

<pre class="lang-http">
HTTP/1.1 200 OK
Content-Type: text/csv

surname, givenname, email
Smith, John, john.smith@example.org
Jones, Sally, sally.jones@example.com
Dubois, Camille, camille.dubois@example.net
</pre>

		</section>
		<section>
<h3 title="Simple QUERY with a Direct Response and Location Fields">A.2. ~redirectを伴わない, `Content-Location$h, `Location$h ~fieldを伴う単純な `QUERY^m</h3>

<p>
~redirectを伴わない単純な~query：
◎
A simple query with a direct response:
</p>

<pre class="lang-http">
QUERY /contacts HTTP/1.1
Host: example.org
Content-Type: application/sql
Accept: text/csv

select surname, givenname, email limit 10
</pre>

<p>
対する応答：
◎
Response:
</p>

<pre class="lang-http">
HTTP/1.1 200 OK
Content-Type: text/csv
Content-Location: /contacts/responses/42
Location: /contacts/queries/17

surname, givenname, email
Smith, John, john.smith@example.org
Jones, Sally, sally.jones@example.com
Dubois, Camille, camille.dubois@example.net
</pre>

<p>
`/contacts/responses/42^c に対する後続な `GET$m 要請は、
~serverが当の資源を除去するものと裁定するまでは，同じ応答を返すことになる。
◎
A subsequent GET request on /contacts/responses/42 would return the same response, until the server decides to remove that resource.
</p>

<p>
しかしながら， `/contacts/queries/17^c に対する `GET$m 要請は、
再び同じ~queryを実行して，当の~queryに対する新鮮な結果を返すことになる：
◎
A GET request on /contacts/queries/17 however would execute the same query again, and return a fresh result for that query:
</p>

<pre class="lang-http">
GET /contacts/queries/17 HTTP/1.1
Host: example.org
Accept: text/csv
</pre>

<p>
対する応答：
◎
Response:
</p>

<pre class="lang-http">
HTTP/1.1 200 OK
Content-Type: text/csv
Content-Location: /contacts/responses/43

surname, givenname, email
Jones, Sally, sally.jones@example.com
Dubois, Camille, camille.dubois@example.net
</pre>

		</section>
		<section>
<h3 title="Simple QUERY with Indirect Response (303 See Other)">A.3. ~redirect（ `303^st ）を伴う単純な `QUERY^m</h3>

<p>
~redirect（ `303$st ）を伴う単純な~query：
◎
A simple query with an Indirect Response (303 See Other):
</p>

<pre class="lang-http">
QUERY /contacts HTTP/1.1
Host: example.org
Content-Type: application/sql
Accept: text/csv

select surname, givenname, email limit 10
</pre>

<p>
対する応答：
◎
Response:
</p>

<pre class="lang-http">
HTTP/1.1 303 See Other
Location: /contacts/query123
</pre>

<p>
~query応答の検索取得：
◎
Retrieval of the Query Response:
Fetch Query Response:
</p>

<pre class="lang-http">
GET /contacts/query123 HTTP/1.1
Host: example.org
</pre>

<p>
対する応答：
◎
Response:
</p>

<pre class="lang-http">
HTTP/1.1 200 OK
Content-Type: text/csv

surname, givenname, email
Smith, John, john.smith@example.org
Jones, Sally, sally.jones@example.com
Dubois, Camille, camille.dubois@example.net
</pre>

		</section>
		<section>
<h3 title="Simple QUERY with Redirect Response (308 Moved Permanently)">A.4. ~redirect応答（ `308$st ）を伴う単純な `QUERY^m</h3>

<p>
~redirectされている単純な~query：
◎
A simple query being redirected:
</p>
<div class="alignLeft art-http-message art-text artwork">

<pre class="lang-http">
QUERY /contacts HTTP/1.1
Host: example.org
Content-Type: application/sql
Accept: text/csv

select surname, givenname, email limit 10
</pre>
</div>

<p>
対する応答：
◎
Response:
</p>
<div class="alignLeft art-http-message art-text artwork">

<pre class="lang-http">
HTTP/1.1 308 Moved Permanently
Location: /morecontacts
</pre>
</div>

<p>
~redirectされた要請：
◎
Redirected request:
</p>
<div class="alignLeft art-http-message art-text artwork">

<pre class="lang-http">
QUERY /morecontacts HTTP/1.1
Host: example.org
Content-Type: application/sql
Accept: text/csv

select surname, givenname, email limit 10
</pre>
</div>

<p>
対する応答：
◎
Response:
</p>
<div class="alignLeft art-http-message art-text artwork">

<pre class="lang-http">
HTTP/1.1 200 OK
Content-Type: text/csv

surname, givenname, email
Smith, John, john.smith@example.org
Jones, Sally, sally.jones@example.com
Dubois, Camille, camille.dubois@example.net
</pre>
</div>

		</section>
	</section>
	<section id="change.log">
<h2 title="Appendix A. Change Log">付録 B. 変更~log</h2>

<p>
この節は、
~RFCとして公表する前に除去されることになる。
【以下，この節の内容は、未訳。】
◎
This section is to be removed before publishing as an RFC.
</p>

	</section>
</main></div>
