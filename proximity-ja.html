<!DOCTYPE html><html lang="ja"><head><meta charset="utf-8" />
<title>Proximity Sensor（日本語訳）</title>

<link rel="stylesheet" href="common.css" type="text/css" />
<link rel="stylesheet" href="common-w3c.css" type="text/css" />

<script src="common0.js" ></script>
<script src="common1.js" async></script>

<script>

Util.ready = function(){
	const source_data = {
		toc_main: 'MAIN0',
		generate: expand
	};
	Util.switchWordsInit(source_data);
}

function expand(){
	const class_map = this.class_map;
	const tag_map = this.tag_map;
	const link_map = this.link_map;

	return this.html.replace(
		/%[\w\-~一-鿆あ-ん]+|`(.+?)([$@\^])(\w*)/g,
		create_html
	);

	function create_html(match, key, indicator, klass){

if(!key) {//%
	return `<var>${match.slice(1)}</var>`;
}

let text = key;
let href = '';

switch(klass){
case 'r':
	text = `[${key}]`;
	href = `#biblio-${key.toLowerCase()}`;
	break;
case 'pN':
case 'l':
	text = `"<code class="literal">${text}</code>"`;
	break;
case 'mc':
	text = 'constructor';
	klass = 'm';
	key = `new ${key}`;
	break;
case 'm':
	const n = text.indexOf('(');
	if(n > 0){
		key = text.slice(0, n);
		text = key + text.slice(n).replace(/\w+/g, '<var>$&</var>');
	}
	break;
case 'dgm':
	return `<a id="_dgm-${key}">＊</a>`;
	break;
case 'en':
	return `<span lang="en">${key}</span>`;
	break;
}

let tag = tag_map[klass];
if(tag) {
	let classname = class_map[klass];
	classname = classname ? ` class="${classname}"` : '';
	text = `<${tag}${classname}>${text}</${tag}>`;
}

if(indicator !== '^'){
	href = link_map[ klass ? `${klass}.${key}` : key ] || href;
	if(!href){
		console.log(match); // check error
		return match;
	}

	switch(indicator){
	case '$':
		text = `<a href="${href}">${text}</a>`;
		break;
	case '@':
		text = `<dfn id="${href.slice(1)}">${text}</dfn>`;
		break;
	}
}

return text;


	}
}

</script>


<script type="text/plain" id="_source_data">


●●options

spec_title:Proximity Sensor
spec_date:2021-06-01
trans_update:2021-06-03
source_checked:190221
spec_status:ED
original_url:https://w3c.github.io/proximity/
	abbr_url:PROXIMITY
ref_id_prefix:biblio-
ref_id_lowercase:true
page_state_key:SENSORS
site_nav:sensors
copyright:2021,permissive
trans_1st_pub:2019-08-27
conformance:w3c

●●class_map
E:error

●●tag_map
I:code
E:code
m:code
mb:code
c:code
cite:cite
i:i
em:em

●●original_id_map

●●mdn_urls
	proximitysensor:API/ProximitySensor
	dictdef-proximityreadingvalues:API/ProximityReadingValues

●●link_map

	●IDL

SecureContext:~WEBIDLjs#SecureContext
Exposed:~WEBIDLjs#Exposed

boolean:~WEBIDL#idl-boolean
double:~WEBIDL#idl-double

E.SecurityError:~WEBIDL#securityerror
	I.DOMException:~WEBIDL#idl-DOMException

I.ProximitySensor:#proximitysensor
I.ProximityReadingValues:#dictdef-proximityreadingvalues
I.Sensor:~SENSORS#sensor
I.SensorOptions:~SENSORS#dictdef-sensoroptions

l.proximity:~SENSORS#dom-mocksensortype-proximity

m.new ProximitySensor:#dom-proximitysensor-proximitysensor
m.distance:#dom-proximitysensor-distance
m.max:#dom-proximitysensor-max
m.near:#dom-proximitysensor-near

mb.distance:#dom-proximityreadingvalues-distance
mb.max:#dom-proximityreadingvalues-max
mb.near:#dom-proximityreadingvalues-near

	●用語

i.~proximity~sensor:#proximity-sensor
距離:#distance
~max:#max
~near:#near
~senseしている範囲:#sensing-range

~proximity~sensor~objを初期化する:#construct-a-proximity-sensor-object
	~proximity~sensor~objを構築する:#construct-a-proximity-sensor-object

	●用語（sensor

~sensor読取り:~SENSORS#sensor-reading
~sensor~objを初期化する:~SENSORS#initialize-a-sensor-object
~sensor型:~SENSORS#sensor-type
~sensor施策により制御される特能を検査する:~SENSORS#check-sensor-policy-controlled-features
既定の~sensor:~SENSORS#default-sensor
最新な読取り~map:~SENSORS#latest-reading
最新な読取り~mapから値を取得する:~SENSORS#get-value-from-latest-reading
模擬~sensor型:~SENSORS#mock-sensor-type
模擬~sensor読取り値たち:~SENSORS#mock-sensor-reading-values


	~SENSORS#device-fingerprinting
	~SENSORS#user-identifying
	~SENSORS#mitigation-strategies
	~SENSORS#automation

	●用語（外部
map.~entry:~INFRA#map-entry
map.~key:~INFRA#map-key
map.値:~INFRA#map-value
	~THROW:~WEBIDL#dfn-throw
構築子~手続き:~WEBIDL#constructor-steps

●●words_table1


●●words_table

	●幾何／物理
proximity:::近接
近接性:closeness:~
面:surface::~
near:
max:
sensing:
電磁:electromagnetic::~
放射:radiation::~
赤外線:infrared light::~
素材:material::~
物性:material property::~
磁場:magnetic field::~
透明度:translucency::~
反射度:reflectivenes::~
色:color::~
温度:temperature::~
化学組成:chemical composition::~
反射-:reflect::~
近辺:vicinity:~
接触-:contact:~
物体:physical object:~

	近くに:near
	どこか:somewhere
	近くにある:nearby
	最も近い:closest::~

	●sensor／測定
device:
sensor::::センサ
sense::::センス
	~senseしている:sensing
frequency:
最新な:latest:~
模擬:mock::~
標本化:sampling::~::サンプリング
検出器:detector::~
centimeter::::センチメートル

	●保安
策:strategy:~
補う:complementする:~

	●仕様（ status
追求-:pursue:~
横断的:horizontal:~
	始まって以降の:since 〜 took place
	当~WG:the group

	●仕様
自動化:automation:~
推定-:infer:~
演繹-:deduce:~
確度:certainty:~
原型:prototype:~
一式:suite:~
黙示-:imply:~

	汎用~sensor~API^cite／^en:Generic Sensor API
	~proximity~sensor^cite:Proximity Sensor
	程度:degree
	だけ:just
	~~意見:input
	可能でない:unable:~
	さらには:moreover
	ある種の:certain
	も:but are not limited to
	あり得る:potential

	●未分類
構成:construction:~
	戻る:back
	含む:include

	●指示語
main:
	もの:thing

	●変数
	%~proximity~sensor:~proximity_sensor



●●ref_normative

[GENERIC-SENSOR]
    Rick Waldron. Generic Sensor API. URL: https://w3c.github.io/sensors/ 
[INFRA]
    Anne van Kesteren; Domenic Denicola. Infra Standard. Living Standard. URL: https://infra.spec.whatwg.org/ 
[RFC2119]
    S. Bradner. Key words for use in RFCs to Indicate Requirement Levels. March 1997. Best Current Practice. URL: https://tools.ietf.org/html/rfc2119 
[WEBIDL]
    Boris Zbarsky. Web IDL. URL: https://heycam.github.io/webidl/ 


●●
ref_informative

●●trans_metadata
<p>
~THIS_PAGEは、~W3Cにより
編集者草案として公開された
<a href="~SPEC_URL">Proximity Sensor</a>
を日本語に翻訳したものです。
~PUB

●●spec_metadata


最新発行バージョン
	https://www.w3.org/TR/proximity/
バージョン履歴
	https://github.com/w3c/proximity/commits/main/index.bs
フィードバック
	<a href="mailto:public-device-apis@w3.org?subject=%5Bproximity%5D%20YOUR%20TOPIC%20HERE">public-device-apis@w3.org</a> with subject line “<kbd>[proximity] <i>… message topic …</i></kbd>” (<a href="https://lists.w3.org/Archives/Public/public-device-apis/" rel="discussion">archives</a>)
課題追跡
	<a href="https://github.com/w3c/proximity/issues/">GitHub Issues</a>
編集
	<a href="https://intel.com/">Anssi Kostiainen</a> (Intel Corporation)
	<a href="https://intel.com/">Rijubrata Bhaumik</a> (Intel Corporation)
前任編集者
	<a href="https://intel.com/">Dzung D Tran</a> (Intel Corporation)
バグ報告
	<a href="https://www.github.com/w3c/proximity/issues/new">via the w3c/proximity repository on GitHub</a>
テスト一式
	<a href="https://github.com/web-platform-tests/wpt/tree/master/proximity">web-platform-tests on GitHub</a>

発行者
	<a href="https://www.w3.org/das/">Devices and Sensors Working Group</a>

</script>
</head>
<body>

<header>
	<hgroup>
<h1>近接センサ — Proximity Sensor</h1>
	</hgroup>
</header>

<div id="MAIN" hidden>

	<section id="abstract">
~ABSTRACT

<p>
この仕様は、近くにある物体（物理的~obj）が在ることを
— 物理的に接触することなく —
監視する具象-~sensor~interfaceを定義する。
◎
This specification defines a concrete sensor interface to monitor the presence of nearby physical objects without physical contact.
</p>

	</section>
	<section id="sotd">
~STATUSofTHIS

<p>
この節では、発行時点における…
【以下、この節の他の内容は <a href="w3c-common-ja.html#status" >W3C 日本語訳 共通~page</a>／冒頭の仕様~metadataに移譲。】
</p>

<p>
`Devices and Sensors ~WG^cite
は、この仕様に対する現代の［
~security／~privacy
］考査を追求している
— この仕様と［
~privacy／~security
］についての横断的な考査の実施が始まって以降の変更の量を考慮に入れる下で。
類似に，当~WGは、この仕様に対する，
`Technical Architecture Group^cite（ TAG, 技術-~architecture~group）による
— 最新な~architecture上の考査の実施を織り込む下での —
考査の更新を追求している。
◎
The Devices and Sensors Working Group is pursuing modern security and privacy reviews for this specification in consideration of the amount of change in both this specification and in privacy and security review practices since the horizontal reviews took place. Similarly, the group is pursuing an update to the Technical Architecture Group review for this specification to account for the latest architectural review practices.
</p>

	</section>

<main id="MAIN0">

	<section id="intro">
<h2 title="Introduction">1. 序論</h2>


<p>
`~proximity~sensor^cite（ `Proximity Sensor^en ）は、`汎用~sensor~API^cite（ `Generic Sensor API^en ） `GENERIC-SENSOR$r
を拡張して，~deviceの首な~proximity~sensorにより検出される~proximity~levelについて情報を供する。
~proximity~levelは、~sensorから最も近い可視~面までの距離として（~centimeterで）報告される。
<a href="#limitations-proximity-sensors">§ ~proximity~sensorの制限</a>にて、あり得る制限について，もっと述べる
— ［
検出~手法, ~sensorの構成, 等々
］の相違に因り，報告される精確な距離~値が~deviceにより異なるわけについてなど。
さらには，一部の~proximity~sensorは、近くに物体があるかどうかを指示する真偽値だけしか供せないかもしれず、絶対的な距離より，その有無の検出の様になる。
◎
The Proximity Sensor extends the Generic Sensor API [GENERIC-SENSOR] to provide information about proximity level, as detected by the device’s primary proximity sensor. The proximity level is reported as the distance (in centimeter) from the sensor to the closest visible surface. § 8 Limitations of Proximity Sensors describes more about the potential limitations, why the precise distance value reported by different devices can be different, due to differences in detection method, sensor construction, etc. Moreover some proximity sensors might be only able to provide just a boolean to indicate if there is a physical object which is near, more like presence detection, than an absolute value for the distance.
</p>


	</section>
	<section id="examples">
<h2 title="Examples">2. 例</h2>

<div class="example">

<pre class="lang-js">
let %sensor = new ProximitySensor();
%sensor.start();

%sensor.onreading = () =&gt; console.log(%sensor.distance);

%sensor.onerror = %event =&gt; console.log(%event.error.name, %event.error.message);
</pre>
</div>

	</section>
	<section id="security-and-privacy">
<h2 title="Security and Privacy Considerations">3. ~security／~privacyの考慮点</h2>

<p>
~proximity~sensorは、~sensorの近くにある~objの近接性について情報を供する。
したがって、［
<a href="~SENSORS#user-identifying">利用者を識別する</a> ／
<a href="~SENSORS#device-fingerprinting">指紋収集する</a>
］攻撃に対し，~privacyに敏感な情報を公開し得る。
◎
Proximity sensor provides information about closeness of the sensor to nearby objects, thus, may expose privacy sensitive information for user identifying and/or fingerprinting attacks.
</p>


<p>
これらを軽減するため、~UAは，次に挙げる<a href="~SENSORS#mitigation-strategies">軽減~策</a>のうち一方または両方を利用するベキである
— `~sensor読取り$の：
◎
To mitigate these, user agents should use one or both of the following mitigation strategies:
</p>

<ul>
	<li>
<a href="~SENSORS#reduce-accuracy">正確度を抑制する</a>
◎
reduce accuracy of a sensor reading
</li>
	<li>
<a href="~SENSORS#limit-max-frequency">最大~標本化~frequencyを制限する</a>
◎
limit maximum sampling frequency
</li>
</ul>

<p>
これらの軽減~策は、`汎用~sensor~API^cite `GENERIC-SENSOR$r に定義される
<a href="~SENSORS#mitigation-strategies">汎用な軽減~策</a>
を補う。
◎
These mitigation strategies complement the generic mitigations defined in the Generic Sensor API [GENERIC-SENSOR].
</p>

	</section>
	<section id="model">
<h2 title="Model">4. ~model</h2>

<p>
`~sensor型$
`~proximity~sensor@i
（ `Proximity Sensor^en ）に結付けられる `Sensor$I 下位classは、
`ProximitySensor$I ~classである。
◎
The Proximity Sensor sensor type’s associated Sensor subclass is the ProximitySensor class.
</p>

<p>
`~proximity~sensor$i の`既定の~sensor$は、~deviceの~main~proximity検出器である。
◎
The Proximity Sensor has a default sensor, which is the device’s main proximity detector.
</p>

<p>
`~proximity~sensor$i `~sensor型$の `Sensor$I 用の`最新な読取り~map$は［
`distance^l, `max^l, `near^l
］を`~key$mapとする 3 個の`~entry$mapを含む。
それらの各`値$mapは、［
`距離$, `~max$, `~near$
］を包含する。
◎
A latest reading for a Sensor of Proximity Sensor sensor type includes three entries whose keys are "distance", "max", "near" and whose values contain distance, max and near values.
</p>

<p>
`距離@
は、
`~senseしている範囲@
の中で，~deviceから物体の最も近い可視~面までの距離を表現する値である。
その単位は~centimeter（ cm ）とする。
◎
The distance is a value that represents the distance between a device and the closest visible surface of the physical object within the sensing range. Its unit is the centimeter (cm).
</p>

<p>
`~max@
は、~main~proximity検出器が`~senseしている範囲$の最大を~centimeter数で表現する値である。
◎
The max is a value that represents the maximum sensing range of the main proximity detector, in centimeters.
</p>

<p>
`~near@
は、~main~proximity検出器の近辺に可視~面が在ることを表現する値である。
◎
The near is a value that represent the presence of a visible surface in the vicinity of the main proximity detector.
</p>


	</section>
	<section id="api">
<h2 title="API">5. ~API</h2>

		<section id="proximity-sensor-interface">
<h3 title="The ProximitySensor Interface">5.1. `ProximitySensor^I ~interface</h3>

<pre class="idl">
[`SecureContext$, `Exposed$=Window]
interface `ProximitySensor@I : `Sensor$I {
  `ProximitySensor$mc(optional `SensorOptions$I %sensorOptions ={});
  readonly attribute `double$? `distance$m;
  readonly attribute `double$? `max$m;
  readonly attribute `boolean$? `near$m;
};
</pre>


<div class="algo">
`new ProximitySensor(sensorOptions)@m
構築子~手続きは
⇒
`~proximity~sensor~objを初期化する$( %sensorOptions )
◎
To construct a ProximitySensor object the user agent must invoke the construct a proximity sensor object abstract operation.
</div>

<div class="algo">
<p id="proximity-sensor-distance">
`distance@m
取得子~手続きは：
</p>
<ol>
	<li>
~IF［
物体は`~senseしている範囲$の外側にある
］
⇒
~RET ~NULL
</li>
	<li>
~RET `最新な読取り~mapから値を取得する$( コレ, `distance^l )
</li>
</ol>
◎
5.1.1. The distance attribute
◎
The distance attribute of the ProximitySensor interface returns the result of invoking get value from latest reading with this and "distance" as arguments.
◎
If the physical object is outside the sensing range, the attribute must return null.
</div>

<div class="algo" id="proximity-sensor-max">
`max@m
取得子~手続きは
⇒
~RET `最新な読取り~mapから値を取得する$( コレ, `max^l )
◎
5.1.2. The max attribute
◎
The max attribute of the ProximitySensor interface returns the result of invoking get value from latest reading with this and "max" as arguments.
</div>

<div class="algo">
<p id="proximity-sensor-near">
`near@m
取得子~手続きは：
</p>
<ol>
	<li>
~IF［
物体は`~senseしている範囲$の外側にある
］
⇒
~RET ~NULL
</li>
	<li>
~RET `最新な読取り~mapから値を取得する$( コレ, `near^l )
</li>
</ol>

<p class="note">注記：
実装は、`~near$値を供せない場合，`距離$の値から`~near$値を推定することもできる。
例えば，`距離$が`~max$に等しくない場合【？】、`~senseしている範囲$内に物体があることを黙示し得る。
</p>
◎
5.1.3. The near attribute
◎
The near attribute of the ProximitySensor interface returns the result of invoking get value from latest reading with this and "near" as arguments.
◎
If the physical object is outside the sensing range, the attribute must return null.
◎
Note: If the implementation is unable to provide the near value, it could infer the near value from the value of distance. For example, if distance is not equal to max, it could imply there is a physical object in the sensing range.
</div>

		</section>
	</section>
	<section id="abstract-operations">
<h2 title="Abstract Operations">6. 抽象-演算</h2>

<div class="algo">
<p>
`~proximity~sensor~objを初期化する@
ときは、所与の
( %~proximity~sensor, %~options )
に対し：
◎
6.1. Construct a proximity sensor object
</p>
<ol>
	<li>
~Assert：
%~proximity~sensor は
`ProximitySensor$I ~interfaceを実装する
◎
↓</li>
	<li>
~Assert：
%~options は `SensorOptions$I 辞書である
◎
input
• options, a SensorOptions object.
◎
output
• A ProximitySensor object.
</li>
	<li>
~IF［
`~sensor施策により制御される特能を検査する$( `~proximity~sensor$i【！`ProximitySensor$I】 ) ~EQ ~F
］
⇒
~THROW `SecurityError$E
◎
Let allowed be the result of invoking check sensor policy-controlled features with ProximitySensor.
◎
If allowed is false, then:
• Throw a SecurityError DOMException.
</li>
	<li>
`~sensor~objを初期化する$( %~proximity~sensor, %~options )
◎
Let proximity_sensor be the new ProximitySensor object.
◎
Invoke initialize a sensor object with proximity_sensor and options.
◎
Return proximity_sensor.
</li>
</ol>

<p class="trans-note">【
原文の この~algoは，新たな~instanceを作成して返しているが、
`WEBIDL$r の`構築子~手続き$の規約に則って，この訳では初期化のみ行うよう改めている。
】</p>
</div>

	</section>
	<section id="automation">
<h2 title="Automation">7. 自動化</h2>

<p>
この節では、`汎用~sensor~API^cite `GENERIC-SENSOR$r にて定義される<a href="~SENSORS#automation">自動化</a>を拡張する
— ~UAによる `ProximitySensor$I ~APIの実装を~testする目的で，~proximity~levelについて模擬する情報を供するためとして。
◎
This section extends the automation section defined in the Generic Sensor API [GENERIC-SENSOR] to provide mocking information about the proximity level for the purposes of testing a user agent’s implementation of ProximitySensor API.
</p>

		<section id="mock-proximity-sensor-type">
<h3 title="Mock Sensor Type">7.1. 模擬~sensor型</h3>

<p>
`ProximitySensor$I ~classに結付けられる`模擬~sensor型$は，
`proximity$l であり、その`模擬~sensor読取り値たち$が成す辞書は，次に従って定義される：
◎
The ProximitySensor class has an associated mock sensor type which is "proximity", its mock sensor reading values dictionary is defined as follows:
</p>


<pre class="idl">
dictionary `ProximityReadingValues@I {
  required `double$? `distance@mb;
  required `double$? `max@mb;
  required `boolean$? `near@mb;
};
</pre>

		</section>
	</section>
	<section id="limitations-proximity-sensors">
<h2 title="Limitations of Proximity Sensors">8. ~proximity~sensorの制限</h2>

<p>
ほとんどの~proximity~sensorは、電磁~放射を検出するので（例：赤外線や磁場）、ある種の物性は，物体が在ることを~senseする~sensorの能に干渉し得る。
~sensorに干渉し得るものには、素材の［
透明度, 反射度, 色, 温度, 化学組成
］に加え，物体が~sensorに戻るよう放射を反射している角度すらも含まれる。
そのようなわけで、距離を測定する手段として，~proximity~sensorに依拠するベキではない。
~proximity~sensorから演繹できるのは、ある程度の確度で［
物体が，［
~senseしている最小~距離から~senseしている最大~距離まで
］のどこかにあること
］に限られる。
◎
Since most proximity sensors detect electromagnetic radiation (e.g., an infrared light or a magnetic field), certain material properties can interfere with the sensor’s ability to sense the presence of a physical object. Things that can interfere with a sensor include, but are not limited to, the material’s translucency, reflectiveness, color, temperature, chemical composition, and even the angle at which the physical object is reflecting the radiation back at the sensor. As such, proximity sensors should not be relied on as a means to measure distance. The only thing that can be deduced from a proximity sensor is that a physical object is somewhere in the distance between the minimum sensing distance and the maximum sensing distance with some degree of certainty.
</p>

	</section>
	<section id="acknowledgements">
<h2 title="Acknowledgements">9. 謝辞</h2>

<p>
`汎用~sensor~API^citeの作業を為され，この仕様に~~意見を寄せられた `Tobie Langel^en 氏に。
初期~原型と, ~test一式を寄せられた `Marcos Caceres^en 氏に。
◎
Tobie Langel for the work on Generic Sensor API and inputs on this specification. Doug Turner for the initial prototype and Marcos Caceres for the test suite.
</p>

	</section>
</main></div>

