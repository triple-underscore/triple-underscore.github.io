<!DOCTYPE html><html lang="ja"><head><meta charset="utf-8" />
<title>Ambient Light Sensor（日本語訳）</title>

<link rel="stylesheet" href="common.css" type="text/css" />
<link rel="stylesheet" href="common-w3c.css" type="text/css" />

<script src="common0.js" ></script>
<script src="common1.js" async></script>

<script>

Util.ready = function(){
	const source_data = {
		toc_main: 'MAIN0',
		generate: expand
	};
	Util.switchWordsInit(source_data);
}

function expand(){
	const class_map = this.class_map;
	const tag_map = this.tag_map;
	const link_map = this.link_map;

	return this.html.replace(
		/%[\w\-~一-鿆あ-ん]+|`(.+?)([$@\^])(\w*)/g,
		create_html
	);

	function create_html(match, key, indicator, klass){

if(!key) {//%
	return `<var>${match.slice(1)}</var>`;
}

let text = key;
let href = '';

switch(klass){
case 'r':
	text = `[${key}]`;
	href = `#biblio-${key.toLowerCase()}`;
	break;
case 'pN':
case 'l':
	text = `"<code class="literal">${text}</code>"`;
	break;
case 'mc':
	text = 'constructor';
	klass = 'm';
	key = `new ${key}`;
	break;
case 'm':
	const n = text.indexOf('(');
	if(n > 0){
		key = text.slice(0, n);
		text = key + text.slice(n).replace(/\w+/g, '<var>$&</var>');
	}
	break;
case 'en':
	return `<span lang="en">${key}</span>`;
	break;
}

let tag = tag_map[klass];
if(tag) {
	let classname = class_map[klass];
	classname = classname ? ` class="${classname}"` : '';
	text = `<${tag}${classname}>${text}</${tag}>`;
}

if(indicator !== '^'){
	href = link_map[ klass ? `${klass}.${key}` : key ] || href;
	if(!href){
		console.log(match); // check error
		return match;
	}

	switch(indicator){
	case '$':
		text = `<a href="${href}">${text}</a>`;
		break;
	case '@':
		text = `<dfn id="${href.slice(1)}">${text}</dfn>`;
		break;
	}
}

return text;


	}
}

</script>


<script type="text/plain" id="_source_data">


●●options

spec_title:Ambient Light Sensor
spec_date:2021-12-08
trans_update:2021-12-09
source_checked:190809
spec_status:ED
original_url:https://w3c.github.io/ambient-light/
	abbr_url:AMBIENT-LIGHT
ref_id_prefix:biblio-
ref_id_lowercase:true
page_state_key:SENSORS
site_nav:sensors
ref_id_lowercase:true
copyright:2021,permissive
trans_1st_pub:2019-08-26
conformance:w3c

●●class_map
E:error
et:event-type
d:descriptor

●●tag_map
I:code
E:code
m:code
c:code
mb:code
cite:cite
et:code
d:code
i:i
em:em

●●original_id_map

●●mdn_urls
ambientlightsensor:API/AmbientLightSensor
	dictdef-ambientlightreadingvalues:API/AmbientLightReadingValues

●●link_map

	●IDL
SecureContext:~WEBIDLjs#SecureContext
Exposed:~WEBIDLjs#Exposed
double:~WEBIDL#idl-double

E.SecurityError:~WEBIDL#securityerror

	I.DOMException:~WEBIDL#idl-DOMException
I.AmbientLightSensor:#ambientlightsensor
I.AmbientLightReadingValues:#dictdef-ambientlightreadingvalues
I.Sensor:~SENSORS#sensor
I.SensorOptions:~SENSORS#dictdef-sensoroptions

m.new AmbientLightSensor:#dom-ambientlightsensor-ambientlightsensor
	%sensorOptions:#dom-ambientlightsensor-ambientlightsensor-sensoroptions-sensoroptions

m.illuminance:#dom-ambientlightsensor-illuminance
mb.illuminance:#dom-ambientlightreadingvalues-illuminance

m.matchMedia:~CSSOMVIEW#dom-window-matchmedia

l.ambient-light:~SENSORS#dom-mocksensortype-ambient-light
pN.ambient-light-sensor:~PERMISSIONS#dom-permissionname-ambient-light-sensor

d.prefers-contrast:~MQ5#descdef-media-prefers-contrast
d.prefers-color-scheme:~MQ5#descdef-media-prefers-color-scheme

	●用語

i.~ambient光~sensor:#ambient-light-sensor
現在の光~level:#current-light-level
~ambient光~sensor~objを初期化する:#construct-an-ambient-light-sensor-object
	~ambient光~sensor~objを構築する:#construct-an-ambient-light-sensor-object

照度:#illuminance


	●用語（sensor
~sensor~objを初期化する:~SENSORS#initialize-a-sensor-object
~sensor型:~SENSORS#sensor-type
~sensor施策により制御される特能を検査する:~SENSORS#check-sensor-policy-controlled-features
~sensor許可~名~群:~SENSORS#sensor-permission-names
~sensor読取り:~SENSORS#sensor-reading
既定の~sensor:~SENSORS#default-sensor
最新な読取り~mapから値を取得する:~SENSORS#get-value-from-latest-reading
標本化~frequency:~SENSORS#sampling-frequency
模擬~sensor型:~SENSORS#mock-sensor-type
模擬~sensor読取り値~群:~SENSORS#mock-sensor-reading-values
~sensor許可~revocation~algo:~SENSORS#generic-sensor-permission-revocation-algorithm

	●用語（外部
	~THROW:~WEBIDL#dfn-throw
構築子~手続き:~WEBIDL#constructor-steps

施策により制御される特能:~PERMISSIONS-POLICY#policy-controlled-feature
既定の許容list:~PERMISSIONS-POLICY#default-allowlist
許可~revocation~algo:~PERMISSIONS#dfn-permission-revocation-algorithm
強力な特能:~PERMISSIONS#dfn-powerful-feature
名前:~PERMISSIONS#dfn-name

選好される色~scheme:~CSSCOLORADJUST#preferred-color-scheme
媒体~特能:~MQ5#media-feature


●●words_table1

●●words_table

	●物理
ambient:::環境
光:light::~
照度:illuminance::~
lux::::ルクス
露光:exposure:~
ISOspeed:ISO::ISO 感度

	周囲の:surrounding
	近くにある:close by
	最も近い:closest
	近くの:near the
	周りの:around
	近くの:nearby

	●sensor／測定
device:
sensor::::センサ
frequency:
最新な:latest:~
模擬:mock::~
検出器:detector::~
標本化-:sample::~::サンプル
標本化:sampling::~::サンプリング

	●事例
LED:
flash::::フラッシュ
camera::::カメラ
gesture::::ジェスチャ
黒い:blackな:~
白い:whiteな:~
作業場:workplace:~
照明:lighting:~
拡大-:scale:~
	画素ごと:pixel by pixel
aperture-shutter-speed-ISO:aperture, shutter speed, ISO:絞り, シャッター速度, ISO 感度
	手をかざす:hovering hand
ゲームキャラ:game character::~
入射光較正定数:incident-light calibration constant:入射光 較正定数
	手をかざす:hovering hand
反射面:reflective surface:~

公共区域:public area:~
事務作業:office work:~
授業:classes:~
居宅:home:~
smart::::スマート
劇場:theater:~
日用品店:grocery:~
実験室:laboratory:~
製作所:mechanical workshop:~
絵描き:drawing:~
食料品店:supermarket:~
製図作業:detailed drawing work:~
contrast::::コントラスト
簡単:easy:~
	短い:short
	たまに:occasionally


	●保安
策:strategy:~
脅威:threat:~
補う:complementする:~
挙動上の:behavioralな:~
分析:analysis:~
強奪:hijacking:~
閲覧:browsing:~
未訪問:unvisited:~
	訪問-済み:visited
読出され:read outされ:読み出され
broadcast::::ブロードキャスト
増補-:enhance:~
相関-:correlate::~
許容list:allowlist::許容 list:許容リスト
revocation::取り消し

	●仕様（ status
追求-:pursue:~
横断的:horizontal:~
	始まって以降の:since 〜 took place
	当~WG:the group

	●仕様
自動化:automation:~
原型:prototype:~
一式:suite:~
査定:assessment:~
木目細かな:fine-grainedな:~
	木目細かな:fine grained
付随-:accompany:~
profile::::プロファイル
	~profile法:profiling
束ねら:tieさ:~

	~ambient光~sensor:Ambient Light Sensor
	汎用~sensor~API:Generic Sensor API
	足る:sufficient
	し得る:potential
	より高:higher-
	支持を受けて:in favor of

	●未分類
print:
発され:emitされ:~
変動:fluctuation:~
構成:construction:~
色:color::~

	~style:styling
	~web~page:webpage
	戻る:back
	lx
	EV
	^i:LightLevelSensor
	今から:ready

	●指示語
main:
	数種の:a small set
	低-:low
	高-:high
	より高い:higher
	になり次第:whenever
	またがる:cross-

	●変数
	%~ambient光~sensor:~ambient_light_sensor:#3

●●ref_normative

[GENERIC-SENSOR]
    Rick Waldron. ＜Generic Sensor API＞. URL: https://w3c.github.io/sensors/
[PERMISSIONS]
    Marcos Caceres; Mike Taylor. ＜Permissions＞. URL: https://w3c.github.io/permissions/
[PERMISSIONS-POLICY-1]
    Ian Clelland. ＜Permissions Policy＞. URL: https://w3c.github.io/webappsec-permissions-policy/
[RFC2119]
    S. Bradner. ＜Key words for use in RFCs to Indicate Requirement Levels＞. March 1997. Best Current Practice. URL: https://datatracker.ietf.org/doc/html/rfc2119
[WEBIDL]
    Edgar Chen; Timothy Gu. ＜Web IDL Standard＞. Living Standard. URL: https://webidl.spec.whatwg.org/

●●ref_informative

[CSSOM-VIEW-1]
    Simon Pieters. ＜CSSOM View Module＞. URL: https://drafts.csswg.org/cssom-view/
[MEDIAQUERIES-5]
    Dean Jackson; Florian Rivoal; Tab Atkins Jr.. ＜Media Queries Level 5＞. URL: https://drafts.csswg.org/mediaqueries-5/
[SI]
    ＜SI Brochure: The International System of Units (SI), 8th edition＞. 2014. URL: http://www.bipm.org/en/publications/si-brochure/


●●trans_metadata
<p>
~THIS_PAGEは、~W3Cにより
編集者草案として公開された
<a href="~SPEC_URL">Ambient Light Sensor</a>
を日本語に翻訳したものです。
~PUB

●●spec_metadata

最新公表バージョン
	http://www.w3.org/TR/ambient-light/
バージョン履歴
	https://github.com/w3c/ambient-light/commits/main/index.bs
フィードバック
	<a href="mailto:public-device-apis@w3.org?subject=%5Bambient-light%5D%20YOUR%20TOPIC%20HERE">public-device-apis@w3.org</a> with subject line “<kbd>[ambient-light] <i>… message topic …</i></kbd>” (<a href="https://lists.w3.org/Archives/Public/public-device-apis/" rel="discussion">archives</a>)
	<a href="https://github.com/w3c/ambient-light/issues/">GitHub</a>
テスト一式
	https://github.com/web-platform-tests/wpt/tree/master/ambient-light
編集
	<a href="https://intel.com/">Anssi Kostiainen</a> (Intel Corporation)
	<a href="https://intel.com/">Rijubrata Bhaumik</a> (Intel Corporation) 
前任編集者
	<a href="https://tobie.me">Tobie Langel</a> (Codespeaks, formerly on behalf of Intel Corporation) <a href="mailto:tobie@codespeaks.com">tobie@codespeaks.com</a>
	<a href="https://mozilla.com/">Doug Turner</a> (Mozilla Corporation)
課題追跡
	<a href="https://github.com/w3c/ambient-light/milestones/Level%202">Level 2 Issues</a>
公表者
	<a href="https://www.w3.org/groups/wg/das">Devices and Sensors Working Group</a>

</script>
</head>
<body>

<header>
	<hgroup>
<h1>環境光センサ — Ambient Light Sensor</h1>
	</hgroup>
</header>

<div id="MAIN" hidden>

	<section id="abstract">
~ABSTRACT

<p>
この仕様は、~deviceの環境における［
~ambient光~level／照度
］を監視する具象-~sensor~interfaceを定義する。
◎
This specification defines a concrete sensor interface to monitor the ambient light level or illuminance of the device’s environment.
</p>

	</section>
	<section id="sotd">
~STATUSofTHIS

<p>
この節では、公表時点における…
【以下、この節の他の内容は、~SOTD-W3Cに移譲。】
</p>

<p>
`Devices and Sensors ~WG^cite
は、この仕様に対する現代の［
~security／~privacy
］考査を追求している
— この仕様と［
~privacy／~security
］についての横断的な考査の実施が
<a href="https://github.com/w3c/sensors/issues/299#issue-262392533">2017年 10 月 3日に始まって</a>以降の変更の量を考慮に入れる下で。
類似に，当~WGは、この仕様に対する，
`Technical Architecture Group^cite（ TAG, 技術-~architecture~group）による
— 最新な~architecture上の考査の実施を織り込む下での —
考査の更新を追求している。
◎
The Devices and Sensors Working Group is pursuing modern security and privacy reviews for this specification in consideration of the amount of change in both this specification and in privacy and security review practices since the horizontal reviews took place on 3 October 2017. Similarly, the group is pursuing an update to the Technical Architecture Group review for this specification to account for the latest architectural review practices.
</p>

	</section>

<main id="MAIN0">

	<section id="_conventions">
<h2 class="trans-note">【この訳に特有な表記規約】</h2>

<p>
この訳の，~algoや定義の記述に利用されている各種記号（ ~LET, ~EQ, ~IN, ~IF, ~THROW, 等々）の意味や定義の詳細は、~SYMBOL_DEF_REFを~~参照されたし。
</p>
	</section>
	<section id="intro">
<h2 title="Introduction">1. 序論</h2>

<p>
`~ambient光~sensor^cite（ `Ambient Light Sensor^en ）は
`汎用~sensor~API^cite（ `Generic Sensor API^en ） `GENERIC-SENSOR$r を拡張して，
~deviceの~main光~検出器により検出された~ambient光~levelについての情報を~lux単位で供する。
◎
The Ambient Light Sensor extends the Generic Sensor API [GENERIC-SENSOR] to provide information about ambient light levels, as detected by the device’s main light detector, in terms of lux units.
</p>

		<section id="scope">
<h3 title="Scope">1.1. 視野</h3>

<p>
この文書は、次を要求する<a href="#usecases-requirements">利用事例</a>用に設計された~APIを指定する
⇒
低-待時間で
— 場合によっては，高-~frequencyで標本化された —
木目細かな照度~data
◎
This document specifies an API designed for use cases which require fine grained illuminance data, with low latency, and possibly sampled at high frequencies.
</p>

<p>
数種の照度~値に依拠している共通的な利用事例
— ［
~deviceに測定された~ambient光~level
］により波及され得る［
~contrast~level／`選好される色~scheme$
］に則って，~web~pageを~styleするなど —
は、次により最良に~serveされ，この~APIの視野からは外れる
⇒
~CSS`媒体~特能$ `MEDIAQUERIES-5$r ［
`prefers-contrast$d, `prefers-color-scheme$d
］および，それに付随している `matchMedia()$m ~API `CSSOM-VIEW-1$r
◎
Common use cases relying on a small set of illuminance values, such as styling webpages according to contrast level or preferred color scheme that may be influenced by a device’s measured ambient light level are best served by the the prefers-contrast and prefers-color-scheme CSS media features [MEDIAQUERIES-5] as well as the accompanying matchMedia API [CSSOM-VIEW-1] and are out of scope of this API.
</p>

<p class="note">注記：
`MEDIAQUERIES-5$r 仕様は、［
~ambient光~読取りに もっと直に束ねられていた `light-level^d 媒体~特能
］を包含していたが、
それは，より高~levelな［
`prefers-color-scheme^d, `prefers-contrast^d
］媒体~特能への支持を受けて，その仕様から
<a href="https://github.com/w3c/csswg-drafts/commit/f5b663c27d5a2715239633f4916880563969d770">落とされた</a>
。
◎
Note: The [MEDIAQUERIES-5] specification used to contain a light-level media feature that was more directly tied to ambient light readings. It has since been dropped from the specification in favor of the higher-level prefers-color-scheme and prefers-contrast media features.
</p>

		</section>
	</section>
	<section id="examples">
<h2 title="Examples">2. 例</h2>

<div class="example">

<p>
この単純な例では、~ambient光~sensorは，既定の環境設定で作成される。
新たな`~sensor読取り$が可用になり次第，~consoleに~printされる。
◎
In this simple example, ambient light sensor is created with default configuration. Whenever a new reading is available, it is printed to the console.
</p>

<pre class="lang-js">
const %sensor = new AmbientLightSensor();
%sensor.onreading = () =&gt; console.log(%sensor.illuminance);
%sensor.onerror = %event =&gt; console.log(%event.error.name, %event.error.message);
%sensor.start();
</pre>
</div>

<div class="example">

<p>
この例では、~ambient光`~sensor読取り$から，~ISOspeed 100 における露光~値（EV）を計算する。
まず、~ambient光`~sensor読取り$に~accessする許可は，~UAにあるかどうか検査する。
次に、 `illuminance$m 値を最も近い露光~値に変換する。
◎
In this example, the exposure value (EV) at ISO 100 is calculated from the ambient light sensor readings. Initially, we check that the user agent has permissions to access ambient light sensor readings. Then, the illuminance value is converted to the closest exposure value.
</p>

<pre class="lang-js">
navigator.permissions.query({ name: 'ambient-light-sensor' }).then(%result =&gt; {
    if (%result.state === 'denied') {
        console.log('~ambient光~sensorを利用する許可は否認されました。');
        return;
    }

    const %als = new AmbientLightSensor({frequency: 20});
    %als.addEventListener('activate', () =&gt; console.log('EV は今から測定できます。'));
    %als.addEventListener('error', %event =&gt; console.log(``^~error: ${%event.error.name}``^));
    %als.addEventListener('reading', () =&gt; {
        // <span class="comment">既定の~ISOspeed値</span>
        const %ISO = 100;
        // <span class="comment">入射光較正定数</span>
        const %C = 250;

        let %EV = Math.round(Math.log2((%als.illuminance * %ISO) / %C));
        console.log(``^~露光~値 (EV) : ${%EV}``^);
    });

    %als.start();
});
</pre>
</div>

<div class="example">

<p>
この例は、~ambient光`~sensor読取り$を，作業場に推奨される光~levelにどう対応付けるかをデモる。
◎
This example demonstrates how ambient light sensor readings can be mapped to recommended workplace light levels.
</p>

<pre class="lang-js">
const %als = new AmbientLightSensor();

%als.onreading = () =&gt; {
    let %str = luxToWorkplaceLevel(%als.illuminance);
    if (%str) {
        console.log(``^${%str}用に相応しい光~levelです：``^);
    }
};

%als.start();

function luxToWorkplaceLevel(%lux) {
    if (20 &lt;= %lux  &amp;&amp; %lux &lt; 100) {
        return '公共区域, 短い訪問';
    } else if (100 &lt;= %lux &amp;&amp; %lux &lt; 150) {
        return 'たまに遂行される視覚的な~task';
    } else if (150 &lt;= %lux &amp;&amp; %lux &lt; 250) {
        return '簡単な事務作業, 授業, 居宅, 劇場';
    } else if (250 &lt;= %lux &amp;&amp; %lux &lt; 500) {
        return '通常の事務作業, 日用品店, 実験室';
    } else if (500 &lt;= %lux &amp;&amp; %lux &lt; 1000) {
        return '製作所, 絵描き, 食料品店';
    } else if (1000 &lt;= %lux &amp;&amp; %lux &lt; 5000) {
        return '製図作業, 低~contrastな視覚的な~task';
    }

    return;
}
</pre>
<!-- 
const als = new AmbientLightSensor();

als.onreading = () => {
    let str = luxToWorkplaceLevel(als.illuminance);
    if (str) {
        console.log(Light level is suitable for: ${str}.);
    }
};

als.start();

function luxToWorkplaceLevel(lux) {
    if (lux > 20 && lux < 100) {
        return 'public areas, short visits';
    } else if (lux > 100 && lux < 150) {
        return 'occasionally performed visual tasks';
    } else if (lux > 150 && lux < 250) {
        return 'easy office work, classes, homes, theaters';
    } else if (lux > 250 && lux < 500) {
        return 'normal office work, groceries, laboratories';
    } else if (lux > 500 && lux < 1000) {
        return 'mechanical workshops, drawing, supermarkets';
    } else if (lux > 1000 && lux < 5000) {
        return 'detailed drawing work, visual tasks of low contrast';
    }

    return;
}

-->
</div>

	</section>
	<section id="security-and-privacy">
<h2 title="Security and Privacy Considerations">3. ~security／~privacyの考慮点</h2>

<p>
~ambient光~sensorは、~device環境~近くの照明~条件について情報を供する。
これは、次に挙げる~privacy~riskを含み得る：
◎
Ambient Light Sensor provides information about lighting conditions near the device environment. Potential privacy risks include:
</p>

<ul>
	<li>
~profile法
⇒
~ambient光~sensorは、利用者の利用~patternや周囲について情報を漏洩し得る。
この情報は、利用者を~profileしたり挙動上の分析を増補するために利用され得る。
◎
Profiling. Ambient Light Sensor can leak information about user’s use patterns and surrounding. This information can be used to enhance user profiling and behavioral analysis.
</li>
	<li>
~device間にまたがる~link法
⇒
2 つの~deviceは、同じ第三者主体に属する~scriptを含む~web~siteに~accessし得る
— ~scriptは，時間~越しに照明~levelを相関する。
◎
Cross-device linking. Two devices can access web sites that include the same third-party script that correlates lighting levels over time.
</li>
	<li>
~device間をまたがる通信
⇒
近くにある~deviceにおける~ambient光~sensorで［
~device~screenや~camera~LED~flashから読出された~message
］を，単純な~broadcast通信~手法を利用して~broadcastし得る。
◎
Cross-device communication. A simple broadcast communication method can use device screen or camera LED flashes to broadcast messages read out with an Ambient Light Sensor in a close by device.
</li>
	<li>
非同一-生成元への漏洩
⇒
~screenから発された光は、近くの反射面から，~sensorへ戻るように反映され得る。
悪意的な~siteは、異なる生成元からの資源を埋込んで，内容を画素ごとに判別できるよう，内容を拡大して特定0の画素を表示し得る。
◎
Cross-origin leaks. Light emitted from the screen can be reflected back to the sensor from nearby reflective surfaces. Malicious sites can embed resources from different origins and scale the content to display particular pixels to allow distinguishing the contents, pixel by pixel.
</li>
	<li>
閲覧~履歴の強奪
⇒
［
訪問-済み／未訪問
］な~linkに異なる光~levelを結付ける
— すなわち、~screen内で［
黒い／白い
］塊になるよう~styleする —
ことにより，それらが判別できるようになる。
◎
Hijacking browsing history. Styling visited links to allow distinguishing the light levels associated with visited and unvisited links i.e. visited links styled as a block of black screen; white for unvisited.
</li></ul>

<p>
~ambient光~sensorに特有なこれらの脅威を軽減するため、~UAは，次に挙げる軽減~策の一方または両方を利用するベキである：
◎
To mitigate these Ambient Light Sensor specific threats, user agents should use one or both of the following mitigation strategies:
</p>

<ul>
	<li>
<a href="~SENSORS#limit-max-frequency">最大~標本化~frequencyを制限する</a>
◎
limit maximum sampling frequency
</li>
	<li>
~sensor読取りの<a href="~SENSORS#reduce-accuracy">正確度を抑制する</a>
◎
reduce accuracy of sensor readings
</li>
</ul>

<p>
これらの軽減~策は、`汎用~sensor~API^cite `GENERIC-SENSOR$r に定義される
<a href="~SENSORS#mitigation-strategies">汎用な軽減~策</a>
を補う。
◎
These mitigation strategies complement the generic mitigations defined in the Generic Sensor API [GENERIC-SENSOR].
</p>

	</section>
	<section id="model">
<h2 title="Model">4. ~model</h2>

<p>
`~sensor型$
`~ambient光~sensor@i
（ `Ambient Light Sensor^en ）は：
◎
↓</p>
<ul>
	<li>
それに結付けられる `Sensor$I 下位classは、
`AmbientLightSensor$I ~classである。
◎
The Ambient Light Sensor sensor type’s associated Sensor subclass is the AmbientLightSensor class.
</li>
	<li>
その`既定の~sensor$は、
~deviceの~main光~検出器である。
◎
The Ambient Light Sensor has a default sensor, which is the device’s main light detector.
</li>
	<li>
`名前$ `ambient-light-sensor$pN により識別される`強力な特能$である。
◎
The Ambient Light Sensor is a powerful feature that is identified by the name "ambient-light-sensor",＼
</li>
	<li>
その`~sensor許可~名~群$も，
同じ名前 `ambient-light-sensor^l のみからなる。
◎
which is also its associated sensor permission name.＼
</li>
	<li>
その`許可~revocation~algo$は、
次の結果を返す
⇒
`~sensor許可~revocation~algo$( `ambient-light-sensor^l )
◎
Its permission revocation algorithm is the result of calling the generic sensor permission revocation algorithm with "ambient-light-sensor".
</li>
	<li>
`施策により制御される特能$であり、
文字列 `ambient-light-sensor^l により識別される。
その`既定の許容list$は `'self'^l とする。
◎
The Ambient Light Sensor is a policy-controlled feature identified by the string "ambient-light-sensor". Its default allowlist is 'self'.
</li>
</ul>

<p>
`現在の光~level@
（ `current light level^en ）／
`照度@
（ `illuminance^en ）は、~hostしている~device周りの~ambient光~levelを表現する値であり、その単位は~lux（ `lux^en ）（ lx ） `SI$r とする。
◎
The current light level or illuminance is a value that represents the ambient light level around the hosting device. Its unit is the lux (lx) [SI].
</p>

<p class="note">注記：
報告される精確な~lux値は、同じ光の下でも，~deviceごとに異なり得る
— 検出~手法における相違点, ~sensorの構成, 等々に因り。
◎
Note: The precise lux value reported by different devices in the same light can be different, due to differences in detection method, sensor construction, etc.
</p>

	</section>
	<section id="api">
<h2 title="API">5. ~API</h2>

		<section id="ambient-light-sensor-interface">
<h3 title="The AmbientLightSensor Interface">5.1. `Ambientlightsensor^I ~interface</h3>

<pre class="idl">
[`SecureContext$, `Exposed$=Window]
interface `AmbientLightSensor@I : `Sensor$I {
  `AmbientLightSensor$mc(optional `SensorOptions$I %sensorOptions = {});
  readonly attribute `double$? `illuminance$m;
};
</pre>

<div class="algo">
`new AmbientLightSensor(sensorOptions)@m
構築子~手続きは
⇒
`~ambient光~sensor~objを初期化する$( %sensorOptions )
◎
To construct an AmbientLightSensor object the user agent must invoke the construct an ambient light sensor object abstract operation.
</div>

<div class="algo" id="ambient-light-sensor-reading-attribute">
`illuminance@m
属性は、`現在の光~level$を表現する。
その取得子~手続きは
⇒
~RET `最新な読取り~mapから値を取得する$( コレ, `illuminance^l )
◎
5.1.1. The illuminance attribute
◎
The illuminance attribute of the AmbientLightSensor interface represents the current light level and＼
◎
returns the result of invoking get value from latest reading with this and "illuminance" as arguments.
</div>

		</section>
	</section>
	<section id="abstract-operations">
<h2 title="Abstract Operations">6. 抽象-演算</h2>

<div class="algo">
<p>
`~ambient光~sensor~objを初期化する@
ときは、所与の
( %~ambient光~sensor, %~option群 )
に対し：
◎
6.1. Construct an ambient light sensor object
</p>
<ol>
	<li>
~Assert：
%~ambient光~sensor は
`AmbientLightSensor$I ~interfaceを実装する
◎
↓</li>
	<li>
~Assert：
%~option群 は `SensorOptions$I 辞書である
◎
input
• options, a SensorOptions object.
◎
output
• An AmbientLightSensor object.
</li>
	<li>
~IF［
`~sensor施策により制御される特能を検査する$( `~ambient光~sensor$i【！`AmbientLightSensor$I】 ) ~EQ ~F
］
⇒
~THROW `SecurityError$E
◎
Let allowed be the result of invoking check sensor policy-controlled features with AmbientLightSensor.
◎
If allowed is false, then:
• Throw a SecurityError DOMException.
</li>
	<li>
`~sensor~objを初期化する$( %~ambient光~sensor, %~option群 )
◎
Let ambient_light_sensor be the new AmbientLightSensor object.
◎
Invoke initialize a sensor object with ambient_light_sensor and options.
◎
Return ambient_light_sensor.
</li>
</ol>

<p class="trans-note">【
原文の この~algoは，新たな~instanceを作成して返しているが、
`WEBIDL$r の`構築子~手続き$の規約に則って，この訳では初期化のみ行うよう改めている。
】</p>
</div>

	</section>
	<section id="automation">
<h2 title="Automation">7. 自動化</h2>

<p>
この節では、`汎用~sensor~API^cite `GENERIC-SENSOR$r にて定義される<a href="~SENSORS#automation">自動化</a>を拡張する
— ~UAによる `~ambient光~sensor$iの実装を~testする目的で，［
~ambient光~level
］について模擬する情報を供するためとして。
◎
This section extends the automation section defined in the Generic Sensor API [GENERIC-SENSOR] to provide mocking information about the ambient light levels for the purposes of testing a user agent’s implementation of Ambient Light Sensor.
</p>

		<section id="mock-ambient-light-sensor-type">
<h3 title="Mock Sensor Type">7.1. 模擬~sensor型</h3>

<p>
`AmbientLightSensor$I ~classに結付けられる`模擬~sensor型$は，
`ambient-light$l であり、
その`模擬~sensor読取り値~群$を成す辞書は，次に従って定義される：
◎
The AmbientLightSensor class has an associated mock sensor type which is "ambient-light", its mock sensor reading values dictionary is defined as follows:
</p>

<pre class="idl">
dictionary `AmbientLightReadingValues@I {
  required `double$? `illuminance@mb;
};
</pre>

		</section>
	</section>
	<section id="usecases-requirements">
<h2 title="Use Cases and Requirements">8. 利用事例と要件</h2>

<p>
次に挙げるものを行う~Web~app：
◎
↓</p>

<ul>
	<li>
~smart居宅~system用に照明を制御する入力を供する。
◎
A Web application provides input for a smart home system to control lighting.
</li>
	<li>
作業~空間において光~levelは足るかどうか検査する。
◎
A Web aplication checks whether light level at work space is sufficient.
</li>
	<li>
手動で制御する~camera用の設定群（~aperture-shutter-speed-ISO）を計算する。
◎
A Web application calculates settings for a camera with manual controls (aperture, shutter speed, ISO).
</li>
	<li>
手をかざす利用者~gestureから生産される［
光~levelの変化
］を解釈して，ゲームキャラを制御するために、変化を監視する。
◎
A Web application monitors light level changes produced by hovering hand user gesture and interprets them to control a game character.
</li>
</ul>

<p>
一部の利用事例は，精確な~ambient光の測定から便益を得することもある一方で、~ambient光~levelの変動を利用者~入力~eventへ変換する利用事例は，より高い`標本化~frequency$から便益を得ることもある。
◎
While some of the use cases may benefit from obtaining precise ambient light measurements, the use cases that convert ambient light level fluctuations to user input events would benefit from higher sampling frequencies.
</p>

	</section>
	<section id="acknowledgements">
<h2 title="Acknowledgements">9. 謝辞</h2>

<p>
`Doug Turner^en 氏は、初期の原型を寄せられた。
 `Marcos Caceres^en 氏は~test一式を寄せられた。
◎
Doug Turner for the initial prototype and Marcos Caceres for the test suite.
</p>

<p>
`Paul Bakaus^en 氏は、 `LightLevelSensor^i 案を寄せられた。
◎
Paul Bakaus for the LightLevelSensor idea.
</p>

<p>
`Mikhail Pozdnyakov^en,
`Alexander Shalamov^en 
両氏は、利用事例と要件を寄せられた。
◎
Mikhail Pozdnyakov and Alexander Shalamov for the use cases and requirements.
</p>

<p>
`Lukasz Olejnik^en 氏は、~privacy~risk査定を寄せられた。
◎
Lukasz Olejnik for the privacy risk assessment.
</p>

	</section>
</main></div>
