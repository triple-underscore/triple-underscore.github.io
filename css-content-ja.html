<!DOCTYPE html><html lang="ja"><head><meta charset="utf-8">
<title>CSS Generated Content Module Level 3 （日本語訳）</title>

<link rel="stylesheet" href="common.css" type="text/css">
<link rel="stylesheet" href="common-css.css" type="text/css">

<script src="common0.js" ></script>
<script src="common1.js" async></script>

<script>

Util.ready = function(){
	const source_data = {
		generate: expand
	};
	Util.switchWordsInit(source_data);
}

function expand(){
	const class_map = this.class_map;
	const tag_map = this.tag_map;
	const link_map = this.link_map;

	return this.html.replace(
		/%[\w\-~一-鿆あ-ん]+|`(.+?)([$@\^])(\w*)/g,
		create_html
	);

	function create_html(match, key, indicator, klass){
if(!indicator) {//%
	return `<var>${match.slice(1)}</var>`;
}

let href = '';
let href1 = '';
{
	const n = key.indexOf('＠');
	if(n > 0) {
		href1 = key.slice(n + 1);
		key = key.slice(0, n);
	}
}
let text = key;

switch(klass){
case 'r': // ref
	text = `[${key}]`;
	href = `#biblio-${key.toLowerCase()}`;
	break;
case 'ps': 
	text = `:${key}`;
	break;
case 'pe': 
	text = `::${key}`;
	break;
case 'at': 
	text = `@${key}`;
	break;
case 't':
	text = `&lt;${key}&gt;`;
	key = key.replace(/\s*\[.+/, '');
	break;
case 'vt':
	text = `&lt;${key}&gt;`;
//	klass = 't';
	break;
case 'f':
	text = `${key}()`;
	break;
case 'l':
	return `"<code class="literal">${key}</code>"`;
	break;
case 'en':
	return `<span lang="en">${key}</span>`;
	break;
case 'issue':
	href = `~CSSissue/${key}`;
	text = `課題 #${key}`;
	break;
case 'dgm':
	return `<a id="_dgm-${key}">＊</a>`;
	break;
default:
}

let tag = tag_map[klass];
if(tag) {
	let classname = class_map[klass];
	classname = classname ? ` class="${classname}"` : '';
	text = `<${tag}${classname}>${text}</${tag}>`;
}

if(indicator !== '^'){
	href = href1 || link_map[ klass ? `${klass}.${key}` : key ] || href;
	if(!href){
		console.log(match); // check error
		return match;
	}

	switch(indicator){
	case '$':
		text = `<a href="${href}">${text}</a>`;
		break;
	case '@':
		text = `<dfn id="${href.slice(1)}">${text}</dfn>`;
		break;
	}
}

return text;


	}
}
</script>

<script type="text/plain" id="_source_data">


●●options

spec_title:CSS Generated Content Module Level 3
spec_date:2025-12-12
trans_update:2025-07-22
source_checked:2019-08-09
page_state_key:CSS
original_url:https://drafts.csswg.org/css-content-3/
spec_status:ED
ref_id_prefix:biblio-
ref_id_lowercase:true
site_nav:css-gnerated,css
conformance:css
copyright:2025,permissive
trans_1st_pub:2018-08-18

●●class_map
p:property
t:type
f:func
vt:type
v:value
ps:pseudo
pe:pseudo
at:at-rule
css:css
e:element
a:attr

●●tag_map
p:code
t:var
vt:var
f:code
v:code
ps:code
pe:code
at:code
css:code
e:code
a:code
c:code

●●original_id_map

valdef-content-content-list:typedef-content-content-list
typedef-content-list:

●●mdn_urls
propdef-bookmark-label:CSS/bookmark-label
propdef-bookmark-level:CSS/bookmark-level
propdef-bookmark-state:CSS/bookmark-state
propdef-content:CSS/content
propdef-quotes:CSS/quotes
	propdef-string-set:CSS/string-set

	funcdef-leader:CSS/leader
	funcdef-target-counter:CSS/target-counter
	funcdef-target-counters:CSS/target-counters
	funcdef-target-text:CSS/target-text

●●link_map

	●css
pe.after:~CSSPSEUDO#selectordef-after
pe.before:~CSSPSEUDO#selectordef-before
pe.first-letter:~CSSPSEUDO#selectordef-first-letter
pe.marker:~CSSPSEUDO#selectordef-marker
pe.placeholder:~CSSFORMS#selectordef-placeholder
pe.placeholder:~CSSPSEUDO#selectordef-placeholder
pe.file-selector-button:~CSSFORMS#selectordef-file-selector-button
pe.file-selector-button:~CSSPSEUDO#selectordef-file-selector-button
ps.target:~SELECTORS4#target-pseudo
	~HTMLselectors#selector-target
ps.left:~CSSPAGE#valdef-page-left
ps.right:~CSSPAGE#valdef-page-right

p.bookmark-label:#propdef-bookmark-label
p.bookmark-level:#propdef-bookmark-level
p.bookmark-state:#propdef-bookmark-state
p.content:#propdef-content
p.quotes:#propdef-quotes

p.counter-set:~CSSLIST#propdef-counter-set
p.display:~CSSDISP#propdef-display

f.leader:#funcdef-leader
t.leader():#funcdef-leader
	#funcdef-content-leader
f.target-counter:#funcdef-target-counter
t.target-counter():#funcdef-target-counter
f.target-counters:#funcdef-target-counters
t.target-counters():#funcdef-target-counters

	f.leader( &lt;leader-type&gt; ):#funcdef-content-leader

t.content-list:#typedef-content-list
t.content-replacement:#typedef-content-content-replacement
t.leader-type:#typedef-leader-type
t.quote:#typedef-quote
t.target:#typedef-target

t.counter-style:~CSSCOUNTER#typedef-counter-style
t.counter:~CSSLIST#typedef-counter
t.custom-ident:~CSSVAL#identifier-value
t.image:~CSSIMAGE#typedef-image
t.integer:~CSSVAL#integer-value
t.string:~CSSVAL#string-value
t.url:~CSSVAL#url-value

f.target-text:#target-text-function
t.target-text():#target-text-function
f.attr:~CSSVAL5#funcdef-attr
t.attr():~CSSVAL5#funcdef-attr

v.close-quote:#valdef-content-close-quote
v.contents:#valdef-content-contents
v.no-close-quote:#valdef-content-no-close-quote
v.no-open-quote:#valdef-content-no-open-quote
v.open-quote:#valdef-content-open-quote
v.text:#valdef-content-text
v.normal:#valdef-content-normal
v.~noneC:#valdef-content-none
	vt.image:#valdef-content-list-image
	vt.content-list:#valdef-content-content-list
	vt.string:#valdef-content-string
	/ `string$t:#valdef-content---string--counter--attr
	t.attr():#valdef-content-attr


v.closed:#valdef-bookmark-state-closed
v.open:#valdef-bookmark-state-open
v.~noneB:#valdef-bookmark-level-none
	vt.integer:#valdef-bookmark-level-integer
	vt.content-list:#valdef-bookmark-label-content-list


v.dotted:#valdef-leader-dotted
v.solid:#valdef-leader-solid
v.space:#valdef-leader-space
	vt.string:#valdef-leader-string

v.auto:#valdef-quotes-auto
v.~noneQ:#valdef-quotes-none
v.match-parent:#valdef-quotes-match-parent

t.qname:~CSSNS#qname

	●css §2.7
p.string-set:#propdef-string-set

at.page:~CSSPAGE#at-ruledef-page
at.top-left:~CSSPAGE#at-ruledef-top-left
at.top-right:~CSSPAGE#at-ruledef-top-right
at.top-center:~CSSPAGE#at-ruledef-top-center

f.string:#funcdef-string
t.string():#funcdef-string
f.content:#funcdef-content
t.content():#funcdef-content
t.random():~CSSVAL5#funcdef-random


v.~noneS:#valdef-string-set-none
v.first-except:#valdef-string-first-except
v.first:#valdef-string-first
v.last:#valdef-string-last
v.start:#valdef-string-start

v.after:#valdef-content-after
v.before:#valdef-content-before
v.first-letter:#valdef-content-first-letter
v.marker:#valdef-content-marker

	●code
e.img:~HEimages#the-img-element
e.q:~HEtextlevel#the-q-element

	●用語

~bookmark:#bookmarks
入口~値:#entry-value
出口~値:#exit-value
有名~文字列:#named-string
引用符~system:#quotation-mark-system
引用符-深さ:#quote-depth


	●用語（外部
算出d値:~CASCADE#computed-value
置換d要素:~CSSDISP#replaced-element
	置換d要素:~CSS22/conform.html#replaced-element
~text連列:~CSSDISP#css-text-sequence
匿名:~CSSDISP#anonymous
行内~box:~CSSDISP#inline-box
行内~level:~CSSDISP#inline-level

空白:~CSSTEXT#white-space
内容~言語:~CSSTEXT#content-language

生来な縦幅:~CSSIMAGE#natural-height
生来な横幅:~CSSIMAGE#natural-width
無効な画像:~CSSIMAGE#invalid-image
	無効な画像:~CSSIMAGE4#invalid-image

出自の要素:~SELECTORS4#originating-element
疑似要素:~SELECTORS4#pseudo-element
属性~選択子:~SELECTORS4#attribute-selector

~treeに留まる疑似要素:~CSSPSEUDO#tree-abiding
~page~margin~box:~CSSPAGE#page-margin-boxes
~style封込め:~CSSCONTAIN#style-containment
透明な黒:~CSSCOLOR#transparent-black

~counter:~CSSLIST#counter
最内縁:~CSSLIST#innermost
~counter集合:~CSSLIST#css-counters-set

~CSS有修飾~名:~CSSNS#css-qualified-name



●●words_table1
noneC:none
noneB:none
noneQ:none
noneS:none


●●words_table


	●生成内容
English:::英語
French:::フランス語
typographic::::タイポグラフィック
	~typographic的に:typographically
leader::::リーダ
bookmark::::ブックマーク
logo::::ロゴ
footer::::フッタ
見出し:heading::~
引用符:quotation mark::~
引用符s:quotes::引用符
	引用符:quote mark
	引用符で括る:quote 〜 quote marks
引用符-:quote::引用
	引用符-深さ$:the quoting level
	引用符-深さ$:the depth of nesting
	引用符-深さ$:the level of nesting for quotes
	引用符-深さ$:the quotation depth
引用文:quotation::~
開き:opening:~
	開き:open
閉じ:closing:~
付番:numbering::~
番号:number::~
	連列:run of
	^en:dot leader
	^en:tab leader
入口:entry::~
出口:exit::~

	●塗り
黒:black::~
描く:drawする::~
埋める:fillする::~
埋めら:fillさ::~

	-:overlaid

	●layout
横方向:horizontal::~
縦方向:vertical::~
生来:natural::~
重合する:overlapする::重なり合う
改行:line break::~
収まら:fitし::~
	より幅広:wider
	（左横書きなら右へ寄せられ:right-aligned

	●CSS
出自の:originating:~
封込め:containment::封じ込め
	containement

	●呈示／UI

縮約-:collapse::~
字l:letter::字°
発話-:speak::~
発話:speech::~
読上げら:read outさ:読み上げら
	読み易い:readable
打込める:typeできる:打ち込める
	媒体:medium
multimedia::::マルチメディア
装飾的:decorative::~
	視覚的でない:non-visual
隠す:hideする::~
	打ち込み:type
注目:attention:~
畳まれ:collapseされ:~
side-bar:side bar:::サイドバー
	見かけ:look

	●構造
最内縁:innermost:~
最外縁:outermost:~
深さ:depth::~
	深さ~~優先:depth first
	子:children
	~treeに留まる:tree-abiding

	●構文
escaped::::エスケープ
	~escaped形:form

	●略称
AAM:
ARIA:
PDF:
alt:

	●仕様
	のように:similar
支援技術:assistive technologies:~
段階:stage:~
馴染みの:familiarな:~
	有用にならない:useless
対称性:symmetry:~
ecosystem::::エコシステム
妨げる:inhibitする:~
規定-:dictate:~
相互-:cross-:~
誤り:error:~

	~~詳細:more information
	自立的:stand-alone
	より容易に:easier
	ときには／ときもある:sometimes
	したがって／ので:thus
	今の所:for now
	~~上書きされる~overwritten
	ほぼ誰もが:most people
	ちょうど:exactly
	この仕様:CSS Content
	とりわけ:most notably
	とり得る:possibilities
	見えない:phantom
	実質的に:in effect
	いい:okay
	まだ大まかな:very rough
	慣習とされている:it is customary to
	有力な:compelling
	まったく:quite
	諸々の:Lots of miscellaneous

	させなくする:prevent
	併用:in conjunction with
	見受けられ:appears to
	とも呼ばれる:known
	選ぶ:choose
	選ばれ:chosen
	変わる:vary
	整理:clean up
	図:figure
	ある:hypothetical
	省く:elide する
	仕様~化:speccing
	予め見做され:presumably
	~Web互換性:Web-compat
	~inline化:inlined


	●未分類
機能-:function:~
機能:function:~
現れる:appearする:~
	見られる:appearする
参照r:refer:参照
参照先の:referenced::~
捕捉-:capture::~
増やす:incrementする::~
減らす:decrementする::~
供与-:contribute::~
代用-:substitute::~
	置換される:replaced
連結-:concatenate::~
遭遇-:encounter::~
選択-:select::~
出現:occurrence:~
Chrome:
cross:
片:fragment:~
記号:symbol:~
kill:
head:
有修飾:qualified::~
2D:
過剰:excess:~

	要素の:elemental
	抽出:extraction
	繰返される:repeating
	何も表現しない:evaluates to nothing
	箇所:place
	置く:put
	指して:point to
	わたる:span
	取り出す:pull
	持ってくる:bring
	引いた結果:minus
	戻-:back
	得た上で:fetch
	link先:target end of a link／:end of a link
	章:chapter
	CSS-CONTAIN-1$r:css-contain
	アテガわれ／有名~文字列:assignment
	~invaluable
	~part
	~URL:url
	数:number
	重複:duplicate
	局所的に:localized
	目次:tables of contents
	“代替~text”:"alt text"
	CSS Images:Images
	章:chapter
	著者:author
	content: counter(節)
	^t:counter-style
	^v:closed
	^v:open
	^en:black right-pointing pointer

	重ねて:twice
	何〜か:several
	〜数:number of
	最初~以外:second
	前~内容と後~内容:start content and the end
	後続-:follow
	旧:old
	その~~子:first
	様々な:various
	以下の:negative and 
	以下:or lower
	単に:just
	一回:once
	超える:greater
	どちらの〜ない:neither
	直後の:next
	地点:point
	時点:at the point
	またがって:across
	代えて:in place of
	-／何度か／:times
	他所から:out of
	上から:on top of
	-:leftmost
	長くされ:long
	何も〜ない／ものは無い:nothing
	以前の／それまでの／:previous
	並び:row
	横幅, 縦幅とも 0:0x0
	残り:the rest
	まで:and including
	であり続け:stay
	1 だけずれていた:off-by-one
	同じ〜:itself (〜)

●●images
＠css-content/
using-strings-1｜height:320px;｜｜.jpg
using-strings-2｜height:320px;｜｜.jpg
using-strings-3｜height:320px;｜｜.jpg

●●ref_key_map
CSS3SPEECH:CSSSPEECH1

●●ref_normative

[CSS-CASCADE-5]
    Elika Etemad; Miriam Suzanne; Tab Atkins Jr.. ＜CSS Cascading and Inheritance Level 5＞. URL: https://drafts.csswg.org/css-cascade-5/
[CSS-CONTAIN-2]
    Tab Atkins Jr.; Florian Rivoal; Vladimir Levin. ＜CSS Containment Module Level 2＞. URL: https://drafts.csswg.org/css-contain-2/
[CSS-COUNTER-STYLES-3]
    Tab Atkins Jr.. ＜CSS Counter Styles Level 3＞. URL: https://drafts.csswg.org/css-counter-styles/
[CSS-DISPLAY-4]
    Elika Etemad; Tab Atkins Jr.. ＜CSS Display Module Level 4＞. URL: https://drafts.csswg.org/css-display-4/
[CSS-IMAGES-3]
    Tab Atkins Jr.; Elika Etemad; Lea Verou. ＜CSS Images Module Level 3＞. URL: https://drafts.csswg.org/css-images-3/
[CSS-IMAGES-4]
    Elika Etemad; Tab Atkins Jr.; Lea Verou. ＜CSS Images Module Level 4＞. URL: https://drafts.csswg.org/css-images-4/
[CSS-LISTS-3]
    Elika Etemad; Tab Atkins Jr.. ＜CSS Lists and Counters Module Level 3＞. URL: https://drafts.csswg.org/css-lists-3/
[CSS-PSEUDO-4]
    Elika Etemad; Alan Stearns. ＜CSS Pseudo-Elements Module Level 4＞. URL: https://drafts.csswg.org/css-pseudo-4/
[CSS-TEXT-4]
    Elika Etemad; et al. ＜CSS Text Module Level 4＞. URL: https://drafts.csswg.org/css-text-4/
[CSS-VALUES-3]
    Tab Atkins Jr.; Elika Etemad. ＜CSS Values and Units Module Level 3＞. URL: https://drafts.csswg.org/css-values-3/
[CSS-VALUES-4]
    Tab Atkins Jr.; Elika Etemad. ＜CSS Values and Units Module Level 4＞. URL: https://drafts.csswg.org/css-values-4/
[CSS-VALUES-5]
    Tab Atkins Jr.; Elika Etemad; Miriam Suzanne. ＜CSS Values and Units Module Level 5＞. URL: https://drafts.csswg.org/css-values-5/
[CSS2]
    Bert Bos; et al. ＜Cascading Style Sheets Level 2 Revision 1 (CSS 2.1) Specification＞. URL: https://drafts.csswg.org/css2/
[CSS3-NAMESPACE]
    Elika Etemad. ＜CSS Namespaces Module Level 3＞. URL: https://drafts.csswg.org/css-namespaces/
[CSS3-SPEECH]
    Léonie Watson; Elika Etemad. ＜CSS Speech Module Level 1＞. URL: https://drafts.csswg.org/css-speech-1/
[HTML]
    Anne van Kesteren; et al. ＜HTML Standard＞. Living Standard. URL: https://html.spec.whatwg.org/multipage/
[RFC2119]
    S. Bradner. ＜Key words for use in RFCs to Indicate Requirement Levels＞. March 1997. Best Current Practice. URL: https://datatracker.ietf.org/doc/html/rfc2119
[SELECTORS-4]
    Elika Etemad; Tab Atkins Jr.. ＜Selectors Level 4＞. URL: https://drafts.csswg.org/selectors/

●●ref_informative

[CLDR]
    ＜Unicode Common Locale Data Repository＞. URL: https://cldr.unicode.org/
[CSS-TEXT-3]
    Elika Etemad; Koji Ishii; Florian Rivoal. ＜CSS Text Module Level 3＞. URL: https://drafts.csswg.org/css-text-3/
[DOM]
    Anne van Kesteren. ＜DOM Standard＞. Living Standard. URL: https://dom.spec.whatwg.org/


●●trans_metadata
<p>
~THIS_PAGEは、~W3Cにより
勧告候補として公開された
<a href="~SPEC_URL">CSS Generated Content Module Level 3</a>
を日本語に翻訳したものです。
~PUB
</p>


●●spec_metadata

最新公表バージョン
	https://www.w3.org/TR/css-content-3/
公表履歴
	https://www.w3.org/standards/history/css-content-3/
フィードバック
	<a href="https://github.com/w3c/csswg-drafts/labels/css-content-3">CSSWG Issues Repository</a>

編集
	<a href="http://fantasai.inkedblade.net/contact">Elika J. Etemad / fantasai</a> (Apple, formerly Mozilla)
	<a href="mailto:mike@bfo.com">Mike Bremford</a> (BFO)
前任編集者
	<a href="mailto:dauwhe@gmail.com">Dave Cramer</a> (Hachette Livre)
	<a href="mailto:howcome@opera.com">Håkon Wium Lie</a> (Opera Software)
	<a href="mailto:ian@hixie.ch">Ian Hickson</a> (Google)
Suggest an Edit for this Spec
	<a href="https://github.com/w3c/csswg-drafts/blob/main/css-content-3/Overview.bs">GitHub Editor</a>
テスト一式
	https://wpt.fyi/results/css/css-content/
commit 履歴
	https://github.com/w3c/csswg-drafts/commits/main/css-content-3

</script>

</head>
<body>

<header>
	<hgroup>
<h1>生成内容 — CSS Generated Content Module Level 3</h1>
	</hgroup>
</header>

<div id="MAIN" hidden>

	<section id="abstract">
◎要約

<p>
この~moduleは、
文書~内に内容を挿入する方法を述べる。
◎
This CSS3 Module describes how to insert content in a document.
</p>

~CSSisaLANG

	</section>
	<section id="sotd">
◎位置付け

<p>
これは、
編集者草案の公な複製です…
【以下、この節の他の内容は，~SOTD-CSSに移譲。】
</p>

<p>
これは、
ごく大まかな草案であり，まだ実装~用に準備済みでない。
◎
This is a very rough draft, and is not ready for implementation.
</p>

	</section>

<main id="MAIN0">

	<section id="intro">
<h2 title="Introduction">序論</h2>

<p>
作者は、
文書~treeを成していない内容を ~UAに描画させたいと求めることもある。
馴染みの例として、
見出し用の番号を，明示的に~mark-upすることなく ~UAに自動的に生成させたいときが挙げられる。
~counterと~markerが、
これらの効果を達成するために利用される。
◎
Authors sometimes want user agents to render content that does not come from the document tree. One familiar example of this is numbered headings; the author does not want to mark the numbers up explicitly, they want the user agent to generate them automatically. Counters and markers are used to achieve these effects.
</p>

<div class="example">
<pre class="lang-css">
h1::before { content: counter(節) ": "; }
</pre>
</div>

<p>
同様に，作者は、
~UAに各 図の~captionの前に単語 "図" を挿入したり，
7 個目の章の~titleの前に行l "第 7 章" を挿入したいと求めることもある。
◎
Similarly, authors may want the user agent to insert the word "Figure" before the caption of a figure, or "Chapter 7" on a line before the seventh chapter title.
</p>

<div class="example">
<pre class="lang-css">
chapter { counter-increment: 章; }
chapter &gt; title::before { content: "第 " counter(章) " 章\A"; }
</pre>
</div>

<p>
要素を画像~その他の~multimedia内容で置換する効果も，共通的にある。
すべての~UAがすべての~multimedia形式を~supportするとは限らないので、
~fallbackを供する必要もあろう。
◎
Another common effect is replacing elements with images or other multimedia content. Since not all user agents support all multimedia formats, fallbacks may have to be provided.
</p>

<div class="example">
<pre class="lang-css">
/* <span class="comment">
~UAが~supportする形式を利用して，
`logo^e 要素を~siteの~logoで置換する。
◎
Replace &lt;logo&gt; elements with the site's logo, using a format supported by the UA
</span> */
logo { content: url(logo.mov), url(logo.mng), url(logo.png), none; }

/* <span class="comment">
`figure^e 要素を参照先の文書で置換する
— 失敗した場合， `alt^a 属性が［
在るならば その内容／無いならば 要素~自身の内容
］で置換する。
◎
Replace &lt;figure&gt; elements with the referenced document, or, failing that, with either the contents of the alt attribute or the contents of the element itself if there is no alt attribute
</span> */
figure[alt] { content: attr(href url), attr(alt); }
figure:not([alt]) { content: attr(href url), contents; }
</pre>
</div>

		<section id="values">
<h3 title="Value Definitions">値~定義</h3>

<p class="trans-note">【
この節の内容は、
`~CSS日本語訳 共通~page＠~CSScommon#values$に移譲。
】</p>

		</section>
	</section>
	<section id="content-property">
<h2 title="Inserting and Replacing Content: the content property">1. 内容の挿入-法と置換-法： `content^p ~prop</h2>

<div>
◎名 `content@p
◎値 `normal^v | `none^v | [ `content-replacement$t | `content-list$t ] [/ [ `string$t | `counter$t | `attr()$t ]+ ]?
◎初 `normal^v
◎適 すべての要素／`~treeに留まる疑似要素$／`~page~margin~box$
◎継 されない
◎百 受容しない
◎算 下の注釈文を見よ
◎順 文法に従う
◎ア 離散的
◎表終
◎
Name: 	content
Value: 	normal | none | [ &lt;content-replacement&gt; | &lt;content-list&gt; ] [/ [ &lt;string&gt; | &lt;counter&gt; | &lt;attr()&gt; ]+ ]?
Initial: 	normal
Applies to: 	all elements, tree-abiding pseudo-elements, and page margin boxes
Inherited: 	no
Percentages: 	n/a
Computed value: 	See prose below
Canonical order: 	per grammar
Animation type: 	discrete
</div>

<p>
~UAには、
視覚的でないものも含め，どの媒体でもこの~propを~supportすることが期待される。
◎
User agents are expected to support this property on all media, including non-visual ones.
</p>

<p>
`content$p ~propは、［
要素／`疑似要素$
］の内側に何が描画されるかを規定する：
◎
The content property dictates what is rendered inside an element or pseudo-element.
</p>
<ul>
	<li>
要素~用には、
目的は 1 つだけであり，要素を次のどちらにするかを制御する
⇒＃
通常通り描画する／
画像（場合によっては要素に結付けられた何らかの “代替（ `alt^en ）~text” ）で置換する
◎
For elements, it has only one purpose: specifying that the element renders as normal, or replacing the element with an image (and possibly some associated "alt text").
</li>
	<li>
［
`疑似要素$／`~page~margin~box$
］用には、
これはもっと強力になり，要素を次のどれにするかを制御する
⇒＃
まったく描画しない【！renders at all】 ／
画像で置換する ／
任意の行内~内容（~textや画像）で置換する
◎
For pseudo-elements and margin boxes, it is more powerful. It controls whether the element renders at all, can replace the element with an image, or replace it with arbitrary inline content (text and images).
</li>
</ul>

<dl class="valdef">
	<dt>`normal@v</dt>
	<dd>
これは、［
要素／`~page~margin~box$
］用には，
`contents$v に算出される。
◎
For an element or page margin box, this computes to contents.
</dd>
	<dd>
これは、［
`before$pe ／ `after$pe
］`疑似要素$用には，
`~noneC$v に算出される。
◎
For ::before and ::after, this computes to none.
</dd>
	<dd>
これは、［
`marker$pe ／
`placeholder$pe ／
`file-selector-button$pe
］`疑似要素$用には，同じ `normal$v に算出される。
◎
For ::marker, ::placeholder, and ::file-selector-button, this computes to itself (normal).
</dd>

	<dt>`~noneC@v</dt>
	<dd>
要素~用には、
`normal$v と同じに挙動する。
◎
On elements, this behaves as normal.

On elements, this inhibits the children of the element from being rendered as children of this element, as if the element was empty.
</dd>
	<dd>
`疑似要素$用には、
`display$p が `none^v にされていたかのように当の疑似要素の作成を妨げる。
◎
On pseudo-elements it inhibits the creation of the pseudo-element as if it had display: none.
</dd>
	<dd>
いずれにせよ、
この値は，［
要素／`疑似要素$
］を`出自の要素$とする別の疑似要素を生成させなくすることはない。
◎
In neither case does it prevent any pseudo-elements which have this element or pseudo-element as an originating element from being generated.
</dd>

	<dt>`content-replacement@t</dt>
	<dd id="replaced">
構文は `image$t に等しい。
◎
Equal to:
&lt;image&gt;
</dd>
	<dd>
［
要素／`疑似要素$
］を指定された `image$t で埋められる`置換d要素$にする。
通常の内容は、
抑止され， `display$p が `none^v にされていたかのように~boxを生成しない。
◎
Makes the element or pseudo-element a replaced element, filled with the specified &lt;image&gt;. Its normal contents are suppressed and do not generate boxes, as if they were display: none.
</dd>
	<dd>
`image$t は`無効な画像$を表現する場合、
代わりに［
`生来な横幅$, `生来な縦幅$
］どちらも 0 の画像を表現しているものと扱って，`透明な黒$で埋めるモノトスル。
◎
If the &lt;image&gt; represents an invalid image, then it must be treated as instead representing an image with zero natural width and height, filled with transparent black.
</dd>
	<dd class="issue">
上の`無効な画像$の挙動は、
~Chromeに見られる。
これでいいのか？
もっと良い挙動を利用できるのでは？利用するべきでは？
◎
The above invalid image behavior appears to be what Chrome is doing. Is this okay? Is there a better behavior we can/should use?
</dd>
	<dd class="note">注記：
`置換d要素$は、
通常の要素と異なる~layout規則を利用する（実質的に，~HTML `img$e 要素と等価になる）。
◎
Note: Replaced elements use different layout rules than normal elements. (In effect, it becomes equivalent to an HTML img element.)
</dd>
	<dd class="note">注記：
`置換d要素$には［
`before$pe ／ `after$pe
］`疑似要素$は無いので、
`content$p ~propは，その内容~全体を置換する。
◎
Note: Replaced elements do not have ::before or ::after pseudo-elements; the content property replaces their entire contents.
</dd>
	<dd class="issue">
この値は、［
`before$pe ／ `after$pe
］に対しては，歴史的に `content-list$t として扱われてきた。
これには~Web互換性の要件があると予め見做されるので、
これらの`疑似要素$には，例外が必要かもしれない。
`2889$issue
◎
This value has historically been treated as &lt;content-list&gt; on ::before and ::after. Presumably there’s a Web-compat requirement on this, so these pseudo-elements might need an exception. [Issue #2889]
</dd>

	<dt id="valdef-content-content-list">`content-list$t</dt>
	<dd>
要素の内容を［
指定された 1 個~以上の各~値に対応する，指定された順序による`匿名$な`行内~box$たち
］で置換する。
通常の内容は、
`display$p が `none^v にされていたかのように抑止され，~boxを生成しなくなる。
◎
Replaces the element’s contents with one or more anonymous inline boxes corresponding to the specified values, in the order specified. Its normal contents are suppressed and do not generate boxes, as if they were display: none.
</dd>
	<dd>
各~値は、
行内~levelの`匿名$な~boxを要素の内容に供与する。
これは、
`image$t に対しては`置換d要素$になり，他に対しては`~text連列$になる。
◎
Each value contributes an inline box to the element’s contents. For &lt;image&gt;, this is an inline anonymous replaced element; for the others, it’s an anonymous inline run of text.
</dd>
	<dd>
<p>
`image$t は`無効な画像$を表現する場合、
~UAは次のいずれかを行うモノトスル：
◎
If an &lt;image&gt; represents an invalid image, the user agent must do one of the following:
</p>

		<ul>
			<li>
`image$t を “飛ばして”，それ用には何も生成しない。
◎
"Skip" the &lt;image&gt;, generating nothing for it.
</li>
			<li>
`image$t に代えて画像を表示できないこと指示する何かを表示する
— “壊れた画像” ~iconなど。
◎
Display some indication that the image can’t be displayed in place of the &lt;image&gt;, such as a "broken image" icon.
</li>
		</ul>
	</dd>
	<dd>
この仕様は，［
~UAは，どちらの挙動を利用するモノトスルか
］を意図的に定義しないが、
~UAは，一貫して片方のみを利用するモノトスル。
◎
This specification intentionally does not define which behavior a user agent must use, but it must use one or the other consistently.
</dd>
	<dd class="note">注記：
`content-list$t 値を成す `image$t は 1 個だけの場合、
`content-replacement$t として解釈するモノトスル。
◎
Note: If the value of &lt;content-list&gt; is a single &lt;image&gt;, it must instead be interpreted as a &lt;content-replacement&gt;.
</dd>

	<dt id="valdef-content---string--counter--attr">/ [ `string$t | `counter$t | `attr()$t ]+</dt>
	<dd>
要素~用の “代替~text” を指定する。
詳細は
`§ ~accessibilityを得るための代替~text＠#alt$
を見よ。
省略された場合、
要素には “代替~text” は無い。
◎
Specifies the "alt text" for the element. See § 1.2 Alternative Text for Accessibility for details. If omitted, the element has no "alt text".
</dd>
	<dd class="example">
<p>
“代替~text” 内で `counter$t を正しく
— 【 “代替~text” 用の構文が？】~supportされない~browserにおいて【も通用するよう】 —
利用するためには、
`content$p ~propを重ねて指定するべきである
— ~fallback用として “代替~text” 内に~counterを伴わないものと，
“代替~text” 内で~counterを利用するものを。
◎
To correctly use &lt;counter&gt; in "alt text" in unsupported browsers one should specify content property twice. First, a fallback without counter in "alt text". Second, use counter in "alt text".
</p>

<pre class="lang-css">
::before {
  content: "Chapter" counter(chapter);
  content: "Chapter" counter(chapter) / "Chapter" counter(chapter);
}
</pre>
	</dd>
</dl>

<p class="issue">
`contents$v ~keywordは `content$f で置換するべきか？
◎
Should the contents keyword be replaced with content()?
</p>

		<section id="accessibility">
<h3 title="Accessibility of Generated Content">1.1. 生成d内容の~accessibility</h3>

<p>
生成d内容は［
探索-可能,
選択-可能,
支援技術に可用
］になるベキである。
発話, 生成d内容に適用される `content$p ~propは、
発話~出力~用にも具現化されるモノトスル。
`CSS3-SPEECH$r
◎
Generated content should be searchable, selectable, and available to assistive technologies. The content property applies to speech and generated content must be rendered for speech output. [CSS3-SPEECH]
</p>

<p class="issue">
~CSS用の~AAMの作業を開始する。
◎
Start work on an AAM for CSS.
</p>

		</section>
		<section id="alt">
<h3 title="Alternative Text for Accessibility">1.2. ~accessibilityを得るための代替~text</h3>

<p>
視覚的な媒体~用に意図される内容は、
ときには，発話~出力~その他の視覚的でない媒体~用に代替~textを必要とする。
したがって `content$p ~propは、
`content-list$t の後に，~slash （ `/^css ）に続けて指定される代替~textも受容する。
そのような代替~textが供された場合、
発話~出力~用には代わりにそれを利用するモノトスル。
◎
Content intended for visual media sometimes needs alternative text for speech output or other non-visual mediums. The content property thus accepts alternative text to be specified after a slash (/) after the last &lt;content-list&gt;. If such alternative text is provided, it must be used for speech output instead.
</p>

<div class="p">
<p>
これは例えば、
次を作者に許容する：
</p>
<ul>
	<li>
純粋に装飾的な~textは、
発話~出力においては（代替~textに空~文字列を供して）省く。
</li>
	<li>
［
画像／~icon／~textに符号化された記号
］にもっと読み易い代替を供する。
</li>
</ul>

◎
This allows, for example, purely decorative text to be elided in speech output (by providing the empty string as alternative text), and allows authors to provide more readable alternatives to images, icons, or text-encoded symbols.
</div>

<div class="example">
<p>
ここでは `content^p ~propは画像を与えるので、
代替~textを供するために代替~値が要求される。
◎
Here the content property is an image, so the alt value is required to provide alternative text.
</p>

<pre class="lang-css">
.new::before {
  content: url(./img/star.png) / "New!";
  /* <span class="comment">
あるいは、
~DOMから局所的に得られる属性：
◎
or a localized attribute from the DOM:
</span>
  ... / attr("data-alt");
  */
}
</pre>
</div>

<div class="example">
<p>
疑似要素は純粋に装飾的で，その機能は他所が受持っている場合、
代替~値を空~文字列に設定することで，装飾的な要素が読上げられるのを避けれる。
ここでは、
~ARIA属性が
“畳まれています”
などと発話されることになる。
空~文字列にされた代替~値を伴わない場合、
内容は
“`black right-pointing pointer^en”
として発話されることになる†。
◎
If the pseudo-element is purely decorative and its function is covered elsewhere, setting alt to the empty string can avoid reading out the decorative element. Here the ARIA attribute will be spoken as "collapsed". Without the empty string alt value, the content would also be spoken as "Black right-pointing pointer".
</p>

<pre class="lang-css">
.expandable::before {
  content: "\25BA" / ""; /* <span class="comment">
►（右向き三角）
◎
a.k.a. ►
</span> */
 /* <span class="comment">
すでに ~DOM内に `aria-expanded="false"^a があるので、
この疑似要素は装飾的。
◎
aria-expanded="false" already in DOM, so this pseudo-element is decorative
</span> */
}
</pre>

<p class="trans-note">【†
“`black right-pointing pointer^en”
は，~Unicodeに定義される "►" （ U+25BA ）の文字~名であり、
文字~名は，おそらく英語~名しか正式に定義されていないので、
`内容~言語$が英語でない場合でも，このとおり発話されるかもしれない。
】</p>
</div>

		</section>
	</section>
	<section id="content-values">
<h2 title="Generated Content Values: the &lt;content-list&gt; type">2. 生成d内容~値 `content-list^t 型</h2>

<p>
`content-list$t 値は、［
画像, 文字列, ~counterの値, 要素の~text値
］も含め， 1 個以上の`匿名$な`行内~box$で要素を埋めるために `content$p 内で利用される。
この節では、
これがとり得る値を列挙する。
◎
The &lt;content-list&gt; value is used in content to fill an element with one or more anonymous inline boxes, including images, strings, the values of counters, and the text value of elements. In this section we enumerate the possibilities.
</p>

<p>
`content-list$t の構文は：
◎
The syntax of &lt;content-list&gt; is defined as:
</p>

<pre class="prod">
`content-list@t
	= [
		  `string$t
		| `image$t
		| `attr()$t
		| `contents$v
		| `quote$t
		| `leader()$t
		| `target$t
		| `string()$t
		| `content()$t
		| `counter$t
	]+
</pre>

		<section id="strings">
<h3 title="Basic Strings: &lt;string&gt; and &lt;attr()&gt; values">2.1. 基本的な文字列： `string^t 値, `attr()^t 値</h3>

<dl class="valdef">
	<dt id="valdef-content-string">`string$t</dt>
	<dd>
指定された~textで埋められる`匿名$な`行内~box$を表現する。
◎
Represents an anonymous inline box filled with the specified text.
</dd>
	<dd class="note">注記：
文字列~内の`空白$は、
~literal~text【通常の内容~内の~text】と同じに取扱われ，
`CSS-TEXT-3$r や他所による~propにより制御される。
特に，`空白$並びは縮約され得る
— `content$p の値において
`"First " " Second"^v
のように，複数の文字列にまたがっていようが、
既定では "First Second" （単語の合間に可視な~spaceは 1 個だけ）のように描画することになる。
◎
Note: White space in the string is handled the same as in literal text, and controlled by the properties in [CSS-TEXT-3] and elsewhere. In particular, white space character can collapse, even across multiple strings, such as in content: "First " " Second";, which by default will render similar to "First Second" (with a single visible space between the two words).
</dd>

	<dt id="valdef-content-attr">`attr()$t</dt>
	<dd>
この関数-記法は、
属性に指定された値として格納された文字列を表現する。
その引数は、
在るならば，［
当の属性の名前, 当の属性が属する名前空間
］を表現している`~CSS有修飾~名$（ `qname$t ）である。
`CSS3-NAMESPACE$r を見よ。
◎
The attr() functional notation represents the string stored as the specified attribute’s value. Its argument is a CSS qualified name (qname) representing the attribute name and namespace, if any. See [CSS3-NAMESPACE].
</dd>
	<dd class="note">注記：
`属性~選択子のとき＠~SELECTORS4#attrnmsp$と同じく、
明示的な名前空間を伴わない属性~名は，どの既定の名前空間にも結付けられない。
◎
Note: As in attribute selectors, attribute names without an explicit namespace do not associate with any default namespace.
</dd>
</dl>

		</section>
		<section id="content-uri">
<h3 title="2D Images: <image> values">2.2. ~2D画像： `image$t 値</h3>

<dl class="valdef">
	<dt id="valdef-content-list-image">`image$t</dt>
	<dd>
指定された画像で埋められる`匿名$な行内 `置換d要素$を表現する。
◎
Represents an anonymous inline replaced element filled with the specified &lt;image&gt;.
</dd>
	<dd>
`image^t 値が`無効な画像$を表現する場合、
何も表現しない（ “飛ばされた” かのように，行内~内容は要素に追加されない）。
◎
If the &lt;image&gt; represents an invalid image, this value instead represents nothing. (No inline content is added to the element, as if this value were "skipped".)
</dd>
</dl>

<p class="issue">
CSS2.1 は、
画像が妥当でない場合には “壊れた画像” ~iconで代用することを，明示的に~UAに許容していた。
しかしながら，これを行っている~browserは無いように見受けられる。
これは除去してもいいのでは？
◎
CSS2.1 explicitly allowed the UA to substitute a broken image icon if the image was invalid. However, no browser appears to do this. Is this removal okay?
</p>

		</section>
		<section id="element-content">
<h3 title="Elemental Content: the contents keyword">2.3. 要素の内容： `contents^v ~keyword</h3>

<dl class="valdef">
	<dt>`contents@v</dt>
	<dd>
<p>
要素の子孫を表現する。
これは、
要素ごとに一回しか利用できないので（例：~pluginや~form~controlである子は重複できない）、
次に従って取扱われる：
◎
The element’s descendants. Since this can only be used once per element (you can’t duplicate the children if, e.g., one is a plugin or form control), it is handled as follows:
</p>
		<ul>
			<li>
要素に対し設定された場合
⇒
常に尊守される。
これが既定になることに注意
— `content$p の初期~値 `normal$v は、
要素に対しては `contents$v に算出されるので。
◎
If set on the element:
• Always honoured. Note that this is the default, since the initial value of content is normal and normal computes to contents on an element.
</li>
			<li>
<p>
`疑似要素$に対し設定された場合
⇒
“それまでの” 疑似要素に設定されていないことを次に挙げる深さの順序で検査する
⇒＃
`出自の要素$,
`before$pe,
`after$pe
◎
If set on one of the element’s other pseudo-elements:
• Check to see that it is not set on a "previous" pseudo-element, in the following order, depth first:
•• the element itself
•• ::before
•• ::after
</p>

<p class="issue">
これは、
`疑似要素$に対しては空~文字列として挙動するベキか？
◎
Should this behave as an empty string on pseudo-elements?
</p>

<p>
すでに利用されていた場合、
何も表現しない（ `~noneC$v の様に）。
実際に生成される`疑似要素$のみ検査される。
◎
If it is already used, then it evaluates to nothing (like none). Only pseudo-elements that are actually generated are checked.
</p>
			</li>
		</ul>
	</dd>
</dl>

<div class="example">
<p>
次の事例では：
◎
In the following case:
</p>

<pre class="lang-css">
foo { content: normal; }  /* <span class="comment">
初期~値
◎
this is the initial value
</span> */
foo::after { content: contents; }
</pre>

<p>
要素の `content$p ~propは `contents$v に算出されるので、
`after$pe `疑似要素$の内容は無く，現れないことになる（ `~noneC$v に等価）。
◎
...the element’s content property would compute to contents and the ::after pseudo-element would have no contents (equivalent to none) and thus would not appear.
</p>

<pre class="lang-css">
foo { content: none; }
foo::after { content: contents; }
</pre>

<p>
一方，次の例では、
`after$pe `疑似要素$は `foo^e 要素の内容を包含することになる。
◎
But in this example, the ::after pseudo-element will contain the contents of the foo element.
</p>
</div>

<p class="issue">
要素の内容を抑止して，それを`疑似要素$内で利用するような利用事例があれば、
歓迎する。
◎
Use cases for suppressing the content on the element and using it in a pseudo-element would be welcome.
</p>

<p class="note">注記：
単独の `content$p ~prop内に `contents$v を重ねて含めても有用にならないが、
構文解析-~errorにはならない。
最初~以外の出現による効果は無い
— すでに利用されているので。
`marker$pe `疑似要素$に利用するのも構文解析-~errorではない
— `~noneC$v の様に扱われるのは、
描画~段階の間に限られる。
◎
Note: While it is useless to include contents twice in a single content property, that is not a parse error. The second occurrence simply has no effect, as it has already been used. It is also not a parse error to use it on a ::marker pseudo-element, it is only during the rendering stage that it gets treated like none.
</p>

<p class="issue">
`marker^pe `疑似要素$についての言明は、
ここに必要なのか？
あるいは，これは この仕様の旧~versionからの旧来の~~記述なのか？
◎
Do we need the statement about marker pseudo-elements here? Or is this legacy from the old version of the spec?
</p>

		</section>
		<section id="quotes">
<h3 title="Quotation Marks">2.4. 引用符</h3>

<p>
`quotes$p ~prop
（それは，要素の`引用符~system$を定義する）
は、
`content$p ~prop
（それは，対応する引用符を生成d内容として挿入する）
用の様々な `*-quote^v 値と併用して，［
開き／閉じ
］引用符を
（~HTML `q$e 要素~用などに）
自動的に挿入するために利用できる。
◎
The quotes property, which defines the quotation mark system of an element, in conjunction with the various *-quote values of the content property, which insert corresponding quotation marks as generated content, can be used to automatically insert opening and closing quotation marks, such as for the HTML q element.
</p>

			<section id="quotes-property">
<h4 title="Quotation Mark System: the quotes property">2.4.1. 引用符~system： `quotes^p ~prop</h4>

<div>
◎名 `quotes@p
◎値 `auto$v | `~noneQ$v | `match-parent$v | [ `string$t `string$t ]+
◎初 `auto$v
◎適 すべての要素
◎継 される
◎百 受容しない
◎算 指定された~keyword ／ ［
文字列~値の~pair
］たちが成す~list
◎順 文法に従う
◎ア 離散的
◎表終
◎
Name: 	quotes
Value: 	auto | none | match-parent | [ &lt;string&gt; &lt;string&gt; ]+
Initial: 	auto
Applies to: 	all elements
Inherited: 	yes
Percentages: 	n/a
Computed value: 	the keyword none, the keyword auto or match-parent, or a list, each item a pair of string values
Canonical order: 	per grammar
Animation type: 	discrete
</div>

<p>
~UAには、
視覚的でないものも含め，どの媒体でもこの~propを~supportすることが期待される。
◎
User agents are expected to support this property on all media, including non-visual ones.
</p>

<p>
この~propは、
当の要素~用に
`引用符~system@
を指定する
— それは、
`content$p ~prop用の値［
`open-quote$v, `close-quote$v
］が どう挙動するかを定義する。
`§ 引用符の挿入-法＠#quote-values$
を見よ。
各種~値の意味は：
◎
This property specifies the quotation mark system for the element, defining how the content property’s open-quote and close-quote values behave. See § 2.4.2 Inserting Quotation Marks: the *-quote keywords. Values have the following meanings:
</p>

<dl class="valdef">
	<dt>`~noneQ@v</dt>
	<dd>
`content$p ~prop用の値［
`open-quote$v ／ `close-quote$v
］が［
`no-open-quote$v ／ `no-close-quote$v
］であったかのように，引用符を生産しない。
◎
The open-quote and close-quote values of the content property produce no quotations marks, as if they were no-open-quote and no-close-quote respectively.
</dd>

	<dt>`auto@v</dt>
	<dd>
~typographic的に適切な`引用符~system$は、
要素の親（親が無い場合は要素~自身）の`内容~言語$に基づいて，
~UAにより自動的に選ばれる。
◎
A typographically appropriate quotation mark system is automatically chosen by the UA based on the content language of the parent (or, if there is no parent, of the element itself).
</dd>
	<dd class="note">注記：
~typographic的に適切な引用符についての情報は、
`CLDR$r にて保守されている。
~UAは、
他の情報~sourceも利用できる
— 特に，~typographic選好は変わり得るので。
しかしながら，改善があれば、
~software~ecosystem全体の便益になるよう，~Unicodeへ提出することが奨励される。
◎
Note: The Unicode Common Locale Data Repository [CLDR] maintains information on typographically appropriate quotation marks. UAs can use other sources of information as well, particularly as typographic preferences can vary; however it is encouraged to submit any improvements to Unicode so that the entire software ecosystem can benefit.
</dd>

	<dt>`match-parent@v</dt>
	<dd>
親と同じ`引用符~system$を指定する。
これは、
一般に，親の`算出d値$を継承することと等価になる
— `auto$v `it^en【？】 は親が利用したものと同じ`内容~言語$を利用して解決されることを除いて。
◎
Specifies the same quotation mark system as the parent. In general this is equivalent to inheriting the parent’s computed value, except that auto it resolves using the same content language that the parent used.
</dd>
	<dd class="issue">
<p>
ここではアリな~approachが 2 つあり，現時点では後者を仕様~化している：
</p>
		<ul>
			<li>
これを関連な文字列~値に算出して，そのとおりに継承する。
</li>
			<li>
実質的に
( ~keyword, 言語~code )
が成す組を継承する
— それは、
この言語を伴うことを除いて `auto$v と同じになることを意味する。
</li>
		</ul>
◎
Two possible approaches here, currently speccing the latter: a) this computes to the relevant string values, and inherits as such. b) this value effectively inherits as a keyword + a language code, meaning auto, but with this language.
</dd>

	<dt>[ `string$t `string$t ]+</dt>
	<dd>
`引用符~system$は、
指定された［
( 開き引用符, 閉じ引用符 ) が成す~pair
］たちが成す~listとして定義される。
1 個目の~pairは最外縁~levelの引用文を表現し，
2 個目の~pairは その~~子~levelの埋込みを表現する, 等々。
`content$p ~prop用の値［
`open-quote$v ／ `close-quote$v
］は、
~listを成す ある~pairの中の［
1 個目 ／ 2 個目
］の `string$t を参照rする。
◎
The quotation mark system is defined as the specified list of pairs of quotation marks (opening and closing). The first pair represents the outermost level of quotation, the second pair the next level of embedding, etc. Within a pair, the open-quote value refers to the first &lt;string&gt;, close-quote refers to the second.
</dd>
</dl>

			</section>
			<section id="quote-values">
<h4 title="Inserting Quotation Marks: the *-quote keywords">2.4.2. 引用符の挿入-法： 各種 `*-quote^v ~keyword</h4>

<pre class="prod">
`quote@t
	= `open-quote^v
	| `close-quote^v
	| `no-open-quote^v
	| `no-close-quote^v
</pre>

<dl class="valdef">
	<dt>`open-quote@v</dt>
	<dt>`close-quote@v</dt>
	<dd>
これらの値は、［
`quotes$p ~propにより定義される適切な文字列
］により置換される。
加えて，`引用符-深さ$を［
増やす／減らす
］（同順）。
◎
These values are replaced by the appropriate string as defined by the quotes property, and increments (for open-quote) or decrements (for close-quote) the level of nesting for quotes.
</dd>

	<dt>`no-open-quote@v</dt>
	<dt>`no-close-quote@v</dt>
	<dd>
挿入されるものは（ `~noneC$v と同じく）無いが、
`引用符-深さ$を［
増やす／減らす
］（同順）。
◎
Inserts nothing (as in none), but increments (for no-open-quote) or decrements (for no-close-quote) the level of nesting for quotes.
</dd>
</dl>

<p>
引用符は、
文書~内の適切な箇所に`content$p ~propの［
`open-quote$v ／ `close-quote$v
］値を通して挿入できる。
各［
`open-quote^v ／ `close-quote^v
］の出現は、
`引用符-深さ$に基づいて，［
`quotes$p ~propに指定された`引用符~system$に定義されるとおりの引用符~文字列
］で置換される。
◎
Quotation marks can be inserted in appropriate places in a document with the open-quote and close-quote values of the content property. Each occurrence of open-quote or close-quote is replaced by a quotation mark string as defined by the quotation mark system specified by the quotes property, based on the depth of nesting.
</p>

<p>
どの引用符s~pairが利用されるかは、
`引用符-深さ@
— 引用符sの入子ng~level —
に依存する。
それは、［
現在の出現より前に生成された~textにおける `open-quote$v の出現~数
］から［
現在の出現までに生成された~textにおける `close-quote$v の出現~数
］を引いた結果になる。
結果の深さ %深さ に応じて ( %深さ + 1 ) 個目の~pairが利用される。
%深さ が~pairたちの総数を超えた場合、
最後の~pairが繰返される。
◎
Which pair of quotes is used depends on the nesting level of quotes (the quote depth): the number of occurrences of open-quote in all generated text before the current occurrence, minus the number of occurrences of close-quote in all generated text before and including the current occurence. If the depth is 0, the first pair is used, if the depth is 1, the second pair is used, etc. If the depth is greater than the number of pairs, the last pair is repeated.
</p>

<p class="note">注記：
`引用符-深さ$は、［
~source文書／整形~構造
］の入子ngとは独立である。
それはまた、
`DOM$r の文脈においては
— `CSS-LISTS-3$r `§ ~counterの継承-法＠~CSSLIST#inheriting-counters$ と同様に —
“平坦~化された要素~tree” 【`参照＠~CSSSHADOW#flat-tree$】に対し演算する。
◎
Note: Quote depth is independent of the nesting of the source document or the formatting structure. Also, like counter inheritance, it operates on the “flattened element tree” in the context of the [DOM].
</p>

<p>
［
`close-quote$v ／
`no-close-quote$v
］の`引用符-深さ$が負になる場合、
~errorであり，（具現化~時点で）無視される
— その深さは 0 であり続け，挿入される引用符は無い
（それでも、
`content$p ~propの値を成す残りは挿入されるが）。
◎
A close-quote or no-close-quote that would make the quote depth negative is in error and is ignored (at rendering time): the depth stays at 0 and no quote mark is inserted (although the rest of the content property’s value is still inserted).
</p>

<div class="example">
<p>
一部の~typographic~styleでは、
引用文が何~段落かにわたる場合に，開き引用符は各~段落ごとに繰返す一方で，最後の段落のみ閉じ引用符で終端することが要求される。
~CSSにおいては、
これは “見えない” 閉じ引用符sを挿入して達成できる。
~keyword `no-close-quote$v は、
`引用符-深さ$を減らすが，引用符は挿入しない。
◎
Some typographic styles require open quotation marks to be repeated before every paragraph of a quote spanning several paragraphs, but only the last paragraph ends with a closing quotation mark. In CSS, this can be achieved by inserting "phantom" closing quotes. The keyword no-close-quote decrements the quoting level, but does not insert a quotation mark.
</p>

<p>
次の~stylesheetは、
`blockquote^e 内の段落ごとに開き引用符を置きつつ，閉じ引用符は終端にのみ挿入する：
◎
The following style sheet puts opening quotation marks on every paragraph in a blockquote, and inserts a single closing quote at the end:
</p>

<pre class="lang-css">
blockquote p::before { content: open-quote }
blockquote p::after { content: no-close-quote }
blockquote p:last-child::after { content: close-quote }
</pre>

<p>
対称性を得るため，
`no-open-quote$v ~keywordもあり、
何も挿入しないが，`引用符-深さ$を 1 だけ増やす。
◎
For symmetry, there is also a no-open-quote keyword, which inserts nothing, but increments the quotation depth by one.
</p>
</div>

<p class="note">注記：
引用文と周囲の~textの言語が異なる場合、
引用文は，それ自身の言語ではなく周囲の~textの言語の引用符で括ることが慣習とされている。
◎
Note: If a quotation is in a different language than the surrounding text, it is customary to quote the text with the quote marks of the language of the surrounding text, not the language of the quotation itself.
</p>

<div class="example">
<p>
例えば、
~Englishの内側に~Frenchがある場合：
◎
For example, French inside English:
</p>

<blockquote lang="en">
The device of the order of the garter is “<span lang="fr">Honi soit qui mal y pense.</span>”
</blockquote>

<p>
~Frenchの内側に~Englishがある場合：
◎
English inside French:
</p>

<blockquote lang="fr">
Il disait: « Il faut mettre l’action en ‹ <span lang="en">fast forward</span> ›. »
</blockquote>

<p>
次の様な~stylesheetは、［
`open-quote$v ／ `close-quote$v
］がすべての要素~上で正しく働くことになるよう，
`quotes$p ~propを設定することになる。
これらの規則は，［
~English, ~French
］以外は包含しない文書~用であり、
追加的な言語ごとに，それ用の規則が必要になる。
周囲の~textの言語に基づく引用符sを要素に設定するため、
子~結合子（ `&gt;^css ）を利用していることに注意：
◎
A style sheet like the following will set the quotes property so that open-quote and close-quote will work correctly on all elements. These rules are for documents that contain only English, French, or both. One rule is needed for every additional language. Note the use of the child combinator ("&gt;") to set quotes on elements based on the language of the surrounding text:
</p>

<pre class="lang-css">
:lang(fr) &gt; * { quotes: "\00AB\2005" "\2005\00BB" "\2039\2005" "\2005\203A" }
:lang(en) &gt; * { quotes: "\201C" "\201D" "\2018" "\2019" }
</pre>

<p>
ここに示した引用符は、
ほぼ誰もが打込める~escaped形で記されている。
直に打込めるなら、
次の様な見かけになる：
◎
The quotation marks are shown here in a form that most people will be able to type. If you can type them directly, they will look like this:
</p>

<pre class="lang-css">
:lang(fr) &gt; * { quotes: "« " " »" "‹ " " ›" }
:lang(en) &gt; * { quotes: "“" "”" "‘" "’" }
</pre>
</div>

<div class="example">
<p>
例えば，次の~stylesheetを適用した場合：
◎
For example, applying the following style sheet:
</p>

<pre class="lang-css">
/* <span class="comment">
2 つの言語における 2 つの~level用に， 2 つの引用符s~pairを指定する。
◎
Specify pairs of quotes for two levels in two languages
</span> */
:lang(en) &gt; q { quotes: '"' '"' "'" "'" }
:lang(no) &gt; q { quotes: "«" "»" "’" "’" }

/* <span class="comment">
`q^e 要素の内容の前, 後に引用符sを挿入する
◎
Insert quotes before and after Q element content
</span> */
q::before { content: open-quote }
q::after  { content: close-quote }
</pre>

<p>
次の~HTML片は：
◎
to the following HTML fragment:
</p>

<pre class="lang-html">
&lt;html lang="en"&gt;
  &lt;head&gt;
   &lt;title&gt;Quotes&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
   &lt;p&gt;&lt;q&gt;Quote me!&lt;/q&gt;&lt;/p&gt;
  &lt;/body&gt;
&lt;/html&gt;
</pre>

<p>
次を生産することを~UAに許容する：
◎
would allow a user agent to produce:
</p>

<pre lang="en">
"Quote me!"
</pre>

<p>
一方で、
次の~HTML片は：
◎
while this HTML fragment:
</p>

<pre class="lang-html">
&lt;html lang="no"&gt;
  &lt;head&gt;
   &lt;title&gt;Quotes&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
   &lt;p&gt;&lt;q&gt;Trøndere gråter når &lt;q&gt;Vinsjan på kaia&lt;/q&gt; blir deklamert.&lt;/q&gt;&lt;/p&gt;
  &lt;/body&gt;
&lt;/html&gt;
</pre>

<p>
次を生産することになる：
◎
would produce:
</p>

<pre lang="no">
«Trøndere gråter når ’Vinsjan på kaia’ blir deklamert.»
</pre>
</div>

			</section>
		</section>
		<section id="leaders">
<h3 title="Leaders">2.5. ~leader</h3>

<p>
~leader
（ `leader^en ）
— `tab leader^en ／ `dot leader^en と称されることもある —
は、
横方向の空間にまたがって内容を視覚的に接続するために利用される~patternであり、
空間を埋める分に必要なだけ繰返される。
それらは、
目次における~titleと~page番号の合間に最も共通的に利用される。
`leader$f 関数は、
`content^p ~prop用の値としては，~CSS内に~leaderを作成するために利用される。
この関数は、
~leader用に繰返される~patternを述べる文字列（~leader文字列）をとる。
◎
A leader, sometimes known as a tab leader or a dot leader, is a repeating pattern used to visually connect content across horizontal spaces. They are most commonly used in tables of contents, between titles and page numbers. The leader() function, as a value for the content property, is used to create leaders in CSS. This function takes a string (the leader string), which describes the repeating pattern for the leader.
</p>

			<section id="leader-function">
<h4 title="The leader() function">2.5.1. `leader^f 関数</h4>

<dl class="valdef">
	<dt class="prod" id="funcdef-content-leader">leader( `leader-type$t )</dt>
	<dd>
`~leader＠#leaders$を挿入する。
◎
Inserts a leader. See the section on leaders for more information.
</dd>
</dl>

<pre class="prod">
`leader@f
	= leader( `leader-type$t )
`leader-type@t
	= `dotted^v | `solid^v | `space^v | `string$t
</pre>

<p>
3 種の~keywordは、
共通的な文字列~用の略式~値である：
◎
Three keywords are shorthand values for common strings:
</p>

<dl class="valdef">
	<dt>`dotted@v</dt>
	<dd>
`leader(".")^v に等価。
◎
Equivalent to leader(".")
</dd>

	<dt>`solid@v</dt>
	<dd>
`leader("_")^v に等価。
◎
Equivalent to leader("_")
</dd>

	<dt>`space@v</dt>
	<dd>
`leader(" ")^v に等価。
◎
Equivalent to leader(" ")
</dd>

	<dt id="valdef-leader-string">`string$t</dt>
	<dd class="issue">
これを定義する必要がある。
◎
Issue: Define this.
</dd>
</dl>

<div class="example">
<p>
次の~CSS, ~HTMLが与えられた下では：
◎
This might result in:
</p>

<pre class="lang-css">
ol.toc a::after {
  content: leader('.') target-counter(attr(href), page);
}
</pre>

<pre class="lang-html">
&lt;h1&gt;Table of Contents&lt;/h1&gt;
&lt;ol class="toc"&gt;
&lt;li&gt;&lt;a href="#chapter1"&gt;Loomings&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#chapter2"&gt;The Carpet-Bag&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#chapter3"&gt;The Spouter-Inn&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
</pre>

<p>
結果は、
次のようになるであろう：
◎
</p>

<pre class="presentation">
Table of Contents

1. Loomings.....................1
2. The Carpet-Bag...............9
3. The Spouter-Inn.............13
</pre>
</div>

<p class="issue">
~leaderは、［
より後にある内容は、
終端に整列される（左横書きなら右へ寄せられる）
］とする前提に依存するか？
◎
Do leaders depend on the assumption that the content after the leader is right-aligned (end-aligned)?
</p>

			</section>
			<section id="leader-rules">
<h4 title="Rendering leaders">2.5.2. ~leaderの描画</h4>

<p>
［
~leaderより前にある内容（ “前~内容”）,
~leader自身,
~leaderより後にある内容（ “後~内容”）
］を包含する行lを考える。
~leaderは、
次の規則を順守する：
◎
Consider a line which contains the content before the leader (the “before content”), the leader, and the content after the leader (the “after content”). Leaders obey the following rules:
</p>

<ol>
	<li>
~leader文字列は、
少なくとも一回は，全部的に現れるモノトスル。
◎
The leader string must appear in full at least once.
</li>
	<li>
~leaderは、
アリな限り長くされるベキである。
◎
The leader should be as long as possible
</li>
	<li>
~leader内の可視な文字は、
アリなときは，縦方向に互いに整列するベキである。
◎
Visible characters in leaders should vertically align with each other when possible.
</li>
	<li>
~leader文字列~内の改行~文字は、
無視するモノトスル。
◎
Line break characters in the leader string must be ignored.
</li>
	<li>
~leader文字列~内の空白は通常の~CSS規則に従う。
◎
White space in the leader string follows normal CSS rules.
</li>
	<li>
~leaderが現れるのは前~内容と後~内容の合間に限られる。
◎
A leader only appears between the start content and the end content.
</li>
	<li>
前~内容と後~内容が異なる行lにある場合でも、
~leaderは単独の行lにのみ現れる。
◎
A leader only appears on a single line, even if the before content and after content are on different lines.
</li>
	<li>
~leaderのみで行l全体を占めることはできない。
◎
A leader can’t be the only thing on a line.
</li>
</ol>

			</section>
			<section id="leader-alignment">
<h4 title="Procedure for rendering leaders">2.5.3. ~leaderの描画~用の手続-</h4>

<ol>
	<li>
<p>
%前~内容 を終端する行lに達するまで~lay-outする。
◎
Lay out the before content, until reaching the line where the before content ends.
</p>

<pre class="presentation">
前前前前前前前前前前
前前前
</pre>

</li>
	<li>
<p>
~leader文字列を現在の行lの終端~辺から始端~辺に達するまでアリな限り多く描く（各~leader文字列は、
1 個~以上の~glyphからなる`行内~box$を成し，~leaderはこれらの~boxが成す並びになる）。
◎
The leader string consists of one or more glyphs, and is thus an inline box. A leader is a row of these boxes, drawn from the end edge to the start edge, where only those boxes not overlaid by the before or after content. On this line, draw the leader string, starting from the end edge, repeating as many times as possible until reaching the start edge.
</p>

<pre class="presentation">
前前前前前前前前前前
・・・・・・・・・・
</pre>
	</li>
	<li>
<p>
~leaderの上から %前~内容, %後~内容 を描く。
~leader文字列~boxのうち，（それを成すある~glyphが）［
%前~内容 ／ %後~内容
］に一部でも重合するものは、
前~段にて描かなかったかのように隠す。
◎
Draw the before and after content on top of the leader. If any part of the before content or after content overlaps a glyph in a leader string box, that glyph is not displayed.
</p>

<pre class="presentation">
前前前前前前前前前前
前前前・・・・後後後
</pre>
	</li>
	<li>
<p>
前~段の結果、
全部的に可視な~leader文字列が無くなる場合：
◎
If one full copy of the leader string is not visible:
</p>

<pre class="presentation">
前前前前前前前前前前
前前前後後後後後後後
</pre>

<p>
%前~内容 の後に改行を挿入した上で、
前~段をやり直す。
◎
Insert a line break after the before content, draw the leader on the next line, and draw the after content on top, and hide any leader strings that are not fully displayed.
</p>

<pre class="presentation">
前前前前前前前前前前
前前前
・・・後後後後後後後
</pre>

	</li>
</ol>

<p class="issue">
%後~内容 【と 1 個の~leader文字列との合計】が行l~boxより幅広な場合、
どうする？
◎
what to do if after content is wider than the line box?
</p>

<p class="issue">
~table~layoutにおいては、
~leaderは まったく働かない。
どうやればこれを修正できる？
◎
Leaders don’t quite work in table layouts. How can we fix this?
</p>

<p>
【以下、ここに示されていた画像は，上の図式で十分なので省略する。】
◎
Procedure for drawing leaders
◎
Procedure for drawing leaders when the content doesn’t fit on a single line
</p>

			</section>
		</section>
		<section id="cross-references">
<h3 title="Cross References">2.6. 相互-参照</h3>

<p>
多くの文書は、
内部的な参照を包含する
— 例えば
⇒＃
第 7 章を見よ… ／
4.1 節にて… ／
23 ~pageに…
◎
Many documents contain internal references:
• See chapter 7
• in section 4.1
• on page 23
</p>

<p>
この種の相互-参照を自動的に作成するため、
`content^p ~prop用の新たな 3 種の値
— `target-counter$f, `target-counters$f, `target-text$f —
が利用される。
それぞれ、
~link先から得された情報を表示する。
◎
Three new values for the content property are used to automatically create these types of cross-references: target-counter(), target-counters(), and target-text(). Each of these displays information obtained from the target end of a link.
</p>

<pre class="prod">
`target@t
	= `target-counter()$t
	| `target-counters()$t
	| `target-text()$t
</pre>

<p>
詳細は、
以下の各~節を見よ。
◎
See sections below for details on each of these.
</p>

			<section id="target-counter">
<h4 title="The target-counter() function">2.6.1. `target-counter^f 関数</h4>

<pre class="prod">
`target-counter@f
	= target-counter( [ `string$t | `url$t ] , `custom-ident$t , `counter-style$t? )
</pre>

<p>
`target-counter$f 関数は、
【~targetにされた要素の`~counter集合$内の】［
所与の名前を伴う`最内縁$な`~counter$
］の値を検索取得する。
引数には［
~targetの~URL, ~counterの名前
］が要求される。
省略可能な `counter-style^t 引数を利用すれば結果を整形できる。
◎
The target-counter() function retrieves the value of the innermost counter with a given name. The required arguments are the url of the target and the name of the counter. An optional counter-style argument can be used to format the result.
</p>

<p>
この関数は、
現在の文書~内の所在を指している素片~URLのみをとる。
［
素片が無い／
参照先の~IDがそこに無い／
~URLは文書の外側を指している
］場合、
~UAは~errorとして扱うモノトスル。
◎
These functions only take a fragment URL which points to a location in the current document. If there’s no fragment, if the ID referenced isn’t there, or if the URL points to an outside document, the user agent must treat that as an error.
</p>

<p class="issue">
~errorの取扱いはどうあるベキか？
◎
what should error handling be?
</p>

<p class="issue">
今の所、
構文上は局所的な参照に制約される。
◎
restrict syntactically to local references for now.
</p>

<div class="example">
<p>
~HTML：
◎
HTML:
</p>

<pre class="lang-html">
…それについては、
&lt;a href="#chapter4_sec2"&gt;&lt;/a&gt; ~pageにて論じる。
</pre>
<!-- 
…which will be discussed on page <a href="#chapter4_sec2"></a>.
-->

<p>
~CSS:
◎
CSS:
</p>

<pre class="lang-css">
a::after { content: target-counter(attr(href url), page) }
</pre>

<p>
結果：
◎
Result:
</p>

<pre class="presentation">
…それについては、
137 ~pageにて論じる。
</pre>
<!-- 
…which will be discussed on page 137.
-->
</div>

<div class="example">
<p>
目次~内の~page番号は、
自動的に生成できる：
◎
Page numbers in tables of contents can be generated automatically:
</p>

<p>
~HTML：
◎
HTML:
</p>

<pre class="lang-html">
&lt;nav&gt;
  &lt;ol&gt;
   &lt;li class="frontmatter"&gt;&lt;a href="#pref_01"&gt;Preface&lt;/a&gt;&lt;/li&gt;
   &lt;li class="frontmatter"&gt;&lt;a href="#intr_01"&gt;Introduction&lt;/a&gt;&lt;/li&gt;
   &lt;li class="bodymatter"&gt;&lt;a href="#chap_01"&gt;Chapter One&lt;/a&gt;&lt;/li&gt;
  &lt;/ol&gt;
&lt;/nav&gt;
</pre>

<p>
~CSS：
◎
CSS:
</p>

<pre class="lang-css">
.frontmatter a::after { content: leader('.') target-counter(attr(href url), page, lower-roman) }
.bodymatter a::after { content: leader('.') target-counter(attr(href url), page, decimal) }
</pre>

<p>
結果：
◎
Result:
</p>

<pre class="presentation">
Preface.............vii
Introduction.........xi
Chapter One...........1
</pre>
</div>

			</section>
			<section id="target-counters">
<h4 title="The target-counters() function">2.6.2. `target-counters^f 関数</h4>

<p>
この関数は、［
~link先の【要素の`~counter集合$内の】~counterのうち，所与の名前を伴うもの
］すべての値を得た上で，それらの（入子な~counterの）値の合間に【 3 個目の引数に】所与の文字列を挿入することにより，整形する。
◎
This functions fetches the value of all counters of a given name from the end of a link, and formats them by inserting a given string between the value of each nested counter.
</p>

<pre class="prod">
`target-counters@f
	= target-counters( [ `string$t | `url$t ] , `custom-ident$t , `string$t , `counter-style$t? )
</pre>

<p class="issue">
例を追加する。
◎
I have not found a compelling example for target-counters() yet.
◎
found a compelling example, in CSS specs. Do something.
</p>

			</section>
			<section id="target-text">
<h4 title="The target-text() function">2.6.3. `target-text^f 関数</h4>

<p>
`target-text$f 関数は、
引数に与えた~URLが参照rしている要素の~text値を検索取得する。
省略可能な 2 個目の引数は、
上の `string-set$p ~propと同じ値を利用して，どの内容が検索取得されるかを指定する。
◎
The target-text() function retrieves the text value of the element referred to by the URL. An optional second argument specifies what content is retrieved, using the same values as the string-set property above.
</p>

<pre class="prod">
`target-text@f
	= target-text( [ `string$t | `url$t ] , [ `content^v | `before^v | `after^v | `first-letter^v ]? )
</pre>

<p class="issue">
`fantasai^en 氏から，
`もっと単純な構文が提案されている＠https://lists.w3.org/Archives/Public/www-style/2012Feb/0745.html$。
◎
A simpler syntax has been proposed by fantasai: http://lists.w3.org/Archives/Public/www-style/2012Feb/0745.html
</p>

<div class="example">
<pre class="lang-html">
…それについては、
&lt;a href="#chapter_h1_1"&gt;後述する&lt;/a&gt;。
</pre>

<pre class="lang-css">
a::after { content: "（ " target-text(attr(href url)) " 章にて）" }
</pre>

<p>
結果
⇒
…それについては、
後述する（ Loomings 章にて）。
◎
Result: …which will be discussed later, in the chapter entitled Loomings.
</p></div>

			</section>
		</section>
		<section id="named-strings">
<h3 title="Named Strings">2.7. 有名~文字列</h3>

<p>
この節は、
`有名~文字列@
を導入する。
それは、
~counterとは別個な名前空間に属する，~counterの~textな等価である。
有名~文字列は、
~counterと同じ入子ng規則に従う†。
`string-set$p ~propは、
`content$p ~propに類似な値を受容する††
— ~counterの現在の値を抽出する値も含め。
◎
This section introduces named strings, which are the textual equivalent of counters and which have a distinct namespace from counters. Named strings follow the same nesting rules as counters. The string-set property accepts values similar to the content property, including the extraction of the current value of counters.
</p>

<p class="trans-note">【†
どう入子にされるかは述べられていない。
その他、
この節には多数の不備が見られる。
】【††
その値を通して，要素に`有名~文字列$をアテガう
— `string-set^p の “`set^en” は、
`counter-set$p と同様に “~~集合”ではなく “~~設定” を意味する。
】</p>

<p>
`有名~文字列$は、
文書の他所から取り出した~metadataを，~headerや~footerの中へ挿入する簡便な仕方を与える。
例えば~HTMLにおいては、
文書 `head^e に包含される `meta^e 要素にて，有名~文字列の値を設定できる。
これを属性~選択子と併用すれば、
強力な仕組みになる：
◎
Named strings are a convenient way to pull metadata out of the document for insertion into headers and footers. In HTML, for example, META elements contained in the document HEAD can set the value of named strings. In conjunction with attribute selectors, this can be a powerful mechanism:
</p>

<div class="example">
<pre class="lang-css">
meta[author] { string-set: author attr(author); }
head &gt; title { string-set: title contents; }
`page$at `left$ps {【！原文 @page の後のスペース抜け】
  `top-center$at {【！@top】
    text-align: left;
    vertical-align: middle;
    content: string(title);
  }
}
`page$at `right$ps {
  `top-center$at {
    text-align: right;
    vertical-align: middle;
    content: string(author);
  }
}
</pre>
</div>

			<section id="string-set">
<h4 title="Naming Strings: the string-set property">2.7.1. 文字列の命名-法： `string-set^p ~prop</h4>

<div>
◎名 `string-set@p
◎値 `~noneS$v | [ `custom-ident$t `string$t+ ]#
◎初 `none^v
◎適 すべての要素
— ただし`疑似要素$は除く。
◎継 されない
◎百 受容しない
◎算 ~keyword `none^v ／ ~list
— ~listを成す各~itemは、［
識別子, 文字列~値たちが成す~list
］が成す~pair
◎順 文法に従う
◎ア 離散的
◎表終
◎
Name: 	string-set
Value: 	none | [ &lt;custom-ident&gt; &lt;string&gt;+ ]#
Initial: 	none
Applies to: 	all elements, but not pseudo-elements
Inherited: 	no
Percentages: 	N/A
Computed value: 	the keyword none or a list, each item an identifier paired with a list of string values
Canonical order: 	per grammar
Animation type: 	discrete
</div>

<p>
~UAには、
視覚的でないものも含め，どの媒体でもこの~propを~supportすることが期待される。
◎
User agents are expected to support this property on all media, including non-visual ones.
</p>

<p>
`string-set$p ~propは、
要素の~text内容を`有名~文字列$の中へ複製する変数として機能する。
この有名~文字列の~text内容は、
`string$f 関数を利用して検索取得できる。
これらの変数は，所与の~page上で変化し得る
— そのため， `string$f 関数~用の省略可能な 2 個目の値は、
~page上のどの値を利用するか選ぶことを，作者に許容する。
◎
The string-set property copies the text content of an element into a named string, which functions as a variable. The text content of this named string can be retrieved using the string() function. Since these variables may change on a given page, an optional second value for the string() function allows authors to choose which value on a page is used.
</p>

<dl class="valdef">
	<dt>`~noneS@v</dt>
	<dd>
要素は、
どの`有名~文字列$も設定しない。
◎
The element does not set any named strings.
</dd>

	<dt class="prod">[ `custom-ident$t `string$t+ ]#</dt>
	<dd>
要素は、
~list内の~commaで分離された各~itemごとに`有名~文字列$を確立する。
◎
The element establishes one or more named strings, corresponding to each comma-separated entry in the list.
</dd>
	<dd>
各~itemを成す `custom-ident$t は、
`有名~文字列$の名前を与える。
それに後続する 1 個~以上の `string$t 値は、
一緒に連結されて，有名~文字列の値を形成する。
【しかしながら、各種例は `string^t 以外の様々な構文も受容している（ `1829$issue ）】
◎
For each entry, the &lt;custom-ident&gt; gives the name of the named string. It’s followed by one or more &lt;string&gt; values, which are concatenated together to form the value of the named string.
</dd>
</dl>

<p>
`string-set$p ~propは、
`~style封込め$がある要素のどの子孫にも，効果を発揮しないモノトスル。
◎
If an element has style containment, the string-set property must have no effects on descendants of that element.
</p>

<div class="example">
<p>
次の例は `h1^e 要素の内容を捕捉する
— それは、
ある文書の章（ `chapter^v ）の名前を表現する。
◎
The following example captures the contents of H1 elements, which represent chapter names in this hypothetical document.
</p>

<pre class="lang-css">
h1【！H1】 { string-set: chapter `contents$v; }
</pre>

<p>
`h1^e 要素に遭遇したときは、
`chapter^v 文字列は 要素の~textな内容に設定され，
`chapter^v 用の以前の値は~~上書きされる。
◎
When an H1 element is encountered, the chapter string is set to the element’s textual contents, and the previous value of chapter, if any, is overwritten.
</p>
</div>

			</section>
			<section id="string-function">
<h4 title="Inserting Named Strings: the string() function">2.7.2. 有名~文字列の挿入-法： `string^f 関数</h4>

<pre class="prod">
`string@f
	= string( `custom-ident$t , [ `first^v | `start^v | `last^v | `first-except^v ]? )
</pre>

<p>
`content$p ~propに対する `string$f 関数は、
`有名~文字列$の値を文書へ複製するために利用される。
この関数の引数には、
`有名~文字列$の名前が要求される。
有名~文字列の値は、
~page上で何度も変化し得るので（文字列を【 `string-set$p により】定義している要素は複数個~現れ得る）、
省略可能な 2 個目の引数が，有名~文字列のどの値を利用するベキかを指示する。
◎
The string() function is used to copy the value of a named string to the document, via the content property. This function requires one argument, the name of the named string. Since the value of a named string may change several times on a page (as multiple elements defining the string can appear) an optional second argument indicates which value of the named string should be used.
</p>

<p>
`string$f 関数の 2 個目の引数がとり得る各~keywordの意味は：
◎
The second argument of the string() function is one of the following keywords:
</p>

<dl class="valdef">
	<dt>`first@v</dt>
	<dd>
~page上で最初にアテガわれた値が利用される。
~page上にアテガわれた値が無い場合、
`入口~値$が利用される。
2 個目の引数は供されていない場合、
これが既定の値になる。
◎
The value of the first assignment on the page is used. If there is no assignment on the page, the entry value is used. If no second argument is provided, this is the default value.
</dd>

	<dt>`start@v</dt>
	<dd>
要素は~page上の最初の要素である場合、
最初にアテガわれた値が利用される。
他の場合は`入口~値$が利用される。
`入口~値$は、
`有名~文字列$がまだ現れていない
【すなわち、どの要素も `string-set$p により名前の文字列を指定していない】
場合には空になる。
◎
If the element is the first element on the page, the value of the first assignment is used. Otherwise the entry value is used. The entry value may be empty if the named string hasn’t yet appeared.
</dd>

	<dt>`last@v</dt>
	<dd>
`有名~文字列$の`出口~値$が利用される。
◎
The exit value of the named string is used.
</dd>

	<dt>`first-except@v</dt>
	<dd>
これは、
`first$v に一致する
— 値がアテガわれた所では空~文字列が~page上に利用されることを除いて。
◎
This is identical to first, except that the empty string is used on the page where the value is assigned.
</dd>
	<dd class="issue">
内容~文字列~全体を~killする必要もあり得る。
これは必要yなのか？
◎
we may need to kill the entire content string. Is this necessary?
</dd>
</dl>

<p>
`有名~文字列$の内容~値は、
要素の内容~boxが最初に作成された時点（要素の `display^p 値が `none^v の場合は作成される時点）にアテガわれる。
現在の~page用の
`入口~値@
は，前~pageの`出口~値$であり【前~pageが無いならば空~文字列】、
`出口~値@
は，当の~pageの終端にて効果を発揮する`有名~文字列$である。
◎
The content values of named strings are assigned at the point when the content box of the element is first created (or would have been created if the element’s display value is none). The entry value for a page is the assignment in effect at the end of the previous page. The exit value for a page is the assignment in effect at the end of the current page.
</p>

<div class="example">
<p>
~CSS：
◎
CSS:
</p>

<pre class="lang-css">
`page$at {
  size: 15cm 10cm;
  margin: 1.5cm;

  `top-left$at {
    content: "first: " string(heading, first);
  }
  `top-center$at {
    content: "start: " string(heading, start);
  }
  `top-right$at {
    content: "last: " string(heading, last);
  }
}

h2 { string-set: heading content() }
</pre>

<p>
次の各図に、
様々な~page上での `heading^v （見出し）［
`first^v ／ `start^v ／ `last^v
］値にアテガわれる文字列を示す。
◎
The following figures show the first, start, and last assignments of the “heading” string on various pages.
</p>

<figure>
<figcaption id="_dgm-using-strings-1">
`start^v 値は空になる
— 文字列は~pageの始端ではまだ設定されていないので。
◎
The start value is empty, as the string had not yet been set at the start of the page.
</figcaption></figure>

<figure>
<figcaption id="_dgm-using-strings-2">
~pageは `h2^e から開始するので， `start^v 値はその~headの値になる。
◎
Since the page starts with an h2, the start value is the value of that head.
</figcaption></figure>

<figure>
<figcaption id="_dgm-using-strings-3">
この~pageの上端には `h2^e は無いので、
`start^v 値は前~pageの`出口~値$になる。
◎
Since there’s not an h2 at the top of this page, the start value is the exit value of the previous page.
</figcaption></figure>
</div>

			</section>
			<section id="content-function">
<h4 title="The content() function">2.7.3. `content^f 関数</h4>

<pre class="prod">
`content@f
	= content( [ `text^v | `before^v | `after^v | `first-letter^v | `marker^v ]? )
</pre>

<dl class="valdef">
	<dt>引数なし</dt>
	<dt>`text@v</dt>
	<dd>
要素の文字列~値。
`content$f 内に値が指定されていない場合、
`text$v が指定されていたかのように動作する。
◎
The string value of the element. If no value is specified in content(), it acts as if text were specified.
</dd>

	<dt>`before@v</dt>
	<dd>
`before$pe `疑似要素$の文字列~値。
◎
The string value of the ::before pseudo-element.
</dd>

	<dt>`after@v</dt>
	<dd>
`after$pe `疑似要素$の文字列~値。
◎
The string value of the ::after pseudo-element.
</dd>

	<dt>`first-letter@v</dt>
	<dd>
`first-letter$pe `疑似要素$用に定義されるものと同じ，要素の最初の字l。
◎
The first letter of the element, as defined for the ::first-letter pseudo-element
</dd>

	<dt>`marker@v</dt>
	<dd>
`marker$pe `疑似要素$の文字列~値。
◎
The string value of the ::marker pseudo-element.
</dd>
</dl>

<div class="example">
<p>
~HTML：
◎
HTML:
</p>

<pre class="lang-html">
&lt;h1&gt;Loomings&lt;/h1&gt;
</pre>

<p>
~CSS:
◎
CSS:
</p>

<pre class="lang-css">
h1::before { content: 'Chapter ' counter(chapter); }
h1 { string-set: header content(before) ':' content(text); }
h1::after { content: '.'; }
</pre>

<p>
`有名~文字列$ `header^v の値は、
`Chapter 1: loomings^l になる。
◎
The value of the named string “header” will be “Chapter 1: Loomings”.
</p>
</div>

<div class="example">
<p>
~HTML：
◎
HTML:
</p>

<pre class="lang-html">
&lt;section title="Loomings"&gt;
</pre>

<p>
~CSS:
◎
CSS:
</p>

<pre class="lang-css">
section { string-set: header attr(title) }
</pre>

<p>
`header^v 文字列の値は `Loomings^l になる。
◎
The value of the “header” string will be “Loomings”.
</p>
</div>

			</section>
		</section>
		<section id="counters">
<h3 title="Automatic Counters and Numbering">2.8. 自動的な~counterと付番</h3>

<p>
`CSS-LIST-3$r `§ ~counterによる自動的な付番＠~CSSLIST#auto-numbering$
を見よ。
◎
See CSS Lists 3 § 4 Automatic Numbering With Counters.
</p>

<p class="issue">
これは、
この仕様に戻すべきか？
◎
Now described in [CSS3LIST]
◎
Should this move back to CSS Content?
</p>

		</section>
	</section>
	<section id="bookmark-generation">
<h2 title="Bookmarks">3. ~bookmark</h2>

<p>
一部の文書~形式
— とりわけ~PDF —
は、
~navi用の援助として
`~bookmark@
の利用-を許容する。
文書を成す要素に指定された~bookmarkは、［
~link, その~labelを成す~text, ~level値
］を当の要素に供する。
各~bookmarkは、
3 個の~prop［
`bookmark-level$p,
`bookmark-label$p,
`bookmark-state$p
］からなる。
◎
Some document formats, most notably PDF, allow the use of bookmarks as an aid to navigation. Bookmarks provide a list of links to document elements, as well as text to label the links and a level value. A bookmark has three properties: bookmark-level, bookmark-label, and bookmark-state.
</p>

<p>
利用者が~bookmarkを作動化したときは、
~UAは，その参照-先を利用者の注目を引く地点へ持ってくるモノトスル
— ちょうど、
素片~URLにより参照-先の要素へ~navigateしたかのように。
<span class="note">
その結果、
`target$ps 疑似類にも合致することになる【要素に id が付与されていなくとも】。
</span>
◎
When a user activates a bookmark, the user agent must bring that reference point to the user’s attention, exactly as if navigating to that element by fragment URL. This will also trigger matching the :target pseudo-class.
</p>

<p class="trans-note">【
~~暗黙の前提として、
指定された~bookmarkたちは，~UAの何らかの~UI（例：~menuや~side-bar）を通して呈示することが意図されていると見受けられるが、
どこにどう呈示するかは~UAに委ねられるようだ（言及されていない）。
】</p>

<p>
［
`bookmark-level$p ／ `bookmark-label$p ／ `bookmark-state$p
］~propは、
`~style封込め$がある要素のどの子孫にも，効果を発揮しないモノトスル。
◎
If an element has style containment, the bookmark-level, bookmark-label, and bookmark-state properties must have no effect on descendants of the element.
</p>

		<section id="bookmark-level">
<h3 title="Setting a Bookmark: the bookmark-level property">3.1. ~bookmarkの設定-法： `bookmark-level^p ~prop</h3>

<p>
`bookmark-level$p ~propは、［
~bookmarkを作成するかどうか,
そうする場合 その~levelは何になるか
］を決定する。
この~propの算出d値が `~noneB$v になる【！is absent, or has】場合、［
`bookmark-label$p ／ `bookmark-state$p
］の値に関わらず，~bookmarkは生成されるベキでない。
◎
The bookmark-level property determines if a bookmark is created, and at what level. If this property is absent, or has value none, no bookmark should be generated, regardless of the values of bookmark-label or bookmark-state.
</p>

<div>
◎名 `bookmark-level@p
◎値 `~noneB$v | `integer [1,∞]$t
◎初 `none^v
◎適 すべての要素
◎継 されない
◎百 受容しない
◎算 ~keyword `none^v ／指定された整数
◎順 文法に従う
◎ア 算出d値の型による
◎表終
◎
Name: 	bookmark-level
Value: 	none | &lt;integer [1,∞]&gt;
Initial: 	none
Applies to: 	all elements
Inherited: 	no
Percentages: 	N/A
Computed value: 	the keyword none or the specified integer
Canonical order: 	per grammar
Animation type: 	by computed value type
</div>

<dl class="valdef">
	<dt id="valdef-bookmark-level-integer">`integer [1,∞]$t</dt>
	<dd>
~bookmarkの~levelを定義する
— 1 が~top-levelを表すとする
（ 0 以下の値は妥当でない）。
◎
defines the level of the bookmark, with the top level being 1 (negative and zero values are invalid).
</dd>

	<dt>`~noneB$v</dt>
	<dd>
~bookmarkは生成されない。
◎
no bookmark is generated.
</dd>
</dl>

<div class="example">
<pre class="lang-css">
section h1 { bookmark-level: 1; }
section section h1 { bookmark-level: 2; }
section section section h1 { bookmark-level: 3; }
</pre>
</div>

<p class="note">注記：
~bookmarkは、
~levelたちが成す厳密な階層を作成する必要はない。
【言い換えれば、~levelたちに指定する数は， 1 から開始する必要も~~連続的になる必要もない。】
◎
Note: Bookmarks do not need to create a strict hierarchy of levels.
</p>

<p class="issue">
`display^p が `none^v にされた要素~用にも~bookmarkは作成されるベキか？
◎
Should a bookmark be created for elements with display: none?
</p>

		</section>
		<section id="bookmark-label">
<h3 title="Labelling a Bookmark: the bookmark-label property">3.2. ~bookmarkの~label法： `bookmark-label^p ~prop</h3>

<div>
◎名 `bookmark-label@p
◎値 `content-list$t
◎初 <code class="value">content(`text$v)</code>
◎適 すべての要素
◎継 されない
◎百 受容しない
◎算 指定された値
◎順 文法に従う
◎ア 離散的
◎表終
◎
Name: 	bookmark-label
Value: 	&lt;content-list&gt;
Initial: 	content(text)
Applies to: 	all elements
Inherited: 	no
Percentages: 	N/A
Computed value: 	specified value
Canonical order: 	per grammar
Animation type: 	discrete
</div>

<dl class="valdef">
	<dt id="valdef-bookmark-label-content-list">`content-list$t</dt>
	<dd>
~bookmark~labelを成す~text内容を与える。
`content-list$t は、
上の `string-set$p ~propの節に定義される。
◎
&lt;content-list&gt; is defined above, in the section on the string-set property. The value of &lt;content-list&gt; becomes the text content of the bookmark label.
</dd>
</dl>

<div class="example">
<p>
~HTML：
◎
HTML:
</p>

<pre class="lang-html">
&lt;h1&gt;Loomings&lt;/h1&gt;
</pre>

<p>
~CSS:
◎
CSS:
</p>

<pre class="lang-css">
h1 {
  bookmark-label: content(text);
  bookmark-level: 1;
}
</pre>

<p>
~bookmark~labelは `Loomings^l になる。
◎
The bookmark label will be “Loomings”.
</p>
</div>

		</section>
		<section id="bookmark-state">
<h3 title="Initial Bookmark Toggle State: the bookmark-state property">3.3. 初期~bookmark~toggle状態：`bookmark-state^p ~prop</h3>

<p>
`bookmark-state$p （ “~bookmark状態” ）は、
`open^v, `closed^v いずれかの状態をとる。
~UAは、
利用者がこれらの状態を~toggle可能にするモノトスル。
◎
The bookmark-state may be open or closed. The user must be able to toggle the bookmark state.
</p>

<div>
◎名 `bookmark-state@p
◎値 `open^v | `closed^v
◎初 `open^v
◎適 塊~levelの要素
◎継 されない
◎百 受容しない
◎算 指定された~keyword
◎順 文法に従う
◎ア 離散的
◎表終
◎
Name: 	bookmark-state
Value: 	open | closed
Initial: 	open
Applies to: 	block-level elements
Inherited: 	no
Percentages: 	N/A
Computed value: 	specified keyword
Canonical order: 	per grammar
Animation type: 	discrete
</div>

<dl class="valdef">
	<dt>`open@v</dt>
	<dd>
後続な~bookmarkのうち［
その `bookmark-level$p が所与の~bookmarkの~levelを超える，かつ
同じ~level以下の別の~bookmarkに達するまでのもの
］のうち， `closed$v により表示されないもの以外は【！If one of subsequent bookmark…】、
表示される。
◎
Subsequent bookmarks with bookmark-level greater than the given bookmark are displayed, until reaching another bookmark of the same level or lower. If one of subsequent bookmark is closed, apply the same test to determine if its subsequent bookmarks should be displayed.
</dd>

	<dt>`closed@v</dt>
	<dd>
後続な~bookmarkのうち，［
その `bookmark-level$p が所与の~bookmarkの~levelを超える，かつ
同じ~level以下の別の~bookmarkに達するまでのもの
］は、
表示されない。
◎
Subsequent bookmarks of bookmark-level greater than the given bookmark are not displayed, until reaching another bookmark of the same level or lower.
</dd>
</dl>

<p class="issue">
初期~bookmark状態や~bookmark状態は、
~UAにより適切に更新されるか？
◎
Is the initial bookmark state, or the bookmark state updated by the UA as appropriate?
</p>

		</section>
	</section>
	<section id="changes">
<h2 title="Changes">変更点</h2>

<dl>
	<dt>
`2016 年 6月 2日 作業草案＠~TR/2019/WD-css-content-3-20190802/$
からの有意な変更点
◎
Significant changes since the 2 August 2019 Working Draft consist primarily of:
</dt>
	<dd>
`auto$v は、
要素~自身ではなく`親^emの`内容~言語$を参照するよう更新した。
（ `5478$issue ）
◎
Updated auto to reference the parent content language rather than the content language of the element itself. (Issue 5478)
</dd>
	<dd>
`quotes$p 用の値として `match-parent$v を追加した。
（ `5478$issue ）
◎
Added match-parent value to quotes. (Issue 5478)
</dd>
	<dd>
`CSS2$r と一貫するよう、
過剰な閉じ引用符sを無視することにより，負な`引用符-深さ$を防止した。
（ `2034$issue ）
◎
Prevent negative quote depth by ignoring excess closing quotes, consistent with [CSS2]. (Issue 2034)
</dd>
	<dd>
［
`placeholder$pe ／ `file-selector-button$pe
］用に `content$p の算出d値を定義した。
（ `6124$issue ）
◎
Defined computed value of content: normal for ::placeholder and ::file-selector-button. (Issue 6124)
</dd>
	<dd>
閉じ引用符sの`引用符-深さ$が 1 だけずれていた誤りを修正した
（ `2506$issue ）
◎
Fixed an off-by-one error for the quote depth of closing quotes. (Issue 2506)
</dd>
	<dd>
`attr^f の定義を~inline化した
— それは、
`CSS-VALUES-4$r から落とされたので。
◎
Inlined the definition of attr(), since it has been dropped from [CSS-VALUES-4].
</dd>
	<dd>
`Web Platform Tests coverage^en を追加した。
◎
Added Web Platform Tests coverage.
</dd>
	<dd>
編集上の諸々の仕様~整理。
◎
Miscellaneous editorial spec clean up.
</dd>
</dl>

<p>
`以前の変更点＠~TR/2019/WD-css-content-3-20190802/#changes$
も見よ。
◎
See also previous changes.
</p>

	</section>
	<section id="acknowledgements">
<h2 title="Acknowledgements">謝辞</h2>

<p lang="en">
Stuart Ballard,
David Baron,
Bert Bos,
<span lang="tr">Tantek Çelik</span>, and
James Craig
provided invaluable suggestions used in this specification.
</p>

	</section>
	<section id="privacy">
<h2 title="Privacy Considerations">~privacyの考慮点</h2>

<p>
この仕様に対し報告された，新たな~privacyの考慮点は、
無い。
◎
No new privacy considerations have been reported on this specification.
</p>

	</section>
	<section id="security">
<h2 title="Security Considerations">~securityの考慮点</h2>

<p>
この仕様に対し報告された，新たな~privacyの考慮点は、
無い。
◎
No new security considerations have been reported on this specification.
</p>

	</section>
</main></div>
