<!DOCTYPE html><html lang="ja"><head><meta charset="utf-8" />
<title>XML Base （第 2 版）日本語訳</title>

<link rel="stylesheet" href="common.css" />
<link rel="stylesheet" href="common-w3c.css" />

<script src="common0.js" ></script>
<script src="common1.js" async></script>

<script>


Util.ready = function(){
	var source_data = {
		toc_main: 'MAIN0',
		levels: 'ほぼ英語:英語寄り:漢字主体:カナ主体',
		level: 2,
		generate: expand
	};
	Util.switchWordsInit(source_data);
//	Util.del_j(); // checked
}

function expand(){

	var class_map = {
		l: 'literal',
		a: 'attr',
		e: 'element',
		h: 'header',
	};

	var tag_map = {
		c: 'code',
		l: 'code',
		a: 'code',
		e: 'code',
		h: 'code',
		V: 'var',
	};

	var link_map = this.link_map;

	return this.html.replace(
		/`(.+?)([$@\^])(\w*)/g,
		create_html
	);

	function create_html(match, key, indicator, klass){

var text = key;
var href = '';
var classname = class_map[klass];
var tag = tag_map[klass];

switch(klass){
case 'r': // ref
	text = '[' + key + ']';
	href = '#' + key;
	break;
case 'l': // literal
	text = '"<code class="literal">' + text + '</code>"'
	break;
case 'en': // english words
	return '<span lang="en-x-a0">' + key + '</span>'
	break;
}

if(tag) {
	text = '<' + tag + (
		classname ? ' class="' + classname + '"' : ''
	) + '>' + text + '</' + tag + '>';
}


if(indicator !== '^'){
	href = link_map[klass ? (klass + '.' + key) : key] || href;
	if(!href){
		console.log(match); // check error
		return match;
	}

	switch(indicator){
	case '$':
		text = '<a href="' + href + '">' + text + '</a>';
		break;
	case '@':
		text = '<dfn id="' + href.slice(1) + '">' + text + '</dfn>';
		break;
	default:
		console.log(match);
		return match;
	}
}

return text;


	}
}

</script>

<script type="text/plain" id="_source_data">


●●options

spec_date:2009-01-28
trans_update:2018-05-01
original_url:https://www.w3.org/TR/xmlbase/
spec_status:REC
site_nav:xml
copyright:2009,use
trans_1st_pub:2012-06-16


●●original_id_map


●●link_map


●●words_table1


●●words_table

	●構文
構文:suntax::~
構成子:construct::~
符号化法:encoding::~:エンコーディング
符号化方式:encoding::~:エンコーディング
形:form:~
接頭辞:prefix::~
文字:character::~
文字列:string::~
空:empty::~
percent-:::%-:パーセント
合法:legal:~

	●XML
XLink:
XML:
DTD:
XMLBase:XML Base
HTML:
prop:propery::プロパティ
infoset:
要素:element::~
子孫:descendant::~
親:parent::~
属性:attribute::~
規則:rule::~
言語:language::~
包含-:contain::~
処理-:process::~
処理:processing::~
処理命令:processing instruction::~
処理器:processor::~:プロセッサ
subset:::サブセット
media:::メディア
資源:resource::~:リソース
prop:property::プロパティ
言語:language::~
文書:document::~
型:type::~
実体:entity::~
外部:external::~
内部:internal::~
妥当:valid::~
妥当性:validity::~
非妥当性検証:non-validating::妥当性を検証しない
妥当性検証:validating::妥当性を検証する

	●XML Base
相対:relative::~
相対的:relative::~
link:::リンク
URI:
全部的:full:~
基底:base::~
解決-:resolve::~
	解決-法:resolving
link:::リンク
宣言-:declare::~
宣言:declaration::~
構文:syntax::~
参照:reference::~
参照-:reference::~
参照外し:dereferencing::~
値:value::~
名:name::~
命名-:name::~
名前空間:namespace::~
継承-:inherit::~
視野:scope::~:スコープ

	●仕様

app:application::アプリ
version:::バージョン
module:::モジュール
support:::サポート
情報:information:~
優先度:priority:~
test-suite:::テスト一式:テストスイート
native:::ネイティブ
仕様:spec:~
仕組み:mechanism:~
利用-:use:~
報告:report:~
変更:change:~
変更点:changes:~
定義-:define:~
	定義されない:undefined
定義:definition:~
実装:implementation:~
指定-:specify:~
明確化-:clarify:~
明示的:explicit:~
正誤表:errata:~
挙動:behavior:ふるまい
決定-:determine:~
注記:note:~
	注意:note
独立の:independent な:~
	自立的:freestanding
発行-:publish:~
発行:publication:~
要件:requirements:~
要素
見なさ:consider さ:~
考慮点:considerations:~
規範的:normative:~
配備-:deploy:~
	deployment
解釈-:interpret:~
解釈:interpretation:~
語彙:vocabulary:~
述べた:describe した:~
述べる:describe する:~
述べら:describe さ:~
記述-:describe:~
	記述し直:redescribed
各種用語:terminology:~
用語:term:~
適合-:conform:~
適合性:conformance:~
適用-:apply:~
依存:dependent:~
期待-:expect:~
作者:author:~
通常の:normal な:~
通例の:usual な:~
将来:future:~
	序論:introduction:~
	規範的でない:non-normative
情報:information:~
仕方:way:~
奨励-:encourage:~
	ないことが奨励され:discourage
粒度:granularity:~
許容-:allow:~
組入れ:incorporate し:組み入れ
制御:control:~
効果:effect:~
編集済み:Edited:~
勧告:Recommendation:~
単純:simple:~
原則:principle:~
位置付け:status:~
地位:status:~
孕む:involve する:~
強く:strong に:~
技術:technologies:~
標準:standard:~
汎用的:generic:~
版:edition:~
特別:special:~
理由:reason:~
目的:purpose:~
要約-:summarize:~
課題:issue:~
関係:relation:~
付録:appendix:~
供-:provide:~
改訂:revision:~
編集上の:editorial な:~
計画:plan:~
直に:direct に:~
築かれ:build され:~
言明-:state:~
事例:case:~
取組む:address する:取り組む
取扱われ:handle され:取り扱われ
切替えら:switch さ:切り替えら
編集者草案:editor's draft:~
test:::テスト
詳細:details:~
意味:meaning:~
直接間接:direct or indirect:~
便益:benefit:~
	もたらし:lead
	来たる:forthcoming
	後継:son of
	細かい:finer
	則ってin accordance with
	直接間接を問わず
	~~実際に:do
	用立てる:make use of
	用意されていない:no provision
	限定して:specific 〜 of
	取って代わ:supersede
	例:example
	用例:example
	今や:now
	古くなった:out-of-date
	小さな:minor
	扱う:treat
	明らかに:apparent:~
	担当する:responsibility
	関して
	関する
	問わず
	限り
	可能
	基づ
	特に
	具体例として:For instance
	句
	~~影響:Impacts
	従う
	考え出した-:considered
	~~機能:facility
	-:services
	認識-:-aware

	●未分類（動詞
escape:::エスケープ
作成-:create:~
	creation
設定-:set:~
	設定し直-:reset:~
除去-:remove:~
削除-:delete:~
現れる:appear する:~
追加:addition:~
追加の:additional:~
埋込まれ:embed され::埋め込まれ
埋込む:embed する::埋め込む
検索取得-:retrieve:~
束縛-:bind:~
遭遇-:encounter:~
確立-:establish:~
accsess:::アクセス
挿入-:insert:~
既存の:existing:~
計算-:calculate:~
読取られ:read され:読み取られ
連鎖:chain::~
存在-:exist:~
照合-:match:~
	^en:encapsulating
	照合-法:Matching
	括られ:enclosed
	返-:return
	与え:give
	含め:including
	得る
	有する
	指す
	挙げ
	対応する
	生じる
	記された
	省略-:-
	示-:
	在ること:presence of

	●未分類
instance:::インスタンス
schema:::スキーマ
stylesheet:style sheet::スタイルシート
applet:::アプレット
software:::ソフトウェア
text:::テキスト
form:::フォーム
program:::プログラム
	escape法:escaping
message:::メッセージ
media:::メディア
	module化:modular
既定:default::~:デフォルト
内容:content:~
文脈:context:~
画像:image:~
新たな:new:~
	類似する:similar な:~
単独の:single:~
条件:condition:~
	同期がとれなく:get out of sync
	無い

	●例
	今日
	新着情報
	仮想ライブラリ
	チェック
	注目作

	●指示語
	一定の:certain
	一部:some／
	この
	これらの
	しかしながら、
	すなわち，
	その
	それら
	それぞれ
	上記の
	他の
	他のものは
	内に
	同じ:same
	以外の:other than
	別々の:separate
	常に:always
	所に
	最初
	次
	同様の:similar
	可能な限り〜後方:as late as possible
	後に
	その種の
	第
	等
	節
	結果
	通-:through
	高い順に:highest 〜 to lowest
	間の
	以下
	部分:parts
	依然として
	場合


●●ref_normative

[RFC-2119]
    RFC 2119: Key words for use in RFCs to Indicate Requirement Levels.
    Internet Engineering Task Force, 1997.
    URL: http://www.ietf.org/rfc/rfc2119.txt

[RFC-3986]
    RFC 3986: Uniform Resource Identifier (URI): Generic Syntax.
    Internet Engineering Task Force, 2005.
    URL: http://www.ietf.org/rfc/rfc3986.txt

[LEIRI]
    Legacy extended IRIs for XML resource identification.
    Henry S. Thompson, Richard Tobin, and Norman Walsh, editors.
    World Wide Web Consortium.
    URL: https://www.w3.org/TR/leiri/

[XML]
    Extensible Markup Language (XML) 1.0.
    Tim Bray et al.
    World Wide Web Consortium.
    URL: https://www.w3.org/TR/xml/

[XMLNS]
    Namespaces in XML 1.0.. Tim Bray et al.
    World Wide Web Consortium.
    URL: https://www.w3.org/TR/xml-names/

●●ref_informative

[HTML40]
    HTML 4.01 Specification.
    Dave Raggett, Arnaud Le Hors, Ian Jacobs, editors.
    World Wide Web Consortium, 1999.
    URL: https://www.w3.org/TR/1999/REC-html401-19991224/

[XLink]
    XML Linking Language (XLink).
    Steve DeRose, Eve Maler, David Orchard, and Ben Trafford, editors. 
    World Wide Web Consortium, 2000.
    URL: https://www.w3.org/TR/2001/REC-xlink-20010627/

[XMLDT]
    XML Schema Part 2: Datatypes.
    Paul V. Biron, Ashok Malhotra, editors.
    World Wide Web Consortium Working Draft.
    URL: https://www.w3.org/TR/2001/REC-xmlschema-2-20010502/

[XHTML]
    XHTML(TM) 1.0: The Extensible HyperText Markup Language.
    Steven Pemberton, et al.
    World Wide Web Consortium, 2000.
    URL: https://www.w3.org/TR/2000/REC-xhtml1-20000126/

[XMLIS]
    XML Information Set.
    John Cowan and Richard Tobin, editors.
    World Wide Web Consortium, 1999.
    URL: https://www.w3.org/TR/2001/CR-xml-infoset-20010514/

[XPath]
    XML Path Language
    James Clark and Steven DeRose, editors.
    World Wide Web Consortium, 1999.
    URL: https://www.w3.org/TR/1999/REC-xpath-19991116

[XSLT]
    XSL Transformations.
    James Clark, editor.
    World Wide Web Consortium, 1999.
    URL: https://www.w3.org/TR/1999/REC-xslt-19991116



●●trans_metadata

<p>
~THIS_PAGEは、~W3Cにより，副題に日付にて勧告として発行された
<a href="~SPEC_URL">XML Base (Second Edition)</a>
を日本語に翻訳したものです。
~PUB
</p>


●●spec_metadata

このバージョン
	https://www.w3.org/TR/2009/REC-xmlbase-20090128/

最新バージョン
	https://www.w3.org/TR/xmlbase/

以前のバージョン
	https://www.w3.org/TR/2001/REC-xmlbase-20010627/
	https://www.w3.org/TR/2008/PER-xmlbase-20080320/

編集
	Jonathan Marsh, Microsoft <a href="mailto:jmarsh@microsoft.com">&lt;jmarsh@microsoft.com&gt;</a>
	Richard Tobin, University of Edinburgh <a href="mailto:richard@inf.ed.ac.uk">&lt;richard@inf.ed.ac.uk&gt;</a>

正誤表
	http://www.w3.org/2009/01/xmlbase-errata

各国語翻訳
	http://www.w3.org/2003/03/Translations/byTechnology?technology=xmlbase

非公式の形式
	<a href="https://www.w3.org/TR/2009/REC-xmlbase-20090128/Overview-review.html">diff によりマークアップされた HTML</a>
	<a href="https://www.w3.org/TR/2009/REC-xmlbase-20090128/Overview.xml">XML</a>

コメント
	<a href="mailto:www-xml-linking-comments@w3.org">www-xml-linking-comments@w3.org</a>
	<a href="http://lists.w3.org/Archives/Public/www-xml-linking-comments/">アーカイブ</a>

</script>

</head>

<header>
	<hgroup>
<h1 id="title" title="XML Base (Second Edition)">XML Base （第 2 版）</h1>
	</hgroup>
</header>


<div id="MAIN" style="display:none;">

	<section id="abstract">
<h2 title="Abstract">要約</h2>

<p>
この文書は、~XML文書を成す各部に（ ~HTML `base^e 要素に類似する）基底~URIを定義する~~機能について，述べる。
◎
This document describes a facility, similar to that of HTML BASE, for defining base URIs for parts of XML documents.
</p>

	</section>
	<section id="status">
<h2 title="Status of this Document">この文書の位置付け</h2>

<p>
この節では、発行~時点における…
【以下，この節の他の内容は省略する。この節に挙げられていたリンクのうち一部は、冒頭のリストに加えている。】
</p>

<p>
この文書は W3C による，編集済み勧告です。
これは
<a href="https://www.w3.org/TR/2001/REC-xmlbase-20010627/">2001 年 6 月 27 日 W3C 勧告</a>
に取って代わるものになります。
この第 2 版は~XMLBaseの新たな~versionではありません。
その目的は、第 1 版が発行されてから明らかになった，いくつかの課題を明確化する所にあります。
うち一部は、第 1 版の
<a href="https://www.w3.org/2001/06/xmlbase-errata">正誤表</a>
として最初に発行され，他のものは
<a href="https://www.w3.org/XML/2006/11/xmlbase-2e/Overview.html">2006 年 11 月の編集者草案</a>
, および
<a href="https://www.w3.org/TR/2006/PER-xmlbase-20061220/">2006 年 12 月 PER</a>
として発行されました。
変更点は、<a href="#changes">付録</a>にて要約されています。
◎
This document is an Edited Recommendation of the W3C. It supersedes the previous W3C Recommendation of 27 June 2001. This second edition is not a new version of XML Base; its purpose is to clarify a number of issues that have become apparent since the first edition was published. Some of these were first published as separate errata ( http://www.w3.org/2001/06/xmlbase-errata), others were published in a public editor's draft in November 2006 (http://www.w3.org/XML/2006/11/xmlbase-2e/Overview.html), and a PER in December 2006 (http://www.w3.org/TR/2006/PER-xmlbase-20061220/). The changes are summarized in an appendix.
</p>

<p>
この仕様~用の実装~報告および~test-suiteはありませんが、
<a href="http://www.w3.org/XML/2006/12/xmlbase-testing.html">~XMLBaseへの適合性を~testする方法</a>
について述べた文書はあります。
◎
There is no implementation report or test suite for this specification, but there is a document describing methods of testing XML Base conformance.
</p>

	</section>

<main id="MAIN0">

	<section id="introduction">
<h2 title="Introduction">1. 序論</h2>

<p>
~XML~link言語 `XLink$r は、資源~間の~linkを記述するための， XML 1.0 `XML$r 構成子を定義している。
~XLinkに言明された要件には、汎用的な仕方による
~HTML `HTML40$r ~link法を与える構成子の~supportがある。
~HTMLの `base^e 要素は、そのような構成子として， XLink Working Group が考え出したものである。
`base^e により，作者は、文書~外部の［
画像, ~applet, ~form処理~program, ~stylesheet, 等々
］を指す~linkにおける，相対~URIを解決するための基底~URIを，明示的に指定できるようになる。
◎
The XML Linking Language [XLink] defines Extensible Markup Language (XML) 1.0 [XML] constructs to describe links between resources. One of the stated requirements on XLink is to support HTML [HTML 4.01] linking constructs in a generic way. The HTML BASE element is one such construct which the XLink Working Group has considered. BASE allows authors to explicitly specify a document's base URI for the purpose of resolving relative URIs in links to external images, applets, form-processing programs, style sheets, and so on.
</p>

<p>
この文書は，~XLinkに基底~URIを供する仕組みを述べるが、［
~XLink上に築かれていない，他の~XML~appが、相対~URIに対する追加の制御から便益を得るために用立てる
］ことも可能にするため，この仕組みの仕様は~module化されている。
その構文は、 `xml:base^a と命名された単独の~XML属性からなる。
◎
This document describes a mechanism for providing base URI services to XLink, but as a modular specification so that other XML applications benefiting from additional control over relative URIs but not built upon XLink can also make use of it. The syntax consists of a single XML attribute named xml:base.
</p>

<p>
~XMLBaseは、新たな仕様
— 例えば~XLinkや XML Infoset など —
からの規範的な参照を通して配備されることになる。
これらの新たな技術の上に築かれる~appや仕様は、~XMLBaseを~nativeに~supportすることになる。
直接間接を問わず，
~XMLBaseを規範的に参照しない仕様に基づく~appにおける， `xml:base^a 属性の挙動は定義されない。
◎
The deployment of XML Base is through normative reference by new specifications, for example XLink and the XML Infoset. Applications and specifications built upon these new technologies will natively support XML Base. The behavior of xml:base attributes in applications based on specifications that do not have direct or indirect normative reference to XML Base is undefined.
</p>

<p class="2nd">
この仕様は、文書~内のどの~text文字列が~URIとして解釈されるか，についてを指定するものではない。
それについては、それぞれの~XML語彙が担当する。
この仕様が取組むのは、~XML文書~内に与えられた相対~URIを，どの基底~URIに対して解決するべきか？ である。
◎
This specification does not attempt to specify which text strings in a document are to be interpreted as URIs. That is the responsibility of each XML vocabulary. The question addressed by this specification is: given a relative URI in an XML document, what base URI is it resolved against?
</p>

<p class="2nd">
XML Media Types 用の将来の RFC では、そこで定義される~media型において，
基底~URIを確立する仕組みとして~XMLBaseを指定することになるものと期待されている。
◎
It is expected that a future RFC for XML Media Types will specify XML Base as the mechanism for establishing base URIs in the media types it defines.
</p>

	</section>
	<section id="terminology">
<h2 title="Terminology">2. 各種用語</h2>

<p>
この文書の規範的な部分を成す次に挙げる句は、
`RFC2119$r に述べるように解釈するとする
⇒＃
〜し~MUST（ `must^en ）,
〜しては~MUST_NOT（ `must not^en ）,
〜する~SHOULDである（ `should^en ）,
〜する~SHOULDでない（ `should not^en ）,
〜しても~MAY（ `may^en ）
◎
[Definition: The key words must, must not, required, shall, shall not, should, should not, recommended, may, and optional in this specification are to be interpreted as described in [RFC 2119].]
</p>

<p>
この仕様における用語［
基底~URI （ `base URI^en ）／相対~URI （ `relative URI^en ）
］は、 `RFC-3986$r にて定義される。
◎
The terms base URI and relative URI are used in this specification as they are defined in [RFC 3986].
</p>

	</section>
	<section id="syntax">
<h2 title="xml:base Attribute">3. `xml:base^a 属性</h2>

<p>
~XML文書には、［
文書~実体／外部~実体
］の基底~URI以外の基底~URIを指定するためとして，属性 `xml:base^a が挿入されても~MAY。
この属性の値は、
`Legacy Extended IRI (LEIRI)^en `LEIRI$r
として解釈される。
◎
The attribute xml:base may be inserted in XML documents to specify a base URI other than the base URI of the document or external entity. The value of this attribute is interpreted as a Legacy Extended IRI (LEIRI) as defined in the W3C Note "Legacy extended IRIs for XML resource identification" [LEIRI] .
</p>

<p>
`XMLNS$r に述べられるように、名前空間を認識する~XML処理器においては、接頭辞 `xml^l は，名前空間~名 `http://www.w3.org/XML/1998/namespace^l に束縛される。
名前空間を認識しない処理器においても、依然として， `xml:base^a を利用できることに注意。
◎
In namespace-aware XML processors, the "xml" prefix is bound to the namespace name http://www.w3.org/XML/1998/namespace as described in Namespaces in XML [XML Names]. Note that xml:base can be still used by non-namespace-aware processors.
</p>

<div class="example">
<p>
~XLinkを包含している単純な文書における， `xml:base^a の用例を次に示す。
~XLinkは、
`xlink:href^a 属性の中の相対~URI参照の解釈に際し，~XMLBaseを規範的に参照している。
◎
An example of xml:base in a simple document containing XLinks follows. XLink normatively references XML Base for interpretation of relative URI references in xlink:href attributes.
</p>

<pre>
&lt;?xml version="1.0"?&gt;
&lt;doc
    xml:base="http://example.org/today/"
    xmlns:xlink="http://www.w3.org/1999/xlink"
&gt;
  &lt;head&gt;
    &lt;title&gt;仮想ライブラリ&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;paragraph&gt;
&lt;link xlink:type="simple" xlink:href="new.xml"&gt;新着情報&lt;/link&gt;
    &lt;/paragraph&gt;
    &lt;paragraph&gt;今日の注目作をチェック！&lt;/paragraph&gt;
    &lt;olist xml:base="/hotpicks/"&gt;
      &lt;item&gt;
&lt;link xlink:type="simple" xlink:href="pick1.xml"&gt;注目作 #1&lt;/link&gt;
      &lt;/item&gt;
      &lt;item&gt;
&lt;link xlink:type="simple" xlink:href="pick2.xml"&gt;注目作 #2&lt;/link&gt;
      &lt;/item&gt;
      &lt;item&gt;
&lt;link xlink:type="simple" xlink:href="pick3.xml"&gt;注目作 #3&lt;/link&gt;
      &lt;/item&gt;
    &lt;/olist&gt;
  &lt;/body&gt;
&lt;/doc&gt;
</pre>
<!-- 
Virtual Library
See what's new!
Check out the hot picks of the day!
Hot Pick #1
Hot Pick #2
Hot Pick #3

-->
<p>
この例の~URIは、それぞれ，次のような全部的~URIに解決される：
◎
The URIs in this example resolve to full URIs as follows:
</p>

<ul>
	<li>
`新着情報^l
【を包含する link 要素の相対~URI】
は~URI `http://example.org/today/new.xml^l に解決される。
◎
"what's new" resolves to the URI "http://example.org/today/new.xml"
</li>
	<li>
`注目作 #1^l は~URI `http://example.org/hotpicks/pick1.xml^l に解決される。
◎
"Hot Pick #1" resolves to the URI "http://example.org/hotpicks/pick1.xml"
</li>
	<li>
`注目作 #2^l は~URI `http://example.org/hotpicks/pick2.xml^l に解決される。
◎
"Hot Pick #2" resolves to the URI "http://example.org/hotpicks/pick2.xml"
</li>
	<li>
`注目作 #3^l は~URI `http://example.org/hotpicks/pick3.xml^l に解決される。
◎
"Hot Pick #3" resolves to the URI "http://example.org/hotpicks/pick3.xml"
</li>
</ul>

</div>


<p class="note 2nd">注記：
この仕様は、~XML妥当性に関しては， `xml:base^a 属性に特別な地位を与えるものではない。
妥当な文書においては、この属性は，~DTDの中で宣言されてい~MUST
— 同様の考慮点は、他の~schema言語にも適用される。
◎
Note:
This specification does not give the xml:base attribute any special status as far as XML validity is concerned. In a valid document the attribute must be declared in the DTD, and similar considerations apply to other schema languages.
</p>

		<section id="escaping">
<h3 title="URI Reference Encoding and Escaping">3.1 ~URI参照の符号化方式と~escape法</h3>

<p>
`xml:base^a 属性の値は Legacy Extended IRI （ LEIRI ）であり，~URIに許容されない文字も包含し得る。
（しかしながら、 LEIRI に許容される一部の文字には，~XML文字として合法でないものがあり、それらの文字は `xml:base^a の値に現れることはない。）
◎
The value of an xml:base attribute is a Legacy Extended IRI (LEIRI) and may contain characters not allowed in URIs. (However, some characters allowed in LEIRIs are not legal XML characters, and cannot therefore appear in xml:base values.)
</p>

<p class="2nd">
~percent-符号化法は，可能な限り処理~連鎖の後方で生じるとする原則に則って、要素の基底~URIへの~accsessを供する~appは，~escapeせずに値を計算して返す~SHOULDである。
◎
In accordance with the principle that percent-encoding must occur as late as possible in the processing chain, applications which provide access to the base URI of an element should calculate and return the value without escaping.
</p>

<div class="example">
<p class="2nd">
次の例では、要素 `e2^e の 基底~URIは， `http://example.org/wine/rosé^l として返されるべきである。
◎
In the example below, the base URI of element e2 should be returned as "http://example.org/wine/rosé".
</p>

<pre>
&lt;?xml version="1.0"?&gt;
&lt;e1 xml:base="http://example.org/wine/"&gt;
  &lt;e2 xml:base="rosé"/&gt;
&lt;/e1&gt;
</pre>
</div>

		</section>
	</section>
	<section id="resolution">
<h2 title="Resolving Relative URIs">4 相対~URIの解決-法</h2>

		<section id="rfc3986">
<h3 title="Relation to RFC 3986">4.1 RFC 3986 との関係</h3>

<p>
`RFC-3986$r は、文書の中に埋込まれる基底~URIについての情報を供している。
基底~URIを決定する規則は、優先度の高い順に，次のように要約できる
【<a href="~IETF/rfc3986#section-5.1">~~参照</a>】
：
◎
RFC 3986 [RFC 3986] provides for base URI information to be embedded within a document. The rules for determining the base URI can be summarized as follows (highest priority to lowest):
</p>

<ol>
	<li>
文書の内容に埋込まれた基底~URI。
◎
The base URI is embedded in the document's content.
</li>
	<li>
`the encapsulating entity^en （~message, 文書, `none^en【？】のいずれか）の基底~URI。
◎
The base URI is that of the encapsulating entity (message, document, or none).
</li>
	<li>
`the entity^en の検索取得-時に利用した~URI。
◎
The base URI is the URI used to retrieve the entity.
</li>
	<li>
~appの文脈によって定義される基底~URI。
◎
The base URI is defined by the context of the application.
</li>
</ol>


<p class="note">注記：
上記の第 2 項, 第 3 項に現れる語 “`entity^en” は、 `RFC-3986$r のそれを指す。
この文書の他所における “実体【 `entity^en 】” は~XMLのそれを指す。
◎
Note:
The term "entity" in points #2 and #3 above uses the RFC 3986 meaning of the term. Elsewhere in this document the term "entity" is used in the XML sense.
</p>

<p>
この文書は、~XML文書の事例に限定して，基底~URI情報を埋込むための第 1 項の規則の詳細を指定する。
◎
This document specifies the details of rule #1 for embedding base URI information in the specific case of XML documents.
</p>

		</section>
		<section id="granularity">
<h3 title="Granularity of base URI information">4.2 基底~URI情報の粒度</h3>

<p>
~XML文書~内に現れる相対~URIは常に、［
要素, 文書~実体, 外部~実体
］のいずれかに相対的に解決される。
属性ごと, 文字ごと, 実体ごと
などの，より細かい粒度については、何も用意されていない。
［
内部~実体（内部~subset, 外部~DTDのどちらで宣言されたかを問わず）／
外部~実体の中の自立的~text（要素で括られていない~text）
］は、その実体~参照~用の視野~内とは別々の基底~URIを設定するものと見なされる。
◎
Relative URIs appearing in an XML document are always resolved relative to either an element, a document entity, or an external entity. There is no provision for finer granularity, such as per-attribute, per-character, or per-entity base information. Neither internal entities, whether declared in the internal subset or in an external DTD, nor freestanding text (text not enclosed in an element) in an external entity, are considered to set a base URI separate from the base URI in scope for the entity reference.
</p>

<p>
［
文書~実体／外部~実体
］の基底~URIは、 `RFC-3986$r の規則により決定される。
すなわち，基底~URIは、その［
文書~実体／外部~実体
］の検索取得-時に利用した~URIになる。
◎
The base URI of a document entity or an external entity is determined by RFC 3986 rules, namely, that the base URI is the URI used to retrieve the document entity or external entity.
</p>

<p>
要素の基底~URIは次のいずれかになる：
◎
The base URI of an element is:
</p>

<ol>
	<li>
要素は `xml:base^a 属性を有するならば、それに指定されている~URI。
◎
the base URI specified by an xml:base attribute on the element, if one exists, otherwise
</li>
	<li>
他の場合，要素を包含する［
文書~実体／外部~実体
］の中に要素の親~要素はあるならば、その親~要素の基底~URI。
◎
the base URI of the element's parent element within the document entity or external entity, if one exists, otherwise
</li>
	<li>
他の場合，要素を包含する［
文書~実体／外部~実体
］の基底~URI。
◎
the base URI of the document entity or external entity containing the element.
</li>
	</ol>

<p class="note 2nd">注記：
したがって，
`xml:base^a 属性により指定された基底~URIは、
`xml:base^a 属性を有する他の要素に遭遇するまで，同じ実体の中の子孫~要素に継承されることになる。
◎
Note: It follows that the base URI specified by an xml:base attribute is inherited by descendant elements within the same entity until another element with an xml:base attribute is encountered.
</p>

<p class="2nd">
要素が `xml:base^a 属性を有していて，その値は妥当でない Legacy Extended IRI である場合、要素の基底~URIは，~app依存とする。
◎
The base URI of an element bearing an xml:base attribute with a value that is not a valid Legacy Extended IRI is application dependent.
</p>

		</section>
		<section id="matching">
<h3 title="Matching URIs with base URIs">4.3. ~URIと基底~URIとの照合-法</h3>

<p>
~XML文書~内に与えられた相対~URIに対応する基底~URIは、次に従って決定される：
◎
The base URI corresponding to a given relative URI appearing in an XML document is determined as follows:
</p>

<ul>
	<li>
~text内容に現れる~URI参照~用の基底~URIは、その~textを包含する要素の基底~URIになるとする。
◎
The base URI for a URI reference appearing in text content is the base URI of the element containing the text.
</li>
	<li>
`xml:base^a 属性に現れる~URI参照~用の基底~URIは、その属性を有する要素を `E^V,
`E^V を包含する［
文書~実体／外部~実体
］を `D^V とするとき，［
`D^V 内に `E^V の親~要素 `P^V が存在するならば `P^V の基底~URI ／
他の場合は `D^V の基底~URI
］とする。
◎
The base URI for a URI reference appearing in an xml:base attribute is the base URI of the parent element of the element bearing the xml:base attribute, if one exists within the document entity or external entity, otherwise the base URI of the document entity or external entity containing the element.
</li>
	<li>
他の属性の値に現れる~URI参照~用の基底~URIは、属性の既定~値†に現れる場合も含め，その属性を有する要素の基底~URIとする。
◎
The base URI for a URI reference appearing in any other attribute value, including default attribute values, is the base URI of the element bearing the attribute.
</li>
	<li>
処理命令 `PI^V の内容に現れる~URI参照~用の基底~URIは、
`PI^V を包含する［
文書~実体／外部~実体
］を `D^V とするとき，［
`D^V 内に `PI^V の親~要素 `P^V が存在するならば `P^V の基底~URI ／
他の場合は `D^V の基底~URI
］とする。
◎
The base URI for a URI reference appearing in the content of a processing instruction is the base URI of the parent element of the processing instruction, if one exists within the document entity or external entity, otherwise the base URI of the document entity or external entity containing the processing instruction.
</li>
</ul>

<p class="trans-note">【†
属性の既定~値
— おそらく，
<a href="~TR/xml/#sec-attr-defaults">Attribute Defaults</a>
により指定されるもの
<!-- http://w4ard.eplusx.net/translation/W3C/REC-xml-20081126/#sec-attr-defaults -->
— ~DTD等における宣言を通して、属性の省略-時にその属性がとるものとされる値 —
を指す。
】</p>

<p class="note 2nd">注記：
`xml:base^a の属性~値が
— ~XML文書~実体~内に直に供される代わりに —
属性の既定~値を通して供されている場合、この属性が在ることにより期待されない結果をもたらし得る。
具体例として，外部~実体におけるその種の宣言は、非妥当性検証~XML処理器に基づく~softwareからは読取られないかもしれない。
XML Schema のような外部の仕組みを通して，属性の既定~値を与えた場合、期待されない結果をもたらし得る。
~appにおいて妥当性検証~処理器が利用されていたとしても、~infosetの作成-後の属性の既定~値の追加により、 `xml:base^a 属性と [base URI] ~infoset~propとの同期がとれなくなり得る。
これらの理由から、 `xml:base^a の値は、~XML文書~instanceにおいて直に供されるか, あるいは~DTDの内部~subsetにて宣言される属性の既定~値を通して供される~SHOULDである。
◎
Note:
The presence of xml:base attributes might lead to unexpected results in the case where the attribute value is provided, not directly in the XML document entity, but via a default attribute. For instance, such a declaration in an external entity might not be read by software which is based on a non-validating XML processor. Defaulting attributes through an external mechanism such as XML Schema may also lead to unexpected results; even if a validating processor is used by the application, the addition of defaulted attributes subsequent to creation of the infoset can cause xml:base attributes to get out of sync with the [base URI] infoset property. For these reasons, xml:base values should be provided either directly in the XML document instance or via default attributes declared in the internal subset of the DTD.
</p>

		</section>
		<section id="same-document">
<h3 title="Interpretation of same-document references">4.4. 同じ文書への参照の解釈</h3>


<p class="2nd">
`RFC-3986$r は、一定の相対~URI参照，特に［
空~文字列, および `#fragment^c 形のもの
］を，<em>同じ文書への参照</em> として定義している。
同じ文書への参照に対する参照外し（ `dereferencing^en ）は特別に取扱われる。
しかしながら、それらを `xml:base^a 属性の値に利用しても，参照外しを孕むことはない
— ~XMLBase処理器は、通例の仕方で解決するべきである。
特に、 `xml:base=""^c としても，基底~URIは 包含している文書の~URIに設定し直されることはない。
◎
RFC 3986 defines certain relative URI references, in particular the empty string and those of the form #fragment, as same-document references. Dereferencing of same-document references is handled specially. However, their use as the value of an xml:base attribute does not involve dereferencing, and XML Base processors should resolve them in the usual way. In particular, xml:base="" does not reset the base URI to that of the containing document.
</p>

<p class="note 2nd">注記：
一部の既存の処理器は、<em>~~実際に</em>これらの `xml:base^a 値を，基底~URIをそれを包含する文書に設定し直すものとして扱うので、そのような値は利用しないことが強く奨励される。
◎
Note:
Some existing processors do treat these xml:base values as resetting the base URI to that of the containing document, so the use of such values is strongly discouraged.
</p>

		</section>
	</section>
	<section id="conformance">
<h2 title="Conformance">5. 適合性</h2>

<p>
~appは、この仕様に与えた条件に則って 基底~URIを計算するならば，~XMLBaseに適合するとされる。
◎
An application conforms to XML Base if it calculates base URIs in accordance with the conditions set forth in this specification.
</p>

	</section>
	<section id="impacts">
<h2 title="Impacts on Other Standards (Non-Normative)">他の標準への~~影響（規範的でない）</h2>

<p class="2nd">
この節は削除された。
◎
This section has been deleted.
</p>

	</section>
	<section id="changes">
<h2 title="Changes since the first edition (Non-Normative)">第 1 版からの変更点（規範的でない）</h2>

<ol>
	<li class="2nd">
発行された
<a href="https://www.w3.org/2001/06/xmlbase-errata">正誤表</a>
を組入れた。
◎
The published errata (see http://www.w3.org/2001/06/xmlbase-errata) have been incorporated;
</li>
	<li class="2nd">
~URI参照の定義は RFC2396 から `RFC-3986$r に切替えられた。
◎
The definition of URI reference has been switched from RFC2396 to 3986;
</li>
	<li class="2nd">
`xml:base^a 属性は、構文には変更はないが， Legacy Extended IRI として記述し直された（ 2006 年 12 月の PER は~XLink改訂にて定義されることになる用語 "XML Resource Identifier" を利用していたが、その計画は W3C Note による LEIRI の定義に取って代わられた）。
◎
The xml:base attribute has been redescribed as a Legacy Extended IRI, but this does not change its syntax (the December 2006 PER used the term "XML Resource Identifier" which was to be defined in an XLink revision, but that plan has been superseded by the definition of LEIRI in the W3C Note);
</li>
	<li class="2nd">
実装には、今や，非~URI文字を~escapeせずに，基底 “URI” を返すことが奨励される。
◎
Implementations are now encouraged to return base “URIs” without escaping non-URI characters;
</li>
	<li class="2nd">
`xml:base=""^c ／
`xml:base="#frag"^c
の意味を明確化した。
◎
The meanings of xml:base="" and xml:base="#frag" have been clarified;
</li>
	<li class="2nd">
来たる XML Media Types RFC （ “3023 の~~後継” ）において，~XMLBaseへの参照が期待されることについて注記した。
◎
The expected reference to XML Base in the forthcoming XML Media Types RFC (“son of 3023”) has been noted;
</li>
	<li class="2nd">
`xml:base^a 属性には通常の妥当性の規則が適用されることを明確化した。
◎
It has been clarified that normal validity rules apply to the xml:base attribute;
</li>
	<li class="2nd">
他の仕様への効果について述べた付録は、古くなったので除去した。
◎
The out-of-date appendix describing effects on other standards has been removed;
</li>
	<li class="2nd">
様々な編集上の小さな変更。
◎
Various minor editorial changes have been made.
</li>
</ol>

	</section>
</main></div>