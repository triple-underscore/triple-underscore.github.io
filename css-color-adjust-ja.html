<!DOCTYPE html><html lang="ja"><head><meta charset="utf-8">
<title>CSS Color Adjustment Module Level 1 （日本語訳）</title>

<link rel="stylesheet" href="common.css" type="text/css" />
<link rel="stylesheet" href="common-css.css" type="text/css" />

<style>

</style>

<script src="common0.js" ></script>
<script src="common1.js" async></script>

<script>

Util.ready = function(){
	const source_data = {
		generate: expand,
	};

	Util.switchWordsInit(source_data);
}

function expand(){
	const class_map = this.class_map;
	const tag_map = this.tag_map;
	const link_map = this.link_map;

	return this.html.replace(
		/%[\w\-~一-鿆あ-ん]+|`(.*?)([$@^])(\w*)/g,
		create_html
	);

	function create_html(match, key, indicator, klass){
if(!indicator) {//%
	return `<var>${match.slice(1)}</var>`;
}

let text = key;
let href = '';

switch(klass){
case 'r':
	text = `[${key}]`;
	href = `#biblio-${key.toLowerCase()}`;
	break;
case 'pe': 
	text = `::${key}`;
	break;
case 't':
	text = `&lt;${key}&gt;`;
	break;
case 'tp': // property value type
	text = `&lt;'<code class="property">${key}</code>'&gt;`;
	href = link_map[`p.${key}`];
	break;
case 'en':
	return `<span lang="en-x-a0">${key}</span>`;
	break;
case 'l': // string literal
	text = `"<code class="literal">${key}</code>"`;
	break;
}

let tag = tag_map[klass];
if(tag) {
	let classname = class_map[klass];
	classname = classname ? ` class="${classname}"` : '';
	text = `<${tag}${classname}>${text}</${tag}>`;
}

if(indicator !== '^'){
	href = link_map[ klass ? `${klass}.${key}` : key ] || href;
	if(!href){
		console.log(match); // check error
		return match;
	}

	switch(indicator){
	case '$':
		text = `<a href="${href}">${text}</a>`;
		break;
	case '@':
		text = `<dfn id="${href.slice(1)}">${text}</dfn>`;
		break;
	default:
		console.log(match);
		return match;
	}
}

return text;

	}
}

</script>




<script type="text/plain" id="_source_data">


●●options

spec_title:CSS Color Adjustment Module Level 1
spec_date:2019-08-14
trans_update:2019-09-14
source_checked:190418
page_state_key:CSS
original_url:https://drafts.csswg.org/css-color-adjust-1/
	abbr_url:
spec_status:ED
ref_id_prefix:biblio-
ref_id_lowercase:true
site_nav:css-ux,paint,css
conformance:css
copyright:2019,permissive
trans_1st_pub:2019-04-20


●●class_map
p:property
d:descriptor
css:css
pe:pseudo
e:element
a:attr
t:type
tp:type
v:value
vF:value

●●tag_map
p:code
d:code
t:var
tp:var
pe:code
css:code
c:code
e:code
a:code
v:code
vF:code
em:em


●●original_id_map

valdef-color-scheme-dark:

●●link_map

pe.selection:~CSSPSEUDO#selectordef-selection

p.color-adjust:#propdef-color-adjust
p.color-scheme:#propdef-color-scheme
p.forced-color-adjust:#propdef-forced-color-adjust
p.color:~CSSCOLOR#propdef-color

d.prefers-color-scheme:~MQ5#descdef-media-prefers-color-scheme
d.forced-colors:~MQ5#descdef-media-forced-colors

t.custom-ident:~CSSVAL#identifier-value

v.economy:#valdef-color-adjust-economy
v.exact:#valdef-color-adjust-exact

v.normal:#valdef-color-scheme-normal
v.light:#valdef-color-scheme-light
v.dark:#valdef-color-scheme-dark
v.only:#valdef-color-scheme-only

vF.auto:#valdef-forced-color-adjust-auto
vF.none:#valdef-forced-color-adjust-none

	[ light | dark | &lt;custom-ident&gt; ]+:valdef-color-scheme-light
	only?:valdef-color-scheme-only

e.meta:~HEmetadata#the-meta-element
	~HEmetadata#meta
a.content:~HEmetadata#attr-meta-content


	●用語
使用~色~scheme:#used-color-scheme
強制d色~mode:#forced-colors-mode


	§:#color-scheme-processing
	§:#forced

	●用語（外部
非~CSS呈示hint:~CASCADE#preshint
利用者~出自:~CASCADE#cascade-origin-user

実~値:~MQ4#real-value
~CSS~system色:~CSSCOLOR#css-system-colors
文法に則って構文解析-:~CSSSYN#css-parse-something-according-to-a-css-grammar
	all elements:~CSSPSEUDO#generated-content

~ASCII大小無視:~INFRA#ascii-case-insensitive

文書~tree内:~DOM4#in-a-document-tree
~tree順序:~DOM4#concept-tree-order
根:~DOM4#concept-tree-root

文書の中へ挿入された:~HTMLINFRA#insert-an-element-into-a-document
文書から除去された:~HTMLINFRA#remove-an-element-from-a-document
~head要素:~HTMLdom#the-head-element-2


●●words_table1

MQ5:mediaqueries5-ja.html


●●words_table


	●色
gray:
yellow:
black:
white:
magenta:
cyan:
contrast::::コントラスト

黒:black::~
純:pure:~
黒い:blackな::~
白い:whiteな::~
色:color::~
	色にする:colored
解像度:resolution:~
暗い:darkな::~
明るい:lightな::~
色相:hue::~
Lab:
明度:lightness::~
混合:mixture::~
描く:drawする:~

	●UI／環境
調節-:tweak:~
	~UI:interface／user interface
spellcheck-underline:spellcheck underline::綴りの誤りを指示する下線
icon::::アイコン
前景:foreground::~
背景:background::~
theme::::テーマ
palette::::パレット
	~buttonの様な:button-like
monitor::::モニタ
昼間:Day:~
夜間:Night:~
	mode:Mode
	暗い:Dark
	明るい:Light
快適:comfortable:~
快適a:appreciate:快適
印刷費:printing cost::~::プリント代
印刷機:printer::~::プリンタ
品質:quality:~
ink::::インク
地図site:mapping website:地図 site::地図サイト
縞模様:zebra-stripe:~
視る:viewする:~
読取る:readする::読み取る
	個々の弱視者:individuals with limited vision
	低:low
	高:high／:high-
	^en:backplate
	直下:underneath

	●CSS
紙:paper:~
呈示hint:presentational hint:呈示 hint::呈示ヒント
出自:origin:~

	●構文
繰返して:repeatして:繰り返して

	●仕様
	特別に:specially-
	アリな限り早い:ASAP（ as soon as possible
有害な:deleterious:~
注記:Note:~
	既定でない:non-default
無分別:unwise:~
賢明:prudent:~
	標準~化:standardization
傾向:tend:~
不可能:impossible:~
希:rare:~
適度:reasonable:~
浸潤的:invasive:~
必要十分:adequate:~
線引き:delineation:~
候補:candidate:~

	事故り易くなり過ぎる:accidentally ruining a page is too high
	別として:aside from
	きちんと:well
	どうにかして:somehow
	感謝:thank
	類似する:similar
	-:criteria

	●仕様（動詞
切替える:switchする:切り替える
制限:limitation:~
無意味:meaningless:~
熟慮-:well-thought-out:~
順応-:adapt:~
	~~適応-:accommodate
選ばれ:chooseされ:~
尊重-:respect:~
無効化-:invalidate:~
見出法:finding:見出し方
追求-:pursue:~
強制d:forced:強制
customize:::カスタム化
	できるように:allow
討論:discussion:~
opt-in:opt in
	~opt-in法:opting in
opt-out:opt out
	~opt-out法:opting out
	任意選択で外す:opting-out
壊さな:breakしな:~
拡げら:expandさ:~

	書かれた:written
	課-:impose
	満たす:meet
	~~優先:favor
	壊れる:brokenly

	●未分類（動詞
併合-:merge:~
塗られ:paintされ:~
埋める:fillする:~

	~~選択／選ぶか／選ぶよう:choice
	選ばれ:chosen:
	選んだ:chosen
	戻す:restoring
	高める:increase

	●未分類
head:
tutorial::::チュートリアル
素材:materials:~
文献:reference:~

	成り立たない:untrue
	費やす:expend する
	費やす:spend
	多量の
	跳ね上げる:vastly increased
	言うまでもなく:not to mention
	さほど違いはない:fairly small differences
	高価:expensive
	無分別
	施す:perform する／:do
	~~抑える:minimize
	~~車の~~運転時:when distracted in a car
	~~一目で:quick glance
	読み取る:readする

	^en:black-on-white
	^en:white-on-black
	^en:backplate

	MSFT
	Apple
	Google
	Windows
	自身:themselve
	CSS Working Group

	●指示語

	0 〜 1 個の:optional
	とともに:together with
	-:mostly
	まったく:at all
	何であれ:whatever
	反対:opposite
	更に／更なる:further
	-:between
	数種の:small list of
	直下:underneath
	近く:closely
	中間的な:medium-
	順に:successive
	反対に:opposite
	新たな〜より:newer


●●ref_normative

[CSS-CASCADE-4]
    Elika Etemad; Tab Atkins Jr.. CSS Cascading and Inheritance Level 4. 28 August 2018. CR. URL: https://www.w3.org/TR/css-cascade-4/ 
[CSS-COLOR-4]
    Tab Atkins Jr.; Chris Lilley. CSS Color Module Level 4. 5 March 2019. WD. URL: https://www.w3.org/TR/css-color-4/ 
[CSS-PSEUDO-4]
    Daniel Glazman; Elika Etemad; Alan Stearns. CSS Pseudo-Elements Module Level 4. 25 February 2019. WD. URL: https://www.w3.org/TR/css-pseudo-4/ 
[CSS-SYNTAX-3]
    Tab Atkins Jr.; Simon Sapin. CSS Syntax Module Level 3. 16 July 2019. CR. URL: https://www.w3.org/TR/css-syntax-3/ 
[CSS-VALUES-4]
    Tab Atkins Jr.; Elika Etemad. CSS Values and Units Module Level 4. 31 January 2019. WD. URL: https://www.w3.org/TR/css-values-4/ 
[DOM]
    Anne van Kesteren. DOM Standard. Living Standard. URL: https://dom.spec.whatwg.org/ 
[HTML]
    Anne van Kesteren; et al. HTML Standard. Living Standard. URL: https://html.spec.whatwg.org/multipage/ 
[INFRA]
    Anne van Kesteren; Domenic Denicola. Infra Standard. Living Standard. URL: https://infra.spec.whatwg.org/ 
[MEDIAQUERIES-5]
    Media Queries Level 5 URL: https://drafts.csswg.org/mediaqueries-5/ 
[RFC2119]
    S. Bradner. Key words for use in RFCs to Indicate Requirement Levels. March 1997. Best Current Practice. URL: https://tools.ietf.org/html/rfc2119 


●●
ref_informative


●●trans_metadata
<p>
~THIS_PAGEは、~W3Cにより作業草案として公開された
<a href="~SPEC_URL">CSS Color Adjustment Module Level 1</a>
を日本語に翻訳したものです。
~PUB
</p>

●●spec_metadata

最新 発行バージョン
	https://www.w3.org/TR/css-color-adjust-1/
編集者草案
	https://drafts.csswg.org/css-color-adjust-1/
以前のバージョン
	https://www.w3.org/TR/2019/WD-css-color-adjust-1-20190521/
最新の課題
	<a href="https://github.com/w3c/csswg-drafts/labels/css-color-adjust-1">GitHub Issues</a>
編集
	<a href="http://fantasai.inkedblade.net/contact">Elika J. Etemad / fantasai</a> (Invited Expert)
	<a href="mailto:ratan@microsoft.com">Rossen Atanassov</a> (Microsoft)
	<a href="mailto:futhark@google.com">Rune Lillesveen</a> (Google)
	<a href="http://www.xanthir.com/contact/">Tab Atkins Jr.</a> (Google)

Suggest an Edit for this Spec:
	<a href="https://github.com/w3c/csswg-drafts/blob/master/css-color-adjust-1/Overview.bs">GitHub Editor</a>

</script>

</head>

<body>

<header>
	<hgroup>
<h1 id="title">CSS Color Adjustment Module Level 1</h1>
	</hgroup>
</header>

<div id="MAIN" hidden>

	<section id="abstract">
~ABSTRACT


<p>
この~moduleは、利用者~選好を取扱うための，~UAによる自動的な色~調整
— "暗い~mode”, ~contrast調整, 欲される特定の色~schemeなど —
に対する，~modelと制御を導入する。
◎
This module introduces a model and controls over automatic color adjustment by the user agent to handle user preferences, such as "Dark Mode", contrast adjustment, or specific desired color schemes.
</p>

~CSSisaLANG

	</section>
	<section id="status">
~STATUSofTHIS


<p>
この節では、発行時点における…
これは編集者草案の公の複製です…
【以下，この節の他の内容は、<a href="css-common-ja.html#status">CSS 日本語訳 共通ページ</a>／冒頭の仕様メタデータに委譲】
</p>

<!-- 

“[css-color-adjust] <i>…summary of comment…</i>”.
All issues and comments are <a href="https://lists.w3.org/Archives/Public/public-css-archive/">archived</a>,
and there is also a <a href="https://lists.w3.org/Archives/Public/www-style/">historical archive</a>.
-->


	</section>

<main id="MAIN0">

	<section id="intro">
<h2 title="Introduction">1. 序論</h2>

	</section>
	<section id="preferred">
<h2 title="Preferred Color Schemes">2. 選好される色~scheme</h2>

<p>
~OSや~UAは、~UI要素~用に選好する色~schemeを選ぶ能を，利用者に与えることが多い。
これらは概して、~UAの~form~controlや~scrollbarなどの~page~UI要素に加え，~navi~UIの描画にも反映され、`~CSS~system色$の値にも反映されることが期待される。
◎
Operating systems and user agents often give users the ability to choose their preferred color schemes for user interface elements. These are typically reflected in the user agent’s rendering of its navigation interface as well as in-page interface elements such as form controls and scrollbars, and are expected to also be reflected in the values of the CSS system colors.
</p>

<p>
一部の~systemの利用者は、自身が視る~pageに対し色~schemeの選好を指示して，そのような選好に~pageが順応するよう作者に要請することもある。
（選好を表出することは要求されない
— 利用者は、~OS~UI色~用の選好を，~pageにも課したいとは求めないこともある）。
最も共通的な選好は、［
“明るい（昼間~mode）” ／ “暗い（夜間~mode）” 
］どちらの色~schemeを選ぶかである
— 背景は［
明るい／暗い
］色に，前景（~textや~icon）は［
暗い／明るい
］色に描画するような。
この~moduleは、 `MEDIAQUERIES-5$r とともに［
“明るい”／ “暗い”
］色~scheme用の色~scheme（あるいは選好なし）の折衝を可能化する制御を定義する。
◎
Users on some systems can also indicate a preference in the color scheme of the pages they view, requesting that the author adapt the page to those color preferences. (It is not required to express a preference; users can have preferences for operating system interface colors that they do not want imposed on pages.) The most common preferences are a choice of “Light” vs “Dark” (or “Day Mode” vs “Night Mode”) color schemes, rendering things as mostly light- or dark-colored backgrounds, and with dark- or light-colored foregrounds (text, icons). This module, together with Media Queries Level 5, defines controls to enable color scheme negotiation for "light" and "dark" color schemes (and no preference).
</p>

<p>
利用者から選好された色~schemeに~pageが順応するのを可能化するため、~UAは，
`prefers-color-scheme$d 媒体~queryを利用者から選好された色~schemeと照合することになる。
◎
To enable pages to adapt to the user’s preferred color scheme, user agents will match the prefers-color-scheme media query to the user’s preferred color scheme.
</p>

<p>
加えて，作者が［
~pageはこの色~schemeを~supportできる
］と指示していた場合（ `color-scheme$p を見よ）、~UAは，次に挙げるものを利用者から選好された色~schemeに合致させるモノトスル：
◎
Additionally, if the author has indicated that the page can support this color scheme (see color-scheme), the user agent must match the following to the user’s preferred color scheme:
</p>

<ul>
	<li>
背景~canvasの初期~色†,
`color$p ~propの初期~値,
`~CSS~system色$
<span class="issue">†他の仕様がこれをどう命名しているか見出す</span>
◎
the initial color of the background canvas find what we name this in other specs, the initial value of the color property, and the system colors
</li>
	<li>
~scrollbarその他の対話~UIの既定の色
◎
the default colors of scrollbars and other interaction UI
</li>
	<li>
~form~controlや他の “特別に描画される” 要素の既定の色
◎
the default colors of form controls and other "specially-rendered" elements
</li>
	<li>
“~spellcheck-underline” など，~browserが供する他の~UIの既定の色
◎
the default colors of other browser-provided UI, such as "spellcheck" underlines
</li>
</ul>

<p>
~UAは，追加的な色~schemeを~supportしても`ヨイ^emが、~CSSは，追加的な色~schemeの折衝は~supportしない：
~UAは、［
`prefers-color-scheme$d, `color-scheme$p
］が追加的な値を反映できるよう，これらの~schemeの標準~化を追求するベキである。
◎
User agents may support additional color schemes, however CSS does not support negotiation of additional color schemes: user agents should pursue standardization of these schemes, so that prefers-color-scheme and color-scheme can reflect the additional values.
</p>

<p class="note">注記：
上に挙げた数種の調整は別として、一般に~UAは，利用者から選好された色~schemeに合致するよう~pageを更に調整することはない
— ~pageが事故り易くなり過ぎるので。
しかしながら，利用者から特定0の色を選ぶよう要求された場合（例えば，~accessibilityの理由から）、より浸潤的な変更が適用されるかもしれない。
<a href="#forced">§ 強制d色~scheme</a>を見よ。
◎
Note: Aside from the small list of adjustments given above, user agents generally do not further adjust a page to match the user’s preferred color scheme, because the chance of accidentally ruining a page is too high. However, when particular color choices are required by the user (for accessibility reasons, for example), more invasive changes might be applied; see § 3 Forced Color Schemes: the forced-color-adjust property.
</p>

		</section>
		<section id="color-scheme-prop">
<h3 title="Opting Out of a Preferred Color Scheme: the color-scheme property">2.1. 選好される色~schemeの~opt-in法： `color-scheme^p ~prop</h3>

◎名 `color-scheme@p
◎値 `normal$v | [ `light$v | `dark$v | `custom-ident$t ]+ | `only$v? &amp;&amp; `light$v
◎初 `normal$v
◎適 すべての要素
◎継 される
◎百 受容しない
◎算 ~keyword `normal$v ／［［
0 〜 1 個の `only$v ~keyword
］と［
指定された色~scheme~keywordたちが成す有順序~list
］が成す組
］
◎
the keyword normal, or optional only keyword and ordered list of specified color scheme keywords
◎順 文法に従う
◎ア 離散的
◎表終

<p>
`color-scheme$p ~propは、どの色~schemeで描画されれば快適かを，要素が指示できるようにする。
これらの値は利用者~選好と折衝され、その結果 選ばれた色~schemeが［
~UIの［
~form~controlや~scrollbar
］の既定の色,
`~CSS~system色$の使用~値
］などに影響する。
各種 値は、次に従って定義される :
◎
The color-scheme property allows an element to indicate which color schemes it is comfortable being rendered with. These values are negotiated with the users preferences, resulting in a chosen color scheme that affects UI things such as the default colors of form controls and scrollbars as well as the used values of the CSS system colors. Its values are defined as follows:
</p>

<dl class="valdef">
	<dt>`normal@v</dt>
	<dd>
要素は色~schemeをまったく自覚せず，要素は~browserの既定の色~schemeで描画されるベキであることを指示する。
◎
Indicates that the element isn’t aware of color schemes at all, and so the element should be rendered with the browser’s default color scheme.
</dd>

	<dt>[ `light@v | `dark@v | `custom-ident$t ]+</dt>
	<dd>
要素は、~listされた色~schemeを自覚していて, それらを取扱えること，順序付けられたそれらの選好を表出することを指示する（どの選好に解決されるかの詳細は
<a href="#color-scheme-processing">§ 使用~色~schemeの見出法</a>
を見よ）。
◎
Indicates that the element is aware of and can handle the listed color schemes, and expresses an ordered preference between them. (See § 2.2 Finding the Used Color Scheme for details on how this choice is resolved.)
</dd>
	<dd>
`light$v は、明るい背景~色, 暗い前景~色を伴う “明るい” 色~schemeを表現する。
`dark$v は、その反対に，暗い背景~色, 明るい前景~色を伴う色~schemeを表現する。
◎
light represents a "light" color scheme, with light background colors and dark foreground colors. dark represents the opposite, with dark background colors and light foreground colors.
</dd>
	<dd class="note">注記：
両~keywordとも供した場合， 1 個目の~schemeが選好されることを指示するが、 2 個目のものも，利用者がそれを選好した場合には受容-可能である。
◎
Note: Providing both keywords indicates that the first scheme is preferred, but the second is also acceptable if the user prefers it instead.
</dd>
	<dd>
`custom-ident$t 値は無意味であり，将来の互換性を得るために限り存在する
— 将来に色~schemeが追加されても，旧来の~UAにおいて `color-scheme$p 宣言が無効化されないようにするため。
~UAは、どの `custom-ident^t 値にも意味があるものと解釈しない`モノトスル^em
— 認識される追加的な色~schemeは、この~propの文法に明示的に追加されなければナラナイ。
混同を避けるため、著作~用の~tutorialや文献の素材からは それらを省略するベキである。
◎
&lt;custom-ident&gt; values are meaningless, and exist only for future compatibility, so that future added color schemes do not invalidate the color-scheme declaration in legacy user agents. User agents must not interpret any &lt;custom-ident&gt; values as having a meaning; any additional recognized color schemes must be explicitly added to this property’s grammar. To avoid confusion, authoring tutorials and references should omit it from their materials.
</dd>
	<dd>
［
`only$v, `normal$v, `light$v, `dark$v
］は、この~propにおいては，妥当な `custom-ident$t でない。
◎
only, normal, light, and dark are not valid &lt;custom-ident&gt;s in this property.
</dd>
	<dd>
`color-scheme$p にあてがう値は， `light light^v のように~keywordを繰返しても妥当であるが、それらのうち 1 個目の~instanceが供するものを超える追加的な効果は無い。
◎
Repeating a keyword, such as color-scheme: light light, is valid but has no additional effect beyond what the first instance of the keyword provides.
</dd>

	<dt>`only@v</dt>
	<dd>
この値が供された場合、アリならば，要素は指定された色~schemeのうち 1 つで描画する`モノトスル^emことを指示する
— 利用者の選好は異なる色~schemeであっても。
◎
If provided, only indicates that the element must be rendered with one of the specified color schemes, if possible, even if the user’s preference is for a different color scheme.
</dd>
	<dd class="issue">
仕様によれば、 `only$v は `light$v との併用に限り利用できる。
Apple の実装は `dark$v との併用も許容する。
`only dark^v に対する懸念は、~pageが `dark^v ~schemeを~supportできない~UAを考慮しなくなり，描画が壊れることにある。
この値は、更なる考慮に依存して，すべての~schemeに拡げられるか, まるごと除去されるかもしれない。
◎
Per spec, only can only be used with light. Apple’s implementation allows it with dark as well. The concern with only dark is that pages won’t consider UAs that can’t support dark schemes, and will thus render brokenly. This value might be expanded to all schemes or removed entirely depending on further consideration.
</dd>
	<dd>
作者は、この値を利用する<strong>ベキでない</strong>
— 代わりに，利用者が選好する色~schemeが何であれ、~pageが それをきちんと描画することを確保するベキである（それに則って~styleを調整するために， `prefers-color-scheme$d 媒体~queryを利用して）。
この~keywordは、適度にはアリでないかもしれない希な事例のために限り，供されている
— 異なる色~schemeが利用されると，利用が困難か不可能になるように要素を描画することになるような。
◎
Authors should not use this value, and should instead ensure that their page renders well with whatever color scheme the user prefers (using the prefers-color-scheme media query to adjust styles accordingly). This keyword is provided only for the rare cases where that might not be reasonably possible, and using a different color scheme would render the element difficult or impossible to use.
</dd>
	<dd>
~UAには、特定0の色~schemeを~supportすることは<strong>要求されていない</strong>ことに注意。
なので、 `only$v を利用して要求される色~schemeを指示しても，要素の描画に何か効果を及ぼすことは保証されない。
◎
Note that user agents are not required to support any particular color scheme, so using only to indicate a required color scheme is still not guaranteed to have any effect on the rendering of the element.
</dd>
</dl>

<p class="note">注記：
［
“明るい” ／ “暗い”
］~modeは、特定の色~paletteではない。
例えば、［
`stark black-on-white^en,
`sepia dark-on-tan^en
］両~schemeとも “明るい” 色~schemeと見なされる。
特定0の［
前景~色／背景~色
］を確保するためには、明示的に指定される必要がある
◎
Note: “Light” and “Dark” modes are not specific color palettes. For example, both a stark black-on-white scheme and a sepia dark-on-tan scheme would be considered “Light” color schemes. To ensure particular foreground or background colors, they need to be specified explicitly.
</p>


		</section>
		<section id="color-scheme-processing">
<h3 title="Finding the Used Color Scheme">2.2. 使用~色~schemeの見出法</h3>

<div class="algorithm" data-algorithm="used color scheme">

<p>
要素 %要素 用に
`使用~色~scheme@
見出すときは：
◎
To find the used color scheme for an element el:
</p>

<ol>
	<li>
%~scheme ~LET `prefers-color-scheme$d に合致している~keyword
◎
Let scheme be the keyword matching prefers-color-scheme.
</li>
	<li>
%算出d値 ~LET %要素 上の `color-scheme$p の算出d値
</li>
	<li>
~IF［
%算出d値 は %~scheme を包含する
］
⇒
~RET %~scheme
◎
If the computed value of color-scheme on el contains scheme, return scheme.
</li>
	<li>
~IF［
%算出d値 は `only$v ~keywordを包含する
］~OR［
%~scheme ~EQ `no-preference^v
］
⇒
~IF［
%算出d値 内に指示された色~schemeに，~UAが~supportするものはある
］
⇒
~RET それらのうち指定された順序で最初の~keyword
◎
If the computed value of color-scheme on el contains the only keyword or scheme is no-preference, and at least one color scheme indicated in color-scheme is supported by the user agent, return the first keyword, in specified order, that is supported by the user agent.
</li>
	<li>
~RET `no-preference^v
◎
Otherwise, return no-preference.
</li>
</ol>

</div>

<p>
各~要素に対し，その要素~用の`使用~色~scheme$を見出す。
`使用~色~scheme$ ~EQ `no-preference^v ならば、要素は~UAの既定の色~schemeで描画するモノトスル。
（~Web互換性を得るため、これは、 “明るい” 色~schemeになるベキである。）
他の場合、要素を`使用~色~scheme$で描画するモノトスル。
◎
For each element, find the used color scheme for that element. If the used color scheme is no-preference, the element must be rendered with the user agent’s default color scheme. (For Web compatibility, this should be a "light" color scheme.) Otherwise, the element must be rendered with the used color scheme.
</p>

<p class="note">注記：
この~algoは、利用者が既定でない色~schemeを選好する場合，~pageがそれを~supportすると主張する場合に限り利用されることを確保する。
これは、色~scheme選好が公開される前に書かれた旧来の~pageの挙動は変化しないことを確保する。
◎
Note: This algorithm ensures that if the user prefers a non-default color scheme, it will only be used if the page claims to support it. This ensures that legacy pages, written before color scheme preferences were exposed, do not change behavior.
</p>

<p>
すべての要素に対し，ある色~schemeによる描画は、要素~用に~browserが供するすべての~UI
— 例： ~scrollbar, ~spellcheck-underline, ~form~control, 等々 —
に利用される色に，色~schemeの意図に合致するよう影響する。
◎
For all elements, rendering with a color scheme should affect the colors used in all browser-provided UI for the element—e.g. scrollbars, spellcheck underlines, form controls, etc.—to match with the intent of the color scheme.
</p>

<p>
加えて，~pageの根~要素に対する，ある色~schemeによる描画は、［
~canvasの背景,
`color$p ~propの初期~値,
`~CSS~system色$
］にも影響する~モノトスル。
また、~pageの各~scrollbarにも影響するベキである。
◎
For the root element of a page, rendering with a color scheme additionally must affect the background of the canvas, the initial value of the color property, and the system colors, and should affect the page’s scrollbars.
</p>

		</section>
		<section id="color-scheme-meta">
<h3 title="The &quot;color-scheme&quot; meta value">2.3. `meta^e 要素~用の `color-scheme^v 値</h3>

<p>
~UAが~pageの背景を欲される色~schemeで即時に（~page内のすべての~CSSを読込むのを待機せずに）描画するのを援助するため、
`color-scheme$p 値は `meta$e 要素~内にも供せる。
◎
To aid user agents in rendering the page background with the desired color scheme immediately (rather than waiting for all CSS in the page to load), a color-scheme value can also be provided in a meta element.
</p>

<div class="algorithm">

<p>
次のいずれかが生じたときは…：
◎
If
</p>

<ul>
	<li>
ある `meta$e 要素が［
`文書の中へ挿入された$ ／ `文書から除去された$
］
◎
any meta elements are inserted into a document or removed from a document, or＼
</li>
	<li>
既存の `meta$e 要素の［
`name^a ／ `content$a
］属性が変化した
◎
existing meta elements have their name or content attributes changed,＼
</li>
</ul>

<p>
…~UAは，次の~algoを走らすモノトスル：
◎
user agents must run the following algorithm:
</p>

<ol>
	<li>
<p>
%候補~要素~list ~LET 次をすべて満たす `meta$e 要素~すべてからなる`~tree順序$による~list：
◎
Let candidate elements be the list of all meta elements that meet the following criteria, in tree order:
</p>
		<ul>
			<li>
要素は`文書~tree内$にある
◎
the element is in a document tree
</li>
			<li>
要素は `name^a 属性を有していて，その値は`~ASCII大小無視$で `color-scheme^l に合致する
◎
the element has a name attribute, whose value is an ASCII case-insensitive match for color-scheme
</li>
			<li>
要素は `content$a 属性を有していて，その値 ~NEQ 空~文字列
◎
the element has a content attribute, whose value is not the empty string
</li>
			<li>
要素は文書の`~head要素$の子である
◎
the element is a child of the the head element of the document
</li>
		</ul>
	</li>
	<li>
<p>
%候補~要素~list 内の
~EACH( %要素 )
に対し：
</p>
		<ol>
			<li>
~IF［
%要素 の`content$a 属性の値を `color-scheme$tp 値の`文法に則って構文解析-$した結果 ~NEQ `失敗^i
］
⇒
~CONTINUE
</li>
			<li>
前~段の結果を %要素 の`根$の `color-scheme$p ~propの［
`非~CSS呈示hint$として~cascadeされる宣言
］として扱う
</li>
			<li>
~RET
</li>
		</ol>
◎
For each element in candidate elements:
• If element’s content attribute’s value parses as a &lt;color-scheme&gt; value, treat that value as a declaration of the color-scheme property on element’s root, cascaded as a non-CSS presentational hint. Then return.
</li>
</ol>

<p class="note">注記：
これらの規則は、合致するものを見出すまで，順に要素を検査するので、作者は，そのような値を複数~供することにより，旧来の~UA用の~fallbackを取扱える。
複数個の `meta$e 要素は
— ~propに対し~CSS~fallbackが働くときとは反対に —
旧来の値が新たな値より`後^emに来るように配列されなければナラナイ。
◎
Note: Because these rules check successive elements until they find a match, an author can provide multiple such values to handle fallback for legacy user agents. Opposite how CSS fallback works for properties, the multiple meta elements must be arranged with the legacy values after the newer values.
</p>

</div>

<p class="issue">
この~algoは、選ばれた色~schemeでアリな限り早く描画できるよう，最初の `meta$e を~~優先する。
これは欲されている挙動か？
◎
This algorithm favors the first meta, to allow for ASAP rendering with a chosen color scheme. Is that the desired behavior?
</p>

	</section>
	<section id="forced">
<h2 title="Forced Color Schemes: the forced-color-adjust property">3. 強制d色~scheme： `forced-color-adjust^p ~prop</h2>

<p>
`強制d色~mode@
は、色~contrastを通して~textの可読性を高めるために意図される~accessibility特能である。
個々の弱視者は、前景~色, 背景~色の間に 特定0の型の~contrastがあるとき，内容を読取るのが快適と見出すことが多い。
◎
Forced colors mode is an accessibility feature intended to increase the readability of text through color contrast. Individuals with limited vision often find it more comfortable to read content when there is a a particular type of contrast between foreground and background colors.
</p>

<p>
~OSは、組込みの色~themeを供せる
— Windows の高~contrastな［
`black-on-white^en ／ `white-on-black^en
］~themeなど。
利用者はまた、例えば低~contrastや色相~contrastを供するような，自前の~themeを~customizeできる。
◎
Operating systems can provide built-in color themes, such as Windows’ high contrast black-on-white and high-contrast white-on-black themes. Users can also customize their own themes, for example to provide low contrast or hue contrast.
</p>

<p>
`強制d色~mode$においては、~UAは，利用者が選好した色~paletteを~page上で施行して，特定の~propに対し作者が選んだ色を上書きする
— <a href="#forced-colors-properties">§ 強制d色~modeに影響される~prop</a>を見よ。
また、可読性に必要十分な~contrastを確保するため，~textの直下に “`backplate^en” 【“裏板” 】を施行することもある（ `selection$pe 疑似要素に対し背景が塗られる仕方に類似する）。
◎
In forced colors mode, the user agent enforces the user’s preferred color palette on the page, overriding the author’s chosen colors for specific properties, see § 3.1 Properties Affected by Forced Colors Mode. It may also enforce a “backplate” underneath text (similar to the way backgrounds are painted on the ::selection pseudo-element) to ensure adequate contrast for readability.
</p>

<p>
~pageが`強制d色~mode$に順応するのを可能化するため、~UAは，それを `forced-colors$d 媒体~queryに合致させることになる
【すなわち，その`実~値$は、強制d色~modeの有無を反映する値をとる】
— ~UAは、要求された色~paletteを`~CSS~system色$（ `CSS-COLOR-4$r ）を通して供するモノトスル。
加えて，~UAは、~canvas色が明瞭に暗いか明るい（~Lab明度に基づいて，~UAによる何らかの適度な線引きにおいて “暗い” か “明るい” ）ものと決定した場合、
`prefers-color-scheme$d 媒体~queryの適切な値に合致させ，
`color-scheme$p 用の対応する利用者~選好を表出するモノトスル。
これにより，［
明るい／暗い
］色~schemeを~supportする~pageは、強制d色~schemeにより近く合致するよう自動的に調整できるようになる。
背景に中間的な明度が強制される場合、
`prefers-color-scheme$d 【の`実~値$】は `no-preference^v になり得ることに注意。
◎
To enable pages to adapt to forced colors mode user agents will match the forced-colors media query and must provide the required color palette through the CSS system colors (see [CSS-COLOR-4]). Additionally, if the UA determines (based on Lab lightness), that the canvas color is clearly either dark or light (for some reasonable UA delineation of “dark” or “light”), then it must match the appropriate value of the prefers-color-scheme media query and express a corresponding user preference for color-scheme. This will allow pages that support light/dark color schemes to automatically adjust to more closely match the forced color scheme. Note that medium-lightness forced backgrounds may yield a prefers-color-scheme of no-preference.
</p>


		<section id="forced-colors-properties">
<h3 title="Properties Affected by Forced Colors Mode">3.1. 強制d色~modeに影響される~prop</h3>

<p>
`強制d色~mode$が作動中にあって
`forced-color-adjust$p は `auto$vF であるときには（下を見よ）、要素には，次に与える`利用者~出自$の宣言 `CSS-CASCADE-4$r が適用される：
◎
When forced colors mode is active and forced-color-adjust is auto (see below), the following user origin declarations [CSS-CASCADE-4] are applied to the element:
</p>


<pre class="lang-css">
color: revert !important;
fill: revert !important;
stroke: revert !important;
text-decoration-color: revert !important;
text-emphasis-color: revert !important;
background-color: revert !important;
border-color: revert !important;
outline-color: revert !important;
column-rule-color: revert !important;
scrollbar-color: revert !important;
-webkit-tap-highlight-color: revert !important; /* <span class="comment issue">
これは、仕様~内のどこにもない。
◎
ISSUE: This is not in a spec anywhere!
</span> */

box-shadow: none !important;
text-shadow: none !important;
</pre>

<p>
加えて，`利用者~入力~control（~buttonの様な~controlは除く）^emに限り：
◎
Additionally, on on user input controls (except button-like controls) only:
</p>

<pre class="lang-css">
background-image: none !important;
</pre>

<p>
~UAは、より良い利用者~体験を供するためとして，これらの`強制d色~mode$ 経験則を更に調節してもヨイ。
◎
UA may further tweak these forced colors mode heuristics to provide better user experience.
</p>

		</section>
		<section id="forced-color-adjust-prop">
<h3 title="Opting Out of a Forced Color Scheme: the forced-color-adjust property">3.2. 強制d色~schemeの~opt-out法： `forced-color-adjust^p ~prop</h3>

◎名 `forced-color-adjust@p
◎値 `auto^v | `none^v
◎初 `auto^v
◎適 すべての要素
◎継 される
◎百 受容しない
◎算 指定された~keyword
◎順 文法に従う
◎ア 離散的
◎表終


<p>
`forced-color-adjust$p ~propは、［
特定0の要素に対し，`強制d色~mode$を~opt-outして、色に対する全部的な制御を~CSSに戻す
］ことを，作者に許容する。
各種 値の意味は：
◎
The forced-color-adjust property allows authors to opt particular elements out of forced colors mode, restoring full control over the colors to CSS. Values have the following meanings:
</p>

<dl>
	<dt>`auto@vF</dt>
	<dd>
要素の色は、`強制d色~mode$において，~UAにより自動的に調整される。
◎
The element’s colors are automatically adjusted by the UA in forced colors mode.
</dd>

	<dt>`none@vF</dt>
	<dd>
要素の色は、`強制d色~mode$において，~UAにより自動的に調整されない。
◎
The element’s colors are not automatically adjusted by the UA in forced colors mode.
</dd>
	<dd><strong class="advisement">
作者は、次のときに限り，この値を利用するベキである：
利用者の色と~contrastの必要を~supportするために，自身で色を調整していて、当の要素に より適切な利用者~体験を供する変更を，~UAの既定の調整に対し為す必要がある。
</strong>
◎
Authors should only use this value when they are themselves adjusting the colors to support the user’s color and contrast needs and need to make changes to the UA’s default adjustments to provide a more appropriate user experience for those elements.
</dd>
</dl>

<p class="issue">
この~propは、どうにかして `color-adjust$p に併合するベキか？
◎
Should this property be merged with color-adjust somehow?
</p>

<p>
~SVG内容を壊さないようにするため、~UAには，次の規則を自身の~UA~stylesheetに追加することが期待される：
◎
In order to not break SVG content, UAs are expected to add the following rules to their UA style sheet:
</p>

<pre class="lang-css">
@namespace "http://www.w3.org/2000/svg";
svg|svg { forced-color-adjust: none; }
svg|text, svg|foreignObject { forced-color-adjust: auto; }
</pre>

		</section>
	</section>
	<section id="perf">
<h2 title="Performance-based Color Schemes: the color-adjust property">4. 処理能に基づく色~scheme： `color-adjust^p ~prop</h2>

<p>
ほとんどの~monitor上では、作者が何~色を選ぼうが，機器がどう描画するかに関して，有意な相違が生じることはない。
文書の背景が~white／~blackどちらであろうが，表示する容易さは ほぼ等しい。
◎
On most monitors, the color choices that authors make have no significant difference in terms of how the device performs; displaying a document with a white background or a black background is approximately equally easy.
</p>

<p>
しかしながら、この前提が成り立たないような機器も中にはあり，制限があったり, 品質が変わることがある。
例えば，印刷機は白い紙に印刷する傾向にあるので、背景が白い文書では，~inkを費やすことなく背景を描く一方で、背景が黒い文書では，背景~色を埋めるために多量の~inkを費やす。
これは、印刷費を跳ね上げるのは言うまでもなく，紙に有害な物理的~効果をもたらすこともある。
~text色を黒にするか暗い~grayにするか のような，さほど違いはない場合でも、印刷-時には全く異なることはある
— 利用する~inkを単独の黒~inkから［
~cyan, ~magenta, ~yellow
］~inkの混合に切替えるので、~inkを余計に費やしたり, 解像度が低下する。
◎
However, some devices have limitations and other qualities that make this assumption untrue. For example, printers tend to print on white paper; a document with a white background thus has to spend no ink on drawing that background, while a document with a black background will have to expend a large amount of ink filling in the background color. This tends to look fairly bad, and sometimes has deleterious physical effects on the paper, not to mention the vastly increased printing cost from expending the extra ink. Even fairly small differences, such as coloring text black versus dark gray, can be quite different when printing, as it switches from using a single black ink to a mixture of cyan, magenta, and yellow ink, resulting in higher ink usage and lower resolution.
</p>

<p>
その結果，一部の状況下では、~UAは［
特定0の文脈において，作者が指定した~styleを改める
］こともある
— それらを出力~機器~用に より適切に調整して，利用者が選好すると見做されるものに~~適応するよう。
しかしながら，文書が［
利用者に快適aになるよう，重要かつ熟慮された仕方で色を利用している
］事例もあり、そのような~pageでは，［
選ばれた色を尊重するよう，何らかの仕方で~UAに~hintする
］よう求まれるであろう。
`color-adjust$p ~propは、これを制御する。
◎
As a result, in some circumstances user agents will alter the styles an author specifies in some particular context, adjusting them to be more appropriate for the output device and to accommodate what they assume the user would prefer. However, in some cases the document may be using colors in important, well-thought-out ways that the user would appreciate, and so the document would like some way to hint to the user agent that it might want to respect the page’s color choices. The color-adjust property controls this.
</p>

◎名 `color-adjust@p
◎値 `economy$v | `exact$v
◎初 `economy$v
◎適 すべての要素
◎継 される
◎百 受容しない
◎算 指定された~keyword
◎順 文法に従う
◎ア 離散的
◎表終

<p>
`color-adjust$p ~propは、所与の機器~上で，高価に, より一般には無分別になり得るようなときに
— 文書における 暗い背景に明るい~textを利用して印刷するなど —
色や~styleの~~選択をどう扱うべきかについての~hintを，~UAに供する。
~UAは、文書~表示のこの側面を利用者が制御できるようにする場合には，利用者の選好をこの~propにて供される~hint<strong>より強く尊重する</strong>モノトスル。
次の値をとり得る:
◎
The color-adjust property provides a hint to the user-agent about how it should treat color and style choices that might be expensive or generally unwise on a given device, such as using light text on a dark background in a printed document. If user agents allow users to control this aspect of the document’s display, the user preference must be respected more strongly than the hint provided by color-adjust. It has the following values:
</p>

<dl>
	<dt>`economy@v</dt>
	<dd>
~UAは、~pageの~style付けに対し，出力~機器に必要かつ賢明と判断される調整を施すべきである。
◎
The user agent should make adjustments to the page’s styling as it deems necessary and prudent for the output device.
</dd>
	<dd>
例えば，文書が印刷されるとき、~UAは，費やす~ink量を~~抑えるため，背景を無視して ~textを十分~暗い色になるよう調整することもあり得る。
◎
For example, if the document is being printed, a user agent might ignore any backgrounds and adjust text color to be sufficiently dark, to minimize ink usage.
</dd>

	<dt>`exact@v</dt>
	<dd>
この値は、~pageは，重要かつ有意な仕方で 要素の色や~style付けを指定していて、利用者から要請されない限り，調節されたり変更されるべきでないことを指示する。
◎
This value indicates that the page is using color and styling on the specified element in a way which is important and significant, and which should not be tweaked or changed except at the user’s request.
</dd>
	<dd>
例えば、方向指示（ `printed directions^en ）を提供している地図siteは、方向指示の背景を，~whiteと明るい~grayが交互に並ぶ “縞模様に” するかもしれない。
背景を純~whiteにすると、この縞模様は失われ，~~車の~~運転時に方向指示を~~一目で読み取り難くなる。
◎
For example, a mapping website offering printed directions might "zebra-stripe" the steps in the directions, alternating between white and light gray backgrounds. Losing this zebra-striping and having a pure-white background would make the directions harder to read with a quick glance when distracted in a car.
</dd>
</dl>

	</section>
	<section id="acknowledgements">
<h2 title="Acknowledgements">5. 謝辞</h2>

<p>
この仕様は、［
Apple, Google, Microsoft, および
www-style における印刷~調整についての討論
］による，色~調整の様々な特能に対する開発の労なしにはアリでなかった。
特に， CSS Working Group は、次の方々に感謝したい
⇒
`Alison Maher^en, `François Remy^en, イアンフェッティ
◎
This specification would not be possible without the development efforts of various color adjustment features at Apple, Google, and Microsoft as well as discussions about print adjustments on www-style. In particular, the CSS Working Group would like to thank: Alison Maher, François Remy, イアンフェッティ
</p>


<p class="issue">
ここに［
MSFT / Apple / Google
］の方々を追加的に挙げる。
◎
List additional MSFT / Apple / Google people here.
</p>

	</section>
</main></div>

