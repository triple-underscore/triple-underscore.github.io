<!DOCTYPE html><html lang="ja"><head><meta charset="utf-8">
<title>Navigation Timing Level 2 （日本語訳）</title>

<link rel="stylesheet" href="common.css" type="text/css">
<link rel="stylesheet" href="common-w3c.css" type="text/css">

<style>
#_time-table {
	display: flex;
	flex-flow: column;
	background: var(--example-bg-color);
	padding: 0.5em;
	font-size: smaller;
	gap: 1em;
}
x-tt-box {
	display: block;
	border: thin solid var(--N-color);
	position: relative;
	padding: 0.5em;
	width: 11em;
}
x-tt-attr {
	position: absolute;
	left: 12.5em;
	min-width: 16em;
	white-space: nowrap;
}
</style>

<script src="common0.js" ></script>
<script src="common1.js" async></script>


<script>
Util.ready = function(){
	const source_data = {
		generate: expand
	};
	Util.switchWordsInit(source_data);
}

function expand(){
	const class_map = this.class_map;
	const tag_map = this.tag_map;
	const link_map = this.link_map;

	return this.html.replace(
		/%[\w\-~一-鿆あ-ん]+|`(.+?)([$@\^])(\w*)/g,
		create_html
	);

	function create_html(match, key, indicator, klass){

if(!key) {//%
	return `<var>${match.slice(1)}</var>`;
}

let href = '';
let href1 = '';
{
	const n = key.indexOf('＠');
	if(n > 0) {
		href1 = key.slice(n + 1);
		key = key.slice(0, n);
	}
}
let text = key;

switch(klass){
case 'r':
	text = `[${key}]`;
	href = `#bib-${key.toLowerCase()}`;
	break;
case '1': // level 1
	href= `#dom-performancetiming-${key.toLowerCase()}`;
	break;
case '1n': // level 1
	href= `#dom-performancenavigation-${key.toLowerCase()}`;
	break;
case '1p': // level 1
	href= `#dom-performance-${key.toLowerCase()}`;
	break;
case 'l':
case 'hH':
	text = `"<code class="literal">${text}</code>"`;
	break;
case 'en':
	text = `<span lang="en">${key}</span>`;
	break;
}

let tag = tag_map[klass];
if(tag) {
	let classname = class_map[klass];
	classname = classname ? ` class="${classname}"` : '';
	text = `<${tag}${classname}>${text}</${tag}>`;
}

if(indicator !== '^'){
	href = href1 || link_map[ klass ? `${klass}.${key}` : key ] || href;
	if(!href){
		console.log(match); // check error
		return match;
	}

	switch(indicator){
	case '$':
		text = `<a href="${href}">${text}</a>`;
		break;
	case '@':
		text = `<dfn id="${href.slice(1)}">${text}</dfn>`;
		break;
	}
}

return text;

	}
}


</script>
<!-- 
		result = [
"Name:       " + T.name,
"Entry Type: " + T.entryType,
"Start Time: " + T.startTime,
"Duration:   " + T.duration,
"Unload:     " + (T.unloadEventEnd - T.unloadEventStart),
"Redirect:   " + (T.redirectEnd - T.redirectStart),
"App Cache:  " + (T.domainLookupStart - T.fetchStart),
"DNS:        " + (T.domainLookupEnd - T.domainLookupStart),
"TCP:        " + (T.connectEnd - T.connectStart),
"Request:    " + (T.responseStart - T.requestStart),
"Response:   " + (T.responseEnd - T.responseStart),
"Processing: " + (T.loadEventStart - T.responseEnd),
"Onload:     " + (T.loadEventEnd - T.loadEventStart)
].join('\n');
	} catch(e){
		result = 'エラー（ ' + e.name + ' ）\n' + e.message;
	}

	E('_test_output2').textContent = result;

 -->
<script>

function get_timing_data2(){
	let result;
	try {
		const entry = performance.getEntriesByType("navigation")[0].toJSON();
		const s = [];
		for(var k in entry){
			s.push(
`${(k + ' ........................').slice(0, 29)}. ${JSON.stringify(entry[k])}`
			);
		}
		result = s.join('\n');
	} catch(e){
		result = `エラー（ ${e.name} ）\n${e.message}`;
	}
	E('_test_output2').textContent = result;
}

function get_timing_data1(){ // level 1 用
	let timing = performance && performance.timing
	if(!timing) return '利用中のブラウザでは window.performance.timing はサポートされていないようです。';
	timing = timing.toJSON();
//	console.table(timing.toJSON());
	const s = [];
	const t0 = timing.navigationStart || NaN;
	for(let k in timing){
		let t = timing[k];
		s.push(
`${(k + ' ....................').slice(0, 29)}. ${'' + t} (${t - t0})`
		);
	}
	E('_test_output1').textContent = s.join('\n');
}

</script>

<script type="text/plain" id="_source_data">


●●options

spec_title:Navigation Timing Level 2
spec_date:2025-09-29
trans_update:2025-09-30
source_checked:210408
page_state_key:TIMING
original_url:https://w3c.github.io/navigation-timing/
	abbr_url:NAV-TIMING
spec_status:ED
ref_id_prefix:bib-
ref_id_lowercase:true
conformance:w3c
copyright:2025,permissive
trans_1st_pub:2013-10-04


●●class_map
h:header
hm:method
e:element
a:attr
et:event-type
css:css
v:value

●●tag_map
I:code
m:code
c:code
1:code
1n:code
1p:code
h:code
hm:code
e:code
a:code
et:code
st:code
css:code
v:code
i:i

●●words_table1

	SW:https://www.w3.org/TR/service-workers/

bookmarklet1:javascript:console.log(JSON.stringify(performance.timing.toJSON()).slice(1,-1).replace(/%22(\w+)%22:/g,'＠$1................................').replace(/,?＠(.{0,35})\.+/g,'\n$1 '));

bookmarklet2:javascript:console.log(JSON.stringify(performance.getEntriesByType('navigation')[0].toJSON()).slice(1,-1).replace(/%22(\w+)%22:/g,'＠$1................................').replace(/,?＠(.{0,35})\.+/g,'\n$1 '));


●●words_table

	●fetch／network
load:
unload:
reload:
hop:
IP:
端点間:end-to-end::~::エンドツーエンド
再読込み:reload::再読み込み::リロード
読込直した:reloadした::読み込み直した::リロードした

	●処理能
時刻起点:time origin::~
時区間:time interval::~
計量:metric::~
	metrics
	~SET:record
高分解能:high resolution:~
milli::::ミリ
	回数:count
DOMContentLoaded:
restart:
Critical-CH:
	差:difference
	かかった およその時間:roughly how long it took for
	~navi計時:Navigation Timing
	~navi計時における:~overload
	時点:moment


	●保安
login:::ログイン
末端利用者:end user:~:::エンドユーザ
認証:authentication::~
細工-:craft:~
信頼-:trust::~
推定-:infer:~
	供する~server:provider
未承認の:unauthorized:~
流出-:disclose:~
流出:disclosure:~
緩い:relaxed:~
	~secure化-:secured

	●仕様
義務:mandatory:~
包括的:comprehensive:~
出荷-:ship:~
	出荷-済み:shipped
様相:picture:~
素朴:naive:~
	更なる情報:more info
	recommendation

	●未分類
共有d:shared:共有
toJSON:
directory::::ディレクトリ
稼働:running:~
準備度:readiness::~
pragma:
	高速に:faster
未設定:unset:~
	整数:number
prototype:
復旧-:restore::~

	〜になる:holds
	現在の文書:the document
	現在の文書:-

	●変数
	%~fetch計時:fetchTiming
	%~redirect回数:redirectCount
	%~navi種別:navigationType
	%~navi計時~entry:navigationTimingEntry
	%文書:document
	%大域~obj:global
	%~worker計時:~workerTiming
	%~sw計時:serviceWorkerTiming
	%本体~報:bodyInfo
	%~cache~mode:cacheMode
	%復旧されない事由~群:-

	●指示語
前-:previous:~
	直前:before
	直前:just before
	直前:right before
	直前:immediately before
	直後:immediately after
	直後:after
	以降:since／
	任意:any
	前の:previous
	一部:some／part of
	ない:no


	●level 1
閉じら:closeさ:~
開いた:openした:~
開いて:openして:~
改善点:improvements:~
handshake::::ハンドシェイク
持続的:persistent::~
検索:lookup::~
	送信し直し:resend
	強く勧める:strongly advised
	optional
	1970 年 1 月 1 日, 午前 0 時:midnight of January 1, 1970

●●original_id_map

	processing-model:process

●●mdn_urls
dom-performancenavigationtiming:API/PerformanceNavigationTiming
dom-performancetiming:API/PerformanceTiming
dom-performancenavigation:API/PerformanceNavigation
	dom-navigationtimingtype:API/NavigationTimingType
dom-performance-timing:API/Performance/timing
dom-performance-navigation:API/Performance/navigation
dom-performancenavigationtiming-domcomplete:API/PerformanceNavigationTiming/domComplete
dom-performancenavigationtiming-domcontentloadedeventend:API/PerformanceNavigationTiming/domContentLoadedEventEnd
dom-performancenavigationtiming-domcontentloadedeventstart:API/PerformanceNavigationTiming/domContentLoadedEventStart
dom-performancenavigationtiming-dominteractive:API/PerformanceNavigationTiming/domInteractive
dom-performancenavigationtiming-loadeventend:API/PerformanceNavigationTiming/loadEventEnd
dom-performancenavigationtiming-loadeventstart:API/PerformanceNavigationTiming/loadEventStart
dom-performancenavigationtiming-redirectcount:API/PerformanceNavigationTiming/redirectCount
dom-performancenavigationtiming-tojson:API/PerformanceNavigationTiming/toJSON
dom-performancenavigationtiming-type:API/PerformanceNavigationTiming/type
dom-performancenavigationtiming-unloadeventend:API/PerformanceNavigationTiming/unloadEventEnd
dom-performancenavigationtiming-unloadeventstart:API/PerformanceNavigationTiming/unloadEventStart

●●link_map


	●I
Exposed:~WEBIDLjs#Exposed
Default:~WEBIDLjs#Default
SameObject:~WEBIDLjs#SameObject

I.PerformanceTiming:#dom-performancetiming
I.PerformanceNavigation:#dom-performancenavigation
I.PerformanceNavigationTiming:#dom-performancenavigationtiming
I.NavigationTimingType:#dom-navigationtimingtype

I.DOMHighResTimeStamp:~HRTIME#dom-domhighrestimestamp
I.PerformanceEntry:~TIMELINE#dom-performanceentry
I.PerformanceResourceTiming:~RESOURCE-TIMING#dom-performanceresourcetiming
I.NotRestoredReasons:~WINDOW#notrestoredreasons
I.Window:~WINDOW#window
I.FetchEvent:~SW1#fetchevent

~window:~WINDOW#the-window-object

文書:~HTMLdom#the-document-object
	I.Document:~HTMLdom#document
	文書:~DOM4#document
	文書:~DOM4#concept-document

	I.Performance:#dom-performance

	●m
m.connectEnd:~RESOURCE-TIMING#dom-performanceresourcetiming-connectend
m.connectStart:~RESOURCE-TIMING#dom-performanceresourcetiming-connectstart
m.decodedBodySize:~RESOURCE-TIMING#dom-performanceresourcetiming-decodedbodysize
m.domainLookupEnd:~RESOURCE-TIMING#dom-performanceresourcetiming-domainlookupend
m.domainLookupStart:~RESOURCE-TIMING#dom-performanceresourcetiming-domainlookupstart
m.encodedBodySize:~RESOURCE-TIMING#dom-performanceresourcetiming-encodedbodysize
m.fetchStart:~RESOURCE-TIMING#dom-performanceresourcetiming-fetchstart
m.workerStart:~RESOURCE-TIMING#dom-performanceresourcetiming-workerstart
m.nextHopProtocol:~RESOURCE-TIMING#dom-performanceresourcetiming-nexthopprotocol
m.redirectEnd:~RESOURCE-TIMING#dom-performanceresourcetiming-redirectend
m.redirectStart:~RESOURCE-TIMING#dom-performanceresourcetiming-redirectstart
m.requestStart:~RESOURCE-TIMING#dom-performanceresourcetiming-requeststart
m.responseEnd:~RESOURCE-TIMING#dom-performanceresourcetiming-responseend
m.responseStart:~RESOURCE-TIMING#dom-performanceresourcetiming-responsestart
m.secureConnectionStart:~RESOURCE-TIMING#dom-performanceresourcetiming-secureconnectionstart
m.transferSize:~RESOURCE-TIMING#dom-performanceresourcetiming-transfersize

m.supportedEntryTypes:~TIMELINE#dom-performanceobserver-supportedentrytypes

m.unloadEventStart:#dom-performancenavigationtiming-unloadeventstart
m.unloadEventEnd:#dom-performancenavigationtiming-unloadeventend
m.domInteractive:#dom-performancenavigationtiming-dominteractive
m.domContentLoadedEventStart:#dom-performancenavigationtiming-domcontentloadedeventstart
m.domContentLoadedEventEnd:#dom-performancenavigationtiming-domcontentloadedeventend
m.domComplete:#dom-performancenavigationtiming-domcomplete
m.loadEventStart:#dom-performancenavigationtiming-loadeventstart
m.loadEventEnd:#dom-performancenavigationtiming-loadeventend
m.type:#dom-performancenavigationtiming-type
m.redirectCount:#dom-performancenavigationtiming-redirectcount
m.criticalCHRestart:#dom-performancenavigationtiming-criticalchrestart
m.notRestoredReasons:#dom-performancenavigationtiming-notrestoredreasons
m.toJSON():#dom-performancenavigationtiming-tojson

m.entryType:~TIMELINE#dom-performanceentry-entrytype
m.startTime:~TIMELINE#dom-performanceentry-starttime
m.duration:~TIMELINE#dom-performanceentry-duration

m.getEntriesByType:~TIMELINE#dom-performance-getentriesbytype
m.performance:~HRTIME#dom-windoworworkerglobalscope-performance
m.timeOrigin:~HRTIME#dom-performance-timeorigin

	#dom-performancetiming-*
	1.navigationStart
	1.unloadEventStart
	1.unloadEventEnd
	1.redirectStart
	1.redirectEnd
	1.fetchStart
	1.domainLookupStart
	1.domainLookupEnd
	1.connectStart
	1.connectEnd
	1.secureConnectionStart
	1.requestStart
	1.responseStart
	1.responseEnd
	1.domLoading
	1.domInteractive
	1.domContentLoadedEventStart
	1.domContentLoadedEventEnd
	1.domComplete
	1.loadEventStart
	1.loadEventEnd
	1.toJSON

	#dom-performancenavigation-*
	1n.TYPE_NAVIGATE
	1n.TYPE_RELOAD
	1n.TYPE_BACK_FORWARD
	1n.TYPE_RESERVED
	1n.type
	1n.redirectCount
	1n.toJSON

1.timing:#dom-performance-timing
1.navigation:#dom-performance-navigation

	●
et.DOMContentLoaded:~HTMLindex#event-domcontentloaded
	#DOMContentLoaded

l.back_forward:#dom-navigationtimingtype-back_forward
l.navigate:#dom-navigationtimingtype-navigate
l.reload:#dom-navigationtimingtype-reload

v.refresh:~HEmetadata#attr-meta-http-equiv-refresh


	●用語
現在の文書:#dfn-current-document


pT.文書~load計時:#dfn-document-load-timing
pT.前-文書の~unload計時:#dfn-previous-document-unload-timing
pT.~navi種別:#dfn-navigation-type
pT.~redirect回数:#dfn-redirect-count
pT.~sw計時:#dfn-service-worker-timing
pT.~Critical-CH~restart時刻:#dfn-critical-ch-restart-time
pT.復旧されない事由~群:#dfn-not-restored-reasons

doc.~navi計時~entry:#dfn-navigation-timing-entry
~navi計時を~queueする:#dfn-queue-the-navigation-timing-entry
~navi計時~entryを作成する:#dfn-create-the-navigation-timing-entry

	●用語（ level 1
局所~cache等:#_cache-or-local
~navi:~HTMLnav#navigate
持続的な接続:~HTTPv1#persistent.connections
	https://www.w3.org/Protocols/rfc2616/rfc2616-sec8.html#sec8.1
	関連な~app~cache:#_relevant-application-cache
~unloadを~prompt:~HTMLnav#checking-if-unloading-is-canceled
	廃）~HTMLnav#checking-if-unloading-is-user-canceled
	廃）~HTMLnav#prompt-to-unload-a-document
要請~method:~FETCH#concept-request-method
	rq.~redirect回数:~FETCH#concept-request-redirect-count

	●用語 HTML

文書~load計時~報:~HTMLdom#document-load-timing-info
~DOM完了-時刻:~HTMLdom#dom-complete-time
~DOMContentLoaded~event開始~時刻:~HTMLdom#dom-content-loaded-event-start-time
~DOMContentLoaded~event終了~時刻:~HTMLdom#dom-content-loaded-event-end-time
~DOMヤリトリあり時刻:~HTMLdom#dom-interactive-time
~load~event開始~時刻:~HTMLdom#load-event-start-time
~load~event終了~時刻:~HTMLdom#load-event-end-time

文書~unload計時~報:~HTMLdom#document-unload-timing-info
~unload~event開始~時刻:~HTMLdom#unload-event-start-time
~unload~event終了~時刻:~HTMLdom#unload-event-end-time

doc.現在の準備度:~HTMLdom#current-document-readiness
doc.~URL:~HTMLdom#the-document's-address
doc.前-文書の~unload計時~報:~HTMLdom#previous-document-unload-timing
doc.~load計時~報:~HTMLdom#load-timing-info

閲覧~文脈:~HTMLds#browsing-context
~navigable:~HTMLds#navigable
nav.作動中な文書:~HTMLds#nav-document

結付けられた文書:~WINDOW#concept-document-window
NRR.作成する:~WINDOW#create-a-notrestoredreasons-object
文書の復旧されない事由~群:~WINDOW#concept-document-nrr

関連な設定群~obj:~WAPI#relevant-settings-object
関連な大域~obj:~WAPI#concept-relevant-global
enV.時刻起点:~WAPI#concept-settings-object-time-origin

緩い同一-生成元~施策:~ORIGIN#relaxing-the-same-origin-restriction
生成元:~ORIGIN#concept-origin
同一-生成元:~ORIGIN#same-origin

履歴~取扱いの挙動:~HTMLnav#history-handling-behavior
hH.replace:~HTMLnav#navigationhistorybehavior-replace
hH.push:~HTMLnav#navigationhistorybehavior-push
新たな~pageで~session履歴を更新する:~HTMLnav#apply-the-history-step
	廃）~NAVI#update-the-session-history-with-the-new-page

文書を~unloadする:~HTMLlifecycle#unload-a-document
	§ 文書の~unload法:~HTMLlifecycle#unloading-documents

gL.~realm:~WAPI#concept-global-object-realm
	~HTMLparsing#the-end:event-domcontentloaded


	●用語（外部
新たな~obj:~WEBIDLjs#new

処理能~時列線:~TIMELINE#dfn-performance-timeline
処理能~entryを~queueする:~TIMELINE#dfn-queue-a-performanceentry
処理能~entry~buffer:~TIMELINE#dfn-performance-entry-buffer
処理能~entry~buffer~map:~TIMELINE#dfn-performance-entry-buffer-map

資源~計時~entryを設定しておく:~RESOURCE-TIMING#dfn-setup-the-resource-timing-entry

~URL~scheme:~URL1#concept-url-scheme

~fetch:~FETCH#concept-fetch
~fetching:~FETCH#concept-fetch
~fetch計時~報:~FETCH#fetch-timing-info
応答~本体~報:~FETCH#response-body-info
~HTTP~redirect:~FETCH#redirect-status

~sw:~SW1#dfn-service-worker
~sw計時~報:~SW1#service-worker-timing-info
swT.開始~時刻:~SW1#service-worker-timing-info-start-time
swT.~fetch~event配送-時刻:~SW1#service-worker-timing-info-fetch-event-dispatch-time


既定の~toJSON手続き:~WEBIDLjs#default-tojson-steps

~HTTP~cache:~HTTPcache#cache

●●ref_normative

[dom]
    DOM Standard. Anne van Kesteren. WHATWG. Living Standard. URL: https://dom.spec.whatwg.org/ 
[FETCH]
    Fetch Standard. Anne van Kesteren. WHATWG. Living Standard. URL: https://fetch.spec.whatwg.org/ 
[HR-TIME]
    High Resolution Time. Yoav Weiss. W3C. 7 November 2024. W3C Working Draft. URL: https://www.w3.org/TR/hr-time-3/ 
[HTML]
    HTML Standard. Anne van Kesteren; Domenic Denicola; Dominic Farolino; Ian Hickson; Philip Jägenstedt; Simon Pieters. WHATWG. Living Standard. URL: https://html.spec.whatwg.org/multipage/ 
[NAVIGATION-TIMING]
    Navigation Timing. Zhiheng Wang. W3C. 17 December 2012. W3C Recommendation. URL: https://www.w3.org/TR/navigation-timing/ 
[PERFORMANCE-TIMELINE-2]
    Performance Timeline. Nicolas Pena Moreno. W3C. 21 May 2025. CRD. URL: https://www.w3.org/TR/performance-timeline/ 
[RESOURCE-TIMING-2]
    Resource Timing. Yoav Weiss; Noam Rosenthal. W3C. 20 August 2025. CRD. URL: https://www.w3.org/TR/resource-timing/ 
[RFC2119]
    Key words for use in RFCs to Indicate Requirement Levels. S. Bradner. IETF. March 1997. Best Current Practice. URL: https://www.rfc-editor.org/rfc/rfc2119 
[RFC2616]
    Hypertext Transfer Protocol -- HTTP/1.1. R. Fielding; J. Gettys; J. Mogul; H. Frystyk; L. Masinter; P. Leach; T. Berners-Lee. IETF. June 1999. Draft Standard. URL: https://www.rfc-editor.org/rfc/rfc2616 
[RFC7234]
    Hypertext Transfer Protocol (HTTP/1.1): Caching. R. Fielding, Ed.; M. Nottingham, Ed.; J. Reschke, Ed. IETF. June 2014. Proposed Standard. URL: https://httpwg.org/specs/rfc7234.html 
[RFC8174]
    Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words. B. Leiba. IETF. May 2017. Best Current Practice. URL: https://www.rfc-editor.org/rfc/rfc8174 
[service-workers]
    Service Workers. Yoshisato Yanagisawa; Monica CHINTALA. W3C. 6 March 2025. CRD. URL: https://www.w3.org/TR/service-workers/ 
[URL]
    URL Standard. Anne van Kesteren. WHATWG. Living Standard. URL: https://url.spec.whatwg.org/ 
[WEBIDL]
    Web IDL Standard. Edgar Chen; Timothy Gu. WHATWG. Living Standard. URL: https://webidl.spec.whatwg.org/ 

●●ref_informative

[HR-TIME-2]
    High Resolution Time Level 2. Ilya Grigorik. W3C. 21 November 2019. W3C Recommendation. URL: https://www.w3.org/TR/hr-time-2/ 
[JSMEASURE]
    Measuring Client-Perceived Response Times on the WWW. Ramakrishnan Rajamony; Mootaz Elnozahy. March 2001. The Proceedings of the 3rd USENIX Symposium on Internet Technologies and Systems (USITS). URL: http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.69.7329&rep=rep1&type=pdf 


●●trans_metadata
<p>
~THIS_PAGEは、~W3Cにより
編集者草案として公開された
<a href="~SPEC_URL">Navigation Timing Level 2</a>
を日本語に翻訳したものです（ level 1 仕様も
<a href="#obsolete">§ 廃用</a>
に取り込まれています）。
~PUB
</p>


●●spec_metadata

最新公表バージョン
	https://www.w3.org/TR/navigation-timing-2/
公表履歴
	https://www.w3.org/standards/history/navigation-timing-2/
編集者草案
	https://w3c.github.io/navigation-timing/
commit 履歴
	https://github.com/w3c/navigation-timing/commits/
テスト一式
	https://wpt.fyi/navigation-timing/
編集
	<a href="https://blog.yoav.ws/">Yoav Weiss</a> (Google)
	<a href="mailto:noam.j.rosenthal@gmail.com">Noam Rosenthal</a> (Invited Expert)
前任編集者
	<a href="https://www.igvita.com/">Ilya Grigorik</a> (Google)
	<a href="mailto:tobint@microsoft.com">Tobin Titus</a> (Microsoft Corp.) - Until 01 January 2015
	<a href="mailto:jmann@microsoft.com">Jatinder Mann</a>, (Microsoft Corp.) - Until 01 February 2014
	<a href="mailto:arvind@google.com">Arvind Jain</a> (Google Inc.) - Until 01 December 2014

フィードバック
	<a href="https://github.com/w3c/navigation-timing/">GitHub w3c/navigation-timing</a> (<a href="https://github.com/w3c/navigation-timing/pulls/">pull requests</a>, <a href="https://github.com/w3c/navigation-timing/issues/new/choose">new issue</a>, <a href="https://github.com/w3c/navigation-timing/issues/">open issues</a>)
	<a href="public-web-perf@w3.org">public-web-perf@w3.org</a> with subject line [NavigationTiming] (<a href="https://lists.w3.org/Archives/Public/public-web-perf">archives</a>)

ブラウザサポート
	https://caniuse.com/nav-timing

公表者
	<a href="https://www.w3.org/groups/wg/webperf">Web Performance WG</a>

</script>

</head>

<body>

<header>

	<hgroup>
<h1>ナビの計時 — Navigation Timing Level 2</h1>
	</hgroup>

</header>

<div id="MAIN" hidden>
	<section class="introductory" id="abstract">
◎要約

<p>
この仕様は、
~web~appが文書の~naviに関する完全な計時~情報に~accessするための~interfaceを定義する。
◎
This specification defines an interface for web applications to access the complete timing information for navigation of a document.
</p>
	</section>

	<section id="sotd" class="introductory">
◎位置付け

<p>
これは、
編集者草案の公な複製です…
【以下、この節の他の内容は，~SOTD-W3Cに移譲。】
</p>

<p>
Navigation Timing 2 は、
その最初の~versionである
`NAVIGATION-TIMING$r
を置き換えるものであり、
次に挙げる変更を含んでいます：
◎
Navigation Timing 2 replaces the first version of [NAVIGATION-TIMING] and includes the following changes:
</p>

<ul>
	<li>
`Performance^I ~interfaceの定義は
`PERFORMANCE-TIMELINE-2$r
に移動された。
◎
the definition of Performance interface was moved to [PERFORMANCE-TIMELINE-2];
</li>
	<li>
`RESOURCE-TIMING-2$r の上に築かれる。
◎
builds on top of [RESOURCE-TIMING-2];
</li>
	<li>
`PERFORMANCE-TIMELINE-2$r
の~support。
◎
support for [PERFORMANCE-TIMELINE-2];
</li>
	<li>
`HR-TIME-2$r
の~support。
◎
support for [HR-TIME-2];
</li>
	<li>
最後の非~redirect~naviからの~redirect回数
— `redirectCount$m —
を公開する。
◎
exposes number of redirects since the last non-redirect navigation;
</li>
	<li>
次の~hopの~network~protocol
— `nextHopProtocol$m —
を公開する
◎
exposes next hop network protocol;
</li>
	<li>
［
転送 ／ 符号化された本体 ／ 復号された本体
］~size情報
— `transferSize$m ／ `encodedBodySize$m ／ `decodedBodySize$m —
を公開する。
◎
exposes transfer, encoded body and decoded body size information;
</li>
	<li>
`secureConnectionStart$m
属性の~supportは、
今や，義務とされた。
◎
secureConnectionStart attribute is now mandatory.
</li>
</ul>

	</section>

<main id="MAIN0">

	<section id="introduction">
<h2 title="Introduction">1. 序論</h2>

◎非規範的

<p>
~web~appの処理能~特性の測定-法は、
~web~appをより高速にするために重要な側面になる。
`JSMEASURE$r
などの~JSに基づく仕組みは、
~appにおける利用者の待時間（ `latency^en ）測定~用の包括的な~~手段を供せる一方で、
多くの事例で，それらは端点間における待時間の完全なあるいは詳細な様相を供せない。
例えば，次の~JSは、
~pageが全部的に~loadされるまでの時間を，ごく素朴に測定しようと試みる：
◎
Accurately measuring performance characteristics of web applications is an important aspect of making web applications faster. While JavaScript-based mechanisms, such as the one described in [JSMEASURE], can provide comprehensive instrumentation for user latency measurements within an application, in many cases, they are unable to provide a complete or detailed end-to-end latency picture. For example, the following JavaScript shows a naive attempt to measure the time it takes to fully load a page:
</p>

<div class="example">

<pre class="lang-html">
&lt;html&gt;
&lt;head&gt;
&lt;script type="text/javascript"&gt;
var start = new Date().getTime();
function onLoad() {
  var now = new Date().getTime();
  var latency = now - start;
  alert("page loading time: " + latency);
}
&lt;/script&gt;
&lt;/head&gt;
&lt;body onload="onLoad()"&gt;
&lt;!-- <span class="comment">
~page本体の内容…
◎
Main page body goes from here.
</span> --&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre>

</div>

<p>
上の~scriptは `head^e ~tag内の最初の~JS~codeが実行されて<strong>以降から</strong>，~pageが~loadされるまでの時間は計算するが、
~serverから~pageを得るために要した時間や, ~pageの初期~化 lifecycle 【！ ＊ 】についての情報は与えない。
◎
The above script calculates the time it takes to load the page after the first bit of JavaScript in the head is executed, but it does not give any information about the time it takes to get the page from the server, or the initialization lifecycle of the page.
</p>

<p>
この仕様は、
文書の~naviに関係する高分解能な処理能~計量~dataを格納する／検索取得するための，
`PERFORMANCE-TIMELINE-2$r
に関与する `PerformanceNavigationTiming$I ~interfaceを定義する。
`PerformanceNavigationTiming$I ~interfaceは `HR-TIME$r を利用するので、
すべての時刻~値は，
当の~entryに`関連な設定群~obj$の`時刻起点$enVを~~基準に測定される。
【したがって、 `PerformanceNavigationTiming^I ~interfaceが返す時刻~値 0 は，`時刻起点$enVを表すことになる。】
◎
This specification defines the PerformanceNavigationTiming interface which participates in the [PERFORMANCE-TIMELINE-2] to store and retrieve high resolution performance metric data related to the navigation of a document. As the PerformanceNavigationTiming interface uses [HR-TIME], all time values are measured with respect to the time origin of the entry's relevant settings object.
</p>

<div class="example">
<p>
例えば，~HTTP応答の終了が~naviの開始から 100ms 後であったとするなら、
`PerformanceNavigationTiming$I
の~dataは次の様になるであろう：
◎
For example, if we know that the response end occurs 100ms after the start of navigation, the PerformanceNavigationTiming data could look like so:
</p>

<pre>
startTime:           0.000  /* <span class="comment">
~navi要請の開始~時刻
◎
start time of the navigation request
</span> */
responseEnd:       100.000  /* <span class="comment">
最後の~byteが受信された高分解能な時刻
◎
high resolution time of last received byte
</span> */
</pre>
</div>

<p>
文書の~naviに関係する正確aな計時~dataを得するために，
`PerformanceNavigationTiming$I
~interfaceを利用する例を次の~scriptに示す：
◎
The following script shows how a developer can use the PerformanceNavigationTiming interface to obtain accurate timing data related to the navigation of the document:
</p>

<div class="example">

<pre class="lang-html">
&lt;script&gt;
function showNavigationDetails() {
  /* <span class="comment">
最初の~entryを取得する
◎
Get the first entry
</span> */
  const [%entry] = performance.getEntriesByType("navigation");
  /* <span class="comment">
結果を開発者~console内に表tの~~形で示す
◎
Show it in a nice table in the developer console
</span> */
  console.table(%entry.toJSON());
}
&lt;/script&gt;
&lt;body onload="showNavigationDetails()"&gt;
</pre>

<div class="_test" id="_test_level2">【
利用中の~UAで、
この~scriptに等価な処理を
<button onclick="get_timing_data2()">試みる</button>
】
<pre id="_test_output2">（結果は~consoleではなく，ここに示される）</pre>
【
他~pageでも利用できる`ブックマークレット＠~bookmarklet2$（結果は~consoleに示される）
】【
`~level 1 実装~用のもの＠#_test_level1$もある
】
</div>

</div>

	</section>
	<section id="terminology">
<h2 title="Terminology">2. 各種用語</h2>

<p class="trans-note">【
この節の内容うち一部は省略する。
】
◎
The construction "a Foo object", where Foo is actually an interface, is sometimes used instead of the more accurate "an object implementing the interface Foo.
</p>

<p>
【この仕様の~APIの記述に現れる】
`現在の文書@
（ `current document^en ）は、
【コレに`関連な大域~obj$である】`~window$に`結付けられた文書$を指す。
◎
The term current document refers to the document associated with the Window object's newest Document object.
</p>

<p class="trans-note">【
加えて，
“前-文書”
（ `previous document^en ）は、
`現在の文書$へ~navigateされる前の時点で，同じ`~navigable$にて`作動中な文書$navであったものを指す（もしあれば）。
】</p>

<p id="_measured-since">
この仕様を通して、
時刻は，文書の~naviの開始から~milli秒数で測定される。
例えば，文書の~naviの開始は、
時刻 0 で生じる。
語 “〜の時刻” は、［
文書の~naviの開始から その時点までに経過した~milli秒数
］による時刻を指す。
この［
時刻の定義
］は、
`HR-TIME$r に基づく。
◎
Throughout this work, all time values are measured in milliseconds since the start of navigation of the document. For example, the start of navigation of the document occurs at time 0. The term current time refers to the number of milliseconds since the start of navigation of the document until the current moment in time. This definition of time is based on [HR-TIME] specification.
</p>

	</section>
	<section id="sec-navigation-timing">
<h2 title="Navigation Timing">3. ~naviの計時</h2>

		<section id="performanceentry">
<h3 title="Relation to the PerformanceEntry interface">3.1. `PerformanceEntry^I ~interfaceとの関係</h3>

<p>
`PerformanceNavigationTiming$I ~interfaceは、
次に挙げる［
`PerformanceEntry$I ~interfaceの属性
］を拡張する：
◎
PerformanceNavigationTiming interface extends the following attributes of PerformanceEntry interface:
</p>
<ul>
	<li class="algo">
`entryType$m 取得子~手続きは
⇒
~RET `navigation^l
◎
The entryType getter step is to return the DOMString "navigation".
</li>
	<li class="algo">
`startTime$m 取得子~手続きは
⇒
~RET `DOMHighResTimeStamp$I 値 0
◎
The startTime getter step is to return a DOMHighResTimeStamp with a time value of 0.
</li>
	<li class="algo">
`duration$m 取得子~手続きは
⇒
~RET ［
コレの `startTime$m からコレの `loadEventEnd$m までの時間~差
］に等しい `DOMHighResTimeStamp$I 値
◎
The duration getter step is to return a DOMHighResTimeStamp equal to the difference between loadEventEnd and this's startTime.
</li>
</ul>

<p class="note">注記：
`PerformanceNavigationTiming$I を実装する~UAは、
その~supportを開発者が検出できるよう，`~window$文脈~用の `supportedEntryTypes$m 内に `navigation^l を含める必要がある。
◎
Note
A user agent implementing PerformanceNavigationTiming would need to include "navigation" in supportedEntryTypes for Window contexts. This allows developers to detect support for Navigation Timing.
</p>

		</section>
		<section id="PerformanceResourceTiming">
<h3 title="Relation to the PerformanceResourceTiming interface">3.2. `PerformanceResourceTiming^I ~interfaceとの関係</h3>

<p>
`PerformanceNavigationTiming$I ~interfaceは、
次に挙げる［
`PerformanceResourceTiming$I ~interfaceの属性
］を拡張する：
◎
PerformanceNavigationTiming interface extends the following attributes of the PerformanceResourceTiming interface:
</p>

<ul>
	<li class="algo">
<p>
`redirectStart$m
取得子~手続きは：
◎
The redirectStart getter steps are to perform the following steps:
</p>
		<ol>
			<li>
~IF［
コレの`~redirect回数$pT ~EQ 0
］
⇒
~RET 0
◎
If this's [=PerformanceNavigationTiming/redirect count] is 0, return 0.
</li>
			<li>
~RET コレの `redirectStart$m
【 `PerformanceResourceTiming$I の `redirectStart$m 取得子~手続き() 】
◎
Otherwise return this's redirectStart.
</li>
		</ol>
	</li>
	<li class="algo">
<p>
`redirectEnd$m
取得子~手続きは：
◎
The redirectEnd getter steps are to perform the following steps:
</p>
		<ol>
			<li>
~IF［
コレの`~redirect回数$pT ~EQ 0
］
⇒
~RET 0
◎
If this's [=PerformanceNavigationTiming/redirect count] is 0, return 0.
</li>
			<li>
~RET コレの `redirectEnd$m
【 `PerformanceResourceTiming$I の `redirectEnd$m 取得子~手続き() 】
◎
Otherwise return this's redirectEnd.
</li>
		</ol>
	</li>
	<li class="algo">
<p>
`workerStart$m
取得子~手続きは：
◎
The workerStart getter steps are to perform the following steps:
</p>
		<ol>
			<li>
%~worker計時 ~LET コレの`~sw計時$pT
◎
Let workerTiming be this's service worker timing.
</li>
			<li>
~IF［
%~worker計時 ~EQ ~NULL
］
⇒
~RET コレの~prototypeの `workerStart$m 取得子~手続き()
◎
If workerTiming is null, then return this's prototype's workerStart.
</li>
			<li>
~RET %~worker計時 の`開始~時刻$swT
◎
Return workerTiming's start time.
</li>
		</ol>

<p class="note">注記：
`workerStart$m は `PerformanceResourceTiming$I にて公開されるが、
~navi計時における その意味は異なる
— ~naviは、
下位資源と違って，
~swの［
作動化／稼働
］を誘発し得るので。
~navi計時の文脈における `workerStart^m は、
当の~workerが作動化されるか開始される直前に測定された時刻印を返す。
精確な定義は、
`service-workers$r を見よ。
◎
Note
Though workerStart is exposed in PerformanceResourceTiming, it has a different meaning in Navigation Timing, as unlike subresources, a navigation may trigger the activation or running of a service worker. In the context of Navigation Timing, workerStart returns the timestamp measured just before the worker has been activated or started. See [service-workers] for a precise definition.
</p>
	</li>
	<li class="algo">
<p>
`fetchStart$m
取得子~手続きは：
◎
The workerStart getter steps are to perform the following steps:
</p>
		<ol>
			<li>
%~worker計時 ~LET コレの`~sw計時$pT
◎
Let workerTiming be this's service worker timing.
</li>
			<li>
~IF［
%~worker計時 ~EQ ~NULL
］
⇒
~RET コレの~prototypeの `fetchStart$m 取得子~手続き()
◎
If workerTiming is null, then return this's prototype's fetchStart.
</li>
			<li>
~RET %~worker計時 の`~fetch~event配送-時刻$swT
◎
Return workerTiming's fetch event dispatch time.
</li>
		</ol>

<p class="note">注記：
`~sw$が~naviの一部として利用される場合、
~navi計時における `fetchStart$m の意味は，
`PerformanceResourceTiming$I における それと異なる。
それは、［
`~sw$に向けて `FetchEvent$I が配送される直前
］に測定された時刻印を返す。
`現在の文書$の~navi計時~entryにおける［
`workerStart$m と `fetchStart$m の時間~差
］を利用すれば、
当の~workerが［
初期化される／作動化される
］までにかかった およその~~時間を決定できる。
精確な定義は、
`service-workers$r を見よ。
◎
Note
When a service worker is used as part of the navigation, The fetchStart overload holds a different meaning than the meaning in PerformanceResourceTiming. It returns the timestamp measured right before the FetchEvent is dispatched for the service worker. The time difference between workerStart and fetchStart in the document's navigation timing entry can be used to determine roughly how long it took for the worker to be initialized or activated. See [service-workers] for a precise definition.
</p>
	</li>
</ul>

<p class="note">注記：
`処理能~時列線$に含められるのは、
`現在の文書$を与える資源に限られる
— `処理能~時列線$内にある `PerformanceNavigationTiming$I ~objは 1 個に限られる。
◎
Note
Only the current document resource is included in the performance timeline; there is only one PerformanceNavigationTiming object in the performance timeline.
</p>

		</section>
		<section id="sec-PerformanceNavigationTiming">
<h3 title="The PerformanceNavigationTiming interface">3.3. `PerformanceNavigationTiming^I ~interface</h3>

<p class="note">注記：
`~HTTP~cache$ `RFC7234$r を検査して，そこから内容を検索取得することは、
`~fetching$の一部を成す。
それは、［
`requestStart$m, `responseStart$m, `responseEnd$m
］属性が受持つ。
◎
Note
Checking and retrieving contents from the HTTP cache [RFC7234] is part of the fetching process. It's covered by the requestStart, responseStart and responseEnd attributes.
</p>

<pre class="idl">
[`Exposed$=Window]
interface `PerformanceNavigationTiming@I : `PerformanceResourceTiming$I {
    readonly attribute `DOMHighResTimeStamp$I `unloadEventStart$m;
    readonly attribute `DOMHighResTimeStamp$I `unloadEventEnd$m;
    readonly attribute `DOMHighResTimeStamp$I `domInteractive$m;
    readonly attribute `DOMHighResTimeStamp$I `domContentLoadedEventStart$m;
    readonly attribute `DOMHighResTimeStamp$I `domContentLoadedEventEnd$m;
    readonly attribute `DOMHighResTimeStamp$I `domComplete$m;
    readonly attribute `DOMHighResTimeStamp$I `loadEventStart$m;
    readonly attribute `DOMHighResTimeStamp$I `loadEventEnd$m;
    readonly attribute `NavigationTimingType$I `type$m;
    readonly attribute unsigned short `redirectCount$m;
    readonly attribute `DOMHighResTimeStamp$I `criticalCHRestart$m;
    readonly attribute `NotRestoredReasons$I? `notRestoredReasons$m;
    [`Default$] object `toJSON()$m;
};
</pre>

<p>
各 `PerformanceNavigationTiming$I ~objには、
次に挙げるものが結付けられる：
◎
↓</p>
<ul>
	<li>
`文書~load計時@pT
⇒
`文書~load計時~報$
◎
A PerformanceNavigationTiming has an associated document load timing info document load timing.
</li>
	<li>
`前-文書の~unload計時@pT
⇒
`文書~unload計時~報$
◎
A PerformanceNavigationTiming has an associated document unload timing info previous document unload timing.
</li>
	<li>
`~redirect回数@pT
⇒
整数
◎
A PerformanceNavigationTiming has an associated number redirect count.
</li>
	<li>
`~navi種別@pT
⇒
`NavigationTimingType$I 値
◎
A PerformanceNavigationTiming has an associated NavigationTimingType navigation type.
</li>
	<li>
<p>
`~Critical-CH~restart時刻@pT
⇒
`DOMHighResTimeStamp$I 値
◎
A PerformanceNavigationTiming has an associated DOMHighResTimeStamp Critical-CH restart time.
</p>

<p class="trans-note">【
~Critical-CHは、
~HTTP~header名
— 参考：
`仕様＠https://www.ietf.org/archive/id/draft-davidben-http-client-hint-reliability-03.html$,
`MDN＠https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Critical-CH$
】</p>
	</li>
	<li>
`復旧されない事由~群@pT
⇒
`NotRestoredReasons$I ~obj
◎
A PerformanceNavigationTiming has an associated NotRestoredReasons not restored reasons.
</li>
	<li>
`~sw計時@pT
⇒
~NULL／`~sw計時~報$
◎
A PerformanceNavigationTiming has an associated null or service worker timing info service worker timing.
</li>
</ul>

<div class="algo">
<p>
`unloadEventStart@m
取得子~手続きは
⇒
~RET コレの`前-文書の~unload計時$pTの`~unload~event開始~時刻$
◎
The unloadEventStart getter steps are to return this's previous document unload timing's unload event start time.
</p>

<p class="note">注記：
前-文書は在る, かつ それは`現在の文書$と`同一-生成元$である場合、
この時刻印は，~UAが前-文書の `unload^et ~eventを
— `文書を~unloadする$手続きの中で —
開始する直前に測定される。
他の場合、
この属性は 0 を返すことになる。
◎
Note
If the previous document and the current document have the same origin, this timestamp is measured immediately before the user agent starts the unload event of the previous document. If there is no previous document or the previous document has a different origin than the current document, this attribute will return zero.
</p>
</div>

<div class="algo">
<p>
`unloadEventEnd@m
取得子~手続きは
⇒
~RET コレの`前-文書の~unload計時$pTの`~unload~event終了~時刻$
◎
The unloadEventEnd getter steps are to return this's previous document unload timing's unload event end time.
</p>

<p class="note">注記：
前-文書は在る, かつ それは`現在の文書$と`同一-生成元$である場合、
この時刻印は，~UAが前-文書の `unload^et ~eventを
— `文書を~unloadする$手続きの中で —
取扱った直後に測定される。
他の場合、
この属性は 0 を返すことになる。
◎
Note
If the previous document and the current document have the same origin, this timestamp is measured immediately after the user agent handles the unload event of the previous document. If there is no previous document or the previous document has a different origin than the current document, this attribute will return zero.
</p>
</div>

<div class="algo">
<p>
`domInteractive@m
取得子~手続きは
⇒
~RET コレの`文書~load計時$pTの`~DOMヤリトリあり時刻$
◎
The domInteractive getter steps are to return this's document load timing's DOM interactive time.
</p>

<p class="note">注記：
この時刻印は、
~UAが`現在の文書$の`現在の準備度$docを `interactive^l に`設定する＠~HTMLdom#update-the-current-document-readiness$前【！~HTMLparsing#the-end】に測定される。
◎
Note
This timestamp is measured before the user agent sets the current document readiness to "interactive".
</p>
</div>

<div class="algo">
<p>
`domContentLoadedEventStart@m
取得子~手続きは
⇒
~RET コレの`文書~load計時$pTの`~DOMContentLoaded~event開始~時刻$
◎
The domContentLoadedEventStart getter steps are to return this's document load timing's DOM content loaded event start time.
</p>

<p class="note">注記：
この時刻印は、
~UAが`現在の文書$に向けて
`DOMContentLoaded^et `~eventを配送する＠~HTMLparsing#the-end:event-domcontentloaded$直前に測定される。
◎
Note
This timestamp is measured before the user agent dispatches the DOMContentLoaded event.
</p>
</div>

<div class="algo">
<p>
`domContentLoadedEventEnd@m
取得子~手続きは
⇒
~RET コレの`文書~load計時$pTの`~DOMContentLoaded~event終了~時刻$
◎
The domContentLoadedEventEnd getter steps are to return this's document load timing's DOM content loaded event end time.
</p>

<p class="note">注記：
この時刻印は、
~UAが`現在の文書$に対する `DOMContentLoaded^et `~eventの取扱い＠~HTMLparsing#the-end:event-domcontentloaded$を完了した直後に測定される。
◎
Note
This timestamp is measured after the user agent completes handling of the DOMContentLoaded event.
</p>
</div>

<div class="algo">
<p>
`domComplete@m
取得子~手続きは
⇒
~RET コレの`文書~load計時$pTの`~DOM完了-時刻$
◎
The domComplete getter steps are to return this's document load timing's DOM complete time.
</p>

<p class="note">注記：
この時刻印は、
~UAが`現在の文書$の`現在の準備度$docを `complete^l に`設定する＠~HTMLdom#update-the-current-document-readiness$【！~HTMLparsing#the-end】前に測定される。
精確な定義は、
`現在の準備度$docを見よ。
◎
Note
This timestamp is measured before the user agent sets the current document readiness to "complete". See document readiness for a precise definition.
</p>
</div>

<div class="algo">
<p>
`loadEventStart@m
取得子~手続きは
⇒
~RET コレの`文書~load計時$pTの`~load~event開始~時刻$
◎
The loadEventStart getter steps are to return this's document load timing's load event start time.
</p>

<p class="note">注記：
この時刻印は、
~UAが`現在の文書$に向けて
`load^et `~eventを配送する＠~HTMLparsing#the-end:event-load$【！the-end:event-event-load】直前に測定される。
◎
Note
This timestamp is measured before the user agent dispatches the load event for the document.
</p>
</div>

<div class="algo">
<p>
`loadEventEnd@m
取得子~手続きは
⇒
~RET コレの`文書~load計時$pTの`~load~event終了~時刻$
◎
The loadEventEnd getter steps are to return this's document load timing's load event end time.
</p>

<p class="note">注記：
この時刻印は、
~UAが`現在の文書$に対する `load^et `~eventの取扱い＠~HTMLparsing#the-end:event-load$【！the-end:event-event-load】を完了した後に測定される。
◎
Note
This timestamp is measured after the user agent completes handling the load event for the document.
</p>
</div>

<div class="algo">
<p>
`type@m
取得子~手続きは
⇒
~RET【！to run the】 コレの`~navi種別$pT
◎
The type getter steps are to run the this's navigation type.
</p>

<p class="note">注記：
`refresh$v ~pragma指令を利用する類いの，~client側~redirectは、
この仕様においては`~HTTP~redirect$とは見なされない。
そのような事例では、
`type$m 属性は適切な値を返すベキである
— ［
現在の~pageを~reloadしている場合は `reload$l ／
新たな~URLへ~navigateしている場合は `navigate$l
］など。
◎
Note
Client-side redirects, such as those using the Refresh pragma directive, are not considered HTTP redirects by this spec. In those cases, the type attribute SHOULD return appropriate value, such as reload if reloading the current page, or navigate if navigating to a new URL.
</p>
</div>

<div class="algo">
<p>
`redirectCount@m
取得子~手続きは
⇒
~RET コレの`~redirect回数$pT
◎
The redirectCount getter steps are to return this's redirect count.
</p>
</div>

<div class="algo">
<p>
`criticalCHRestart@m
取得子~手続きは
⇒
~RET コレの`~Critical-CH~restart時刻$pT
◎
The criticalCHRestart getter steps are to return this's Critical-CH restart time.
</p>

<p class="note">注記：
`criticalCHRestart$m は、
0 でないならば，［
`navigationStart$1【 `timeOrigin$m 】, `unloadEventStart$m, `unloadEventEnd$m
］以外の時刻印より前になる
— それは、［
~naviの~redirectionを成す部分が~restartした時点
］を~markするので。
◎
If criticalCHRestart is not 0 it will be before all other timestamps except for navigationStart, unloadEventStart, and unloadEventEnd. This is because it marks the moment the redirection part of the navigation was restarted.
</p>
</div>

<div class="algo">
`notRestoredReasons@m
取得子~手続きは
⇒
~RET コレの`復旧されない事由~群$pT
◎
The notRestoredReasons getter steps are to return this's not restored reasons.
</div>

<div class="algo">
<p>
`toJSON()@m
~methodは、
コレ用の`既定の~toJSON手続き$を走らす。
◎
The toJSON() method runs the default toJSON steps for this.
</p>
</div>

			<section id="sec-performance-navigation-types">
<h4 title="NavigationTimingType enum">3.3.1. `NavigationTimingType^I 列挙</h4>

<pre class="idl">
enum `NavigationTimingType@I {
    `navigate$l,
    `reload$l,
    `back_forward$l
};
</pre>

<p>
各種 値は、
以下の定義に従う：
◎
The values are defined as follows:
</p>

<dl class="idl-def">
	<dt>`navigate@l</dt>
	<dd>
当の~naviにおける`履歴~取扱いの挙動$は［
`push$hH ／ `replace$hH
］に設定されている。
◎
Navigation where the history handling behavior is set to "default" or "replace".
</dd>

	<dt>`reload@l</dt>
	<dd>
当の~naviは、
当の`~navigable$を`読込直した＠~HTMLnav#reload$。
◎
Navigation where the navigable was reloaded.
</dd>

	<dt>`back_forward@l</dt>
	<dd>
当の~naviは、
`履歴から適用された＠~HTMLnav#apply-the-history-step$。
◎
Navigation that's applied from history.
</dd>
</dl>

<p class="note">注記：
上の列挙~値 `back_forward^l は
`~Web~IDLが推奨する列挙~値の形式＠~WEBIDL#idl-enums$に整合していないが、
出荷-済み実装との後方-互換性を保つため，変更するわけにはいかない。
`WebIDL$r
◎
Note

The format of the above enumeration value is inconsistent with the WebIDL recommendation for formatting of enumeration values. Unfortunately, we are unable to change it due to backwards compatibility issues with shipped implementations. [WebIDL]
</p>

			</section>
		</section>
	</section>
	<section id="processing-model">
<h2>4. ~navi計時~属性</h2>

<p class="trans-note">【
この節は規範的ではない。
（この節の原文の~titleは “処理n~model” であるが、
処理n~modelは，各種 “計時~報” として他の仕様（ `FETCH$r, `HTML$r など）に統合された。）
】
◎
4. Process
◎
4.1. Processing Model
</p>

<figure style="overflow:auto;">
<figcaption>
`PerformanceNavigationTiming$I ~interfaceにて定義される計時~属性を次の図式に示す。
括弧内の属性は、
`同一-生成元$でない文書を孕む~naviでは可用でない。
◎
Figure 1 This figure illustrates the timing attributes defined by the PerformanceNavigationTiming interface. Attributes in parenthesis indicate that they may not be available for navigations involving documents from different origins.
</figcaption>

<div id="_time-table">
<span>（時間は下に向かって進行する。）</span>
	<x-tt-box style="height:0; padding:0 0.5em;">
<x-tt-attr style="top:-0.7em">← `startTime$m【 `~EQ 0 になる＠#performanceentry$ 】</x-tt-attr>
	</x-tt-box>
	<div style="display:flex; gap:1em; align-items:flex-end;">
		<x-tt-box style="height:6em">
~redirect 〜 応答：
`RESOURCE-TIMING$r
による`図式＠~RESOURCE-TIMING#attribute-descriptions$を見よ
		</x-tt-box>
		<x-tt-box style="height:3em">
<x-tt-attr style="top:-0.5em">← ( `unloadEventStart$m )</x-tt-attr>
~unload~eventの処理n（応答と並列的）
<x-tt-attr style="bottom:-0.5em">← ( `unloadEventEnd$m )</x-tt-attr>
		</x-tt-box>
	</div>
	<x-tt-box style="height:5em">
<x-tt-attr style="top:-0.5em">← `domInteractive$m</x-tt-attr>
<x-tt-attr style="top:0.5em">← `domContentLoadedEventStart$m</x-tt-attr>
処理
<x-tt-attr style="bottom:0.5em">← `domContentLoadedEventEnd$m</x-tt-attr>
<x-tt-attr style="bottom:-0.5em">← `domComplete$m</x-tt-attr>
	</x-tt-box>
	<x-tt-box style="height:3em">
<x-tt-attr style="top:-0.5em">← `loadEventStart$m</x-tt-attr>
~load
<x-tt-attr style="bottom:-0.5em">← `loadEventEnd$m</x-tt-attr>
	</x-tt-box>
</div>
<p class="trans-note">【
原文では，［
~redirect 〜 応答
］の箇所にも
`PerformanceResourceTiming$I `RESOURCE-TIMING$r に定義される各~属性が記されているが、
その仕様の図式と重複するので，和訳では省略する。
】【
この訳では、
原文の図式（ ~SVG ）を~HTMLと~CSSによる等価な図式に差し替えている。
】</p>
</figure>

	</section>
	<section id="marking-navigation-timing">
<h2 title="Creating a navigation timing entry">5. ~navi計時~entryの作成-法</h2>

<p>
各 `文書$には、
`~navi計時~entry@doc
が結付けられ，初期~時には ε （未設定）とする。
◎
Each document has an associated navigation timing entry, initially unset.
</p>

<div class="algo">
<p>
`~navi計時~entryを作成する@
~algoは、
所与の
⇒＃
`文書$ %文書,
`~fetch計時~報$ %~fetch計時,
整数 %~redirect回数,
`NavigationTimingType$I %~navi種別,
~NULL／`~sw計時~報$ %~sw計時,
文字列 %~cache~mode,
`DOMHighResTimeStamp$I %~Critical-CH~restart,
`応答~本体~報$ %本体~報
◎終
に対し：
◎
To create the navigation timing entry for Document document, given a fetch timing info fetchTiming, a number redirectCount, a NavigationTimingType navigationType, a null or service worker timing info serviceWorkerTiming, a DOMString cacheMode, a DOMHighResTimeStamp criticalCHRestart, and a response body info bodyInfo, do the following:
</p>
<ol>
	<li>
%大域~obj ~LET %文書 に`関連な大域~obj$
◎
Let global be document's relevant global object.
</li>
	<li>
%~realm ~LET %大域~obj の`~realm$gL
◎
↓</li>
	<li>
%~navi計時~entry ~LET `新たな~obj$( `PerformanceNavigationTiming$I, %~realm )
◎
Let navigationTimingEntry be a new PerformanceNavigationTiming object in global's realm.
</li>
	<li>
`資源~計時~entryを設定しておく$( ↓ )
⇒＃
%~navi計時~entry,
`navigation^l,
%文書 の`~URL$doc,
%~fetch計時,
%~cache~mode,
%本体~報
◎
Setup the resource timing entry for navigationTimingEntry given "navigation", document's URL, fetchTiming, cacheMode, and bodyInfo.
</li>
	<li>
%復旧されない事由~群 ~LET `NotRestoredReasons$I ~objを`作成する$NRR( `文書の復旧されない事由~群$( %文書 )【！ %文書 の`復旧されない事由~群$pT】【, %~realm】 )
◎
↓</li>
	<li>
%~navi計時~entry の
⇒＃
`文書~load計時$pT ~SET %文書 の`~load計時~報$doc,
`前-文書の~unload計時$pT ~SET %文書 の`前-文書の~unload計時~報$doc,
`~redirect回数$pT ~SET %~redirect回数,
`~navi種別$pT ~SET %~navi種別,
`~sw計時$pT ~SET %~sw計時,
`~Critical-CH~restart時刻$pT ~SET %~Critical-CH~restart,
`復旧されない事由~群$pT ~SET %復旧されない事由~群
◎
Set navigationTimingEntry's document load timing to document's load timing info
◎
Set navigationTimingEntry's previous document unload timing to document's previous document unload timing.
◎
Set navigationTimingEntry's redirect count to redirectCount.
◎
Set navigationTimingEntry's navigation type to navigationType.
◎
Set navigationTimingEntry's service worker timing to serviceWorkerTiming. 
◎
↓ Set document's navigation timing entry to navigationTimingEntry.
◎
Set navigationTimingEntry's Critical-CH restart time to criticalCHRestart.
◎
Set navigationTimingEntry's not restored reasons to the result of creating a NotRestoredReasons object given document's not restored reasons.
</li>
	<li>
%文書 の`~navi計時~entry$doc ~SET %~navi計時~entry
◎
↑</li>
	<li>
%大域~obj
【の`処理能~entry~buffer~map$[ `navigation^l ] 】
の`処理能~entry~buffer$に %~navi計時~entry を追加する
◎
add navigationTimingEntry to global's performance entry buffer.
</li>
</ol>
</div>

<div class="algo">
<p>
`~navi計時を~queueする@
~algoは、
所与の
( `文書$ %文書 )
に対し
⇒
`処理能~entryを~queueする$( %文書 の`~navi計時~entry$doc )
◎
To queue the navigation timing entry for Document document, queue document's navigation timing entry.
</p>
</div>

	</section>
	<section id="privacy">
<h2 title="Privacy Considerations">~privacyの考慮点</h2>

◎非規範的

<dl>
	<dt id="info_disclosure">
情報の流出
◎
5.1.1. Information disclosure
</dt>
	<dd>
注意深く細工された計時~攻撃の利用により、
末端利用者による［
閲覧／行動
］の履歴が流出する可能性がある。
一例として、
~unload時刻から前の~pageの~unload~handlerに要した時間が明らかにされ，利用者の~login状態sの推定-に利用され得る。
これらの攻撃は、
文書を~unloadするときに
— `新たな~pageで~session履歴を更新する$ ~algo `HTML$r の中で —
`同一-生成元$の検査を施行することにより軽減される。
◎
There is the potential for disclosing an end-user's browsing and activity history by using carefully crafted timing attacks. For instance, the unloading time reveals how long the previous page takes to execute its unload handler, which could be used to infer the user's login status. These attacks have been mitigated by enforcing the same origin check algorithm when unloading a document, as detailed in the HTML spec.
</dd>
	<dd>
`緩い同一-生成元~施策$は、
文書~間に渡る，未承認の訪問に対する十分な保護を供さない。
共有d~hostにおいては、
信頼できない第三者-主体が，同じ~IP~addressの異なる~port上で~HTTP~serverを~hostし得る。
◎
The relaxed same origin policy doesn't provide sufficient protection against unauthorized visits across documents. In shared hosting, an untrusted third party is able to host an HTTP server at the same IP address but on a different port.
</dd>

	<dt id="cross-directory">
~directory間をまたがる~access
◎
5.1.2. Cross-directory access
</dt>
	<dd>
同じ~host名を共有する異なる~page
— 例えば、
同じ~siteに~hostされている，利用者が生成した内容を伴う, 異なる作者による内容 —
は、
~path名に基いて~accessを制約するような特能がないため，`同一-生成元$から来たものと見なされる。
これらの~page間の~naviに際しては、
後の~pageから，~redirectionや `unload^et ~eventに対する計時など，前の~pageの計時~情報への~accessが可能になる。
◎
Different pages sharing one host name, for example contents from different authors hosted on sites with user generated content are considered from the same origin because there is no feature to restrict the access by pathname. Navigating between these pages allows a latter page to access timing information of the previous one, such as timing regarding redirection and unload event.
</dd>
</dl>

	</section>
	<section id="security">
<h2 title="Security Considerations">~securityの考慮点</h2>

◎非規範的

<p>
`PerformanceNavigationTiming$I ~interfaceは、
前-文書についての計時~情報を`現在の文書$に公開する。
`PerformanceNavigationTiming$I の属性のうち，前-文書の情報を含むものへの~accessを制限するため、
前-文書を~unloadするときに
— `新たな~pageで~session履歴を更新する$ ~algo `HTML$r の中で —
`同一-生成元$施策が施行され，【失敗した場合は】前-文書に関係する属性は 0 に設定される。
◎
The PerformanceNavigationTiming interface exposes timing information about the previous document to the current document. To limit the access to PerformanceNavigationTiming attributes which include information on the previous document, the previous document unloading algorithm enforces the same origin policy and attributes related to the previous document are set to zero.
</p>
<dl>
	<dt id="authentication">
~proxy~serverの検出-法
◎
5.2.1. Detecting proxy servers
</dt>
	<dd>
~UAと~web~serverとの間に~proxyが配備されている場合、
`connectStart$m 属性と `connectEnd$m 属性との間の時区間は、
~web~serverではなく，~proxyと~UAとの間の待時間を示すものになる。
それにより、
~web~serverは，~proxyの存在を推定できる可能性がある。
SOCKS ~proxyについては、
この時区間には~proxy認証に要した時間と~proxyが~web~serverへの接続に要した時間も含まれ，~proxyの検出を難しくする。
~HTTP~proxyの場合、
~UAは~proxy~serverについての知識を一切持たないこともあるので、
この攻撃を常に軽減できるとは限らない。
◎
In case a proxy is deployed between the user agent and the web server, the time interval between the connectStart and the connectEnd attributes indicates the delay between the user agent and the proxy instead of the web server. With that, web server can potentially infer the existence of the proxy. For SOCKS proxy, this time interval includes the proxy authentication time and time the proxy takes to connect to the web server, which obfuscate the proxy detection. In case of an HTTP proxy, the user agent might not have any knowledge about the proxy server at all so it's not always feasible to mitigate this attack.
</dd>
</dl>

	</section>
	<section id="obsolete" style="background:var(--warning-bg-color);">
<h2 title="Obsolete">廃用</h2>

<p>
この節では、
以前に `NAVIGATION-TIMING$r ~level 1 にて導入された［
属性, ~interface
］を定義し，後方-互換性のために ここに保つ。
作者には、
以下の~interfaceを利用するべきでない
— 新たな `PerformanceNavigationTiming$I ~interfaceを利用することを強く勧める。
`変更点と改善点の要約＠#sotd$を見よ。
◎
This section defines attributes and interfaces previously introduced in [NAVIGATION-TIMING] Level 1 and are kept here for backwards compatibility. Authors should not use the following interfaces and are strongly advised to use the new PerformanceNavigationTiming interface—see summary of changes and improvements.
</p>

		<section id="_conventions">
<h3>【この訳（ ~level 1 ）に特有な表記規約】</h3>

<p>
この節にて原文が参照する~HTTP用語は，過去の~HTTP仕様 `RFC2616$r を参照しているが、
この訳では，最新な~HTTP仕様（ ~RFC 9110 〜 9112 ）の等価な記述を参照することにする。
</p>

<p>
用語
“前-文書（ `previous document^en ）”
は、
`現在の文書$へ~navigateされる前の時点で，当の`~navigable$にて`作動中な文書$navであったものを指す（明確には定義されていない）。
</p>

<p>
以下における
`局所~cache等@
は、［
~HTTP~cache／局所~資源
］を指す総称である。
</p>

		</section>
		<section id="dom-performancetiming">
<h3 title="The PerformanceTiming interface">`PerformanceTiming^I ~interface</h3>
<pre class="idl">
[`Exposed$=Window]
interface `PerformanceTiming$I {
  readonly attribute unsigned long long `navigationStart$1;
  readonly attribute unsigned long long `unloadEventStart$1;
  readonly attribute unsigned long long `unloadEventEnd$1;
  readonly attribute unsigned long long `redirectStart$1;
  readonly attribute unsigned long long `redirectEnd$1;
  readonly attribute unsigned long long `fetchStart$1;
  readonly attribute unsigned long long `domainLookupStart$1;
  readonly attribute unsigned long long `domainLookupEnd$1;
  readonly attribute unsigned long long `connectStart$1;
  readonly attribute unsigned long long `connectEnd$1;
  readonly attribute unsigned long long `secureConnectionStart$1;
  readonly attribute unsigned long long `requestStart$1;
  readonly attribute unsigned long long `responseStart$1;
  readonly attribute unsigned long long `responseEnd$1;
  readonly attribute unsigned long long `domLoading$1;
  readonly attribute unsigned long long `domInteractive$1;
  readonly attribute unsigned long long `domContentLoadedEventStart$1;
  readonly attribute unsigned long long `domContentLoadedEventEnd$1;
  readonly attribute unsigned long long `domComplete$1;
  readonly attribute unsigned long long `loadEventStart$1;
  readonly attribute unsigned long long `loadEventEnd$1;
  [`Default$] object `toJSON$1();
};
</pre>

<div class="_test" id="_test_level1">【
利用中の~UAで、
この~pageについて，これらの属性~値を
<button onclick="get_timing_data1()"
>取得-を試みる</button>
（括弧内は `navigationStart$1 からの時間~差）
】
<pre id="_test_output1">（結果は~consoleではなく，ここに示される）</pre>

<p>【
他~pageでも利用できる`ブックマークレット＠~bookmarklet1$（結果は~consoleに示される）
】【
`~level 2 実装~用のもの＠#_test_level2$もある
】</p>
</div>

<p class="note">注記：
この節に定義されるすべての時刻~値は、
1970 年 1 月 1 日, 午前 0 時（ UTC ）から~milli秒数で測定される。
◎
Note
All time values defined in this section are measured in milliseconds since midnight of January 1, 1970 (UTC).
</p>

<dl class="idl-def">
	<dt>`navigationStart@1</dt>
	<dd>
前-文書があるならば
~UAが前-文書に対し`~unloadを~prompt$し終えた直後の時刻 ／
~ELSE_ 現在の文書が作成された時刻を返すモノトスル。
◎
This attribute must return the time immediately after the user agent finishes prompting to unload the previous document. If there is no previous document, this attribute must return the time the current document is created.
</dd>
	<dd class="note">注記：
この属性は、
`PerformanceNavigationTiming$I 用には定義されていない。
作者は、
代わりに `timeOrigin$m を利用して，等価な時刻印を得せる。
◎
Note
This attribute is not defined for PerformanceNavigationTiming. Instead, authors can use timeOrigin to obtain an equivalent timestamp.
</dd>

	<dt>`unloadEventStart@1</dt>
	<dd>
前-文書がある, かつ
前-文書と現在の文書が`同一-生成元$に属する場合は，~UAが前-文書の `unload^et ~eventを開始する直前の時刻 ／
~ELSE_ 0 を返すモノトスル。
◎
If the previous document and the current document have the same origin, this attribute must return the time immediately before the user agent starts the unload event of the previous document. If there is no previous document or the previous document has a different origin than the current document, this attribute must return zero.
</dd>

	<dt>`unloadEventEnd@1</dt>
	<dd>
前-文書はある, かつ
前-文書と現在の文書が`同一-生成元$に属する, かつ
前-文書の `unload^et ~eventは完了している
場合は，~UAが その~eventを終えた直後の時刻  ／
~ELSE_ 0 を返すモノトスル。
◎
If the previous document and the current document have the same same origin, this attribute must return the time immediately after the user agent finishes the unload event of the previous document. If there is no previous document or the previous document has a different origin than the current document or the unload is not yet completed, this attribute must return zero.
</dd>
	<dd>
~navigate時に`~HTTP~redirect$があって, かつ その中に`同一-生成元$に属さない`~HTTP~redirect$がある場合、［
`unloadEventStart$1, `unloadEventEnd$1
］とも 0 を返すモノトスル。
◎
If there are HTTP redirects when navigating and not all the redirects are from the same origin, both PerformanceTiming.unloadEventStart and PerformanceTiming.unloadEventEnd must return zero.
</dd>

	<dt>`redirectStart@1</dt>
	<dd>
~navigate時に`~HTTP~redirect$があって, かつ
すべての`~HTTP~redirect$が`同一-生成元$に属する場合は， `fetchStart$1 と同じ値 ／
~ELSE_ 0 を返すモノトスル。
◎
If there are HTTP redirects when navigating and if all the redirects are from the same origin, this attribute must return the starting time of the fetch that initiates the redirect. Otherwise, this attribute must return zero.
</dd>

	<dt>`redirectEnd@1</dt>
	<dd>
~navigate時に`~HTTP~redirect$があって, かつ
すべての`~HTTP~redirect$が`同一-生成元$に属する場合は，その最後の~redirectを成す応答の最後の~byteを受信した直後の時刻 ／
~ELSE_ 0
を返すモノトスル。
◎
If there are HTTP redirects when navigating and all redirects are from the same origin, this attribute must return the time immediately after receiving the last byte of the response of the last redirect. Otherwise, this attribute must return zero.
</dd>

	<dt>`fetchStart@1</dt>
	<dd>
`GET^hm `要請~method$を利用して新たな資源が`~fetch$された場合は，~UAが~HTTP~cacheの検査を開始する直前の時刻 ／
~ELSE_ ~UAが資源の`~fetch$を開始した時刻
を返すモノトスル。
◎
If the new resource is to be fetched using a "GET" request method, fetchStart must return the time immediately before the user agent starts checking the HTTP cache. Otherwise, it must return the time when the user agent starts fetching the resource.
</dd>

	<dt>`domainLookupStart@1</dt>
	<dd>
現在の文書の~domain名~検索を開始する直前の時刻を返すモノトスル。
`持続的な接続$が利用されている，または
現在の文書が`局所~cache等$から検索取得されている場合、
この属性は `fetchStart$1 と同じ値を返すモノトスル。
◎
This attribute must return the time immediately before the user agent starts the domain name lookup for the current document. If a persistent connection [RFC2616] is used or the current document is retrieved from the HTTP cache or local resources, this attribute must return the same value as PerformanceTiming.fetchStart.
</dd>

	<dt>`domainLookupEnd@1</dt>
	<dd>
~UAが現在の文書に対する~domain名~検索を終えた直後の時刻を返すモノトスル。
`持続的な接続$が利用されている，または
現在の文書が`局所~cache等$から検索取得されている場合、
この属性は `fetchStart$1 と同じ値を返すモノトスル。
◎
This attribute must return the time immediately after the user agent finishes the domain name lookup for the current document. If a persistent connection [RFC2616] is used or the current document is retrieved from the HTTP cache or local resources, this attribute must return the same value as PerformanceTiming.fetchStart.
</dd>
	<dd class="note">注記：
`~HTTP~cache$からの内容の 検査と検索取得は`~fetching$の一部である。
それは、［
`requestStart$1, `responseStart$1, `responseEnd$1
］属性が受持つ。
◎
Note
Checking and retrieving contents from the HTTP cache [RFC2616] is part of the fetching process. It's covered by the PerformanceTiming.requestStart, PerformanceTiming.responseStart and PerformanceTiming.responseEnd attributes.
</dd>
	<dd class="note">注記：
~UAが~cache内に~domain情報をすでに持っている場合、［
`domainLookupStart$1, `domainLookupEnd$1
］は，順に，~UAによる~cacheからの~domain~dataの検索取得を［
開始, 終了
］した時刻を表現する。
◎
Note
In case where the user agent already has the domain information in cache, domainLookupStart and domainLookupEnd represent the times when the user agent starts and ends the domain data retrieval from the cache.
</dd>

	<dt>`connectStart@1</dt>
	<dd>
~UAが文書を検索取得するために~serverへの接続を確立し始める直前の時刻を返すモノトスル。
`持続的な接続$が利用されている，または
現在の文書が`局所~cache等$から検索取得されている場合、
この属性は `domainLookupEnd$1 と同じ値を返すモノトスル。
◎
This attribute must return the time immediately before the user agent start establishing the connection to the server to retrieve the document. If a persistent connection [RFC2616] is used or the current document is retrieved from the HTTP cache or local resources, this attribute must return value of PerformanceTiming.domainLookupEnd.
</dd>

	<dt>`connectEnd@1</dt>
	<dd>
~UAが文書を検索取得するための~serverへの接続を確立し終えた直後の時刻を返すモノトスル。
`持続的な接続$が利用されている，または
現在の文書が`局所~cache等$から検索取得されている場合、
この属性は `domainLookupEnd$1 と同じ値を返すモノトスル。
◎
This attribute must return the time immediately after the user agent finishes establishing the connection to the server to retrieve the current document. If a persistent connection [RFC2616] is used or the current document is retrieved from the HTTP cache or local resources, this attribute must return the value of PerformanceTiming.domainLookupEnd.
</dd>
	<dd>
~transport接続が失敗し, かつ~UAが接続を再び開いた場合、［
`connectStart$1, `connectEnd$1
］は，新たな接続に対応する値を返すべきである。
◎
If the transport connection fails and the user agent reopens a connection, PerformanceTiming.connectStart and PerformanceTiming.connectEnd should return the corresponding values of the new connection.
</dd>
	<dd>
`connectEnd$1 には、
SSL ~handshakeや SOCKS 認証も含めて，~transport接続を確立するのに要した時間も含めるモノトスル。
◎
PerformanceTiming.connectEnd must include the time interval to establish the transport connection as well as other time interval such as SSL handshake and SOCKS authentication.
</dd>

	<dt>`secureConnectionStart@1</dt>
	<dd>
この属性の~supportは任意選択~である。
~UAは、
この属性を可用にしない場合は， `undefined^c を返すモノトスル。
可用にする場合、［［
現在の~pageの`~URL~scheme$ `URL$r ~EQ `https^l
］ならば 現在の接続を~secureにするための~handshake処理-を開始する直前の時刻 ／
~ELSE_ 0
］を返すモノトスル。
◎
This attribute is optional. User agents that don't have this attribute available must set it as undefined. When this attribute is available, if the scheme [URL] of the current page is "https", this attribute must return the time immediately before the user agent starts the handshake process to secure the current connection. If this attribute is available but HTTPS is not used, this attribute must return zero.
</dd>

	<dt>`requestStart@1</dt>
	<dd>
~UAが，現在の文書を［
~serverから, または`局所~cache等$から
］得るために 要請を開始した直前の時刻を返すモノトスル。
◎
This attribute must return the time immediately before the user agent starts requesting the current document from the server, or from the HTTP cache or from local resources.
</dd>
	<dd>
要請を送信した後に~transport接続が失敗して, ~UAが接続を再び開いて要請を送信し直していた場合、
`requestStart$1
は，新たな要請に対応している値を返すべきである。
◎
If the transport connection fails after a request is sent and the user agent reopens a connection and resend the request, PerformanceTiming.requestStart should return the corresponding values of the new request.
</dd>
	<dd class="note">
<p>注記：
この~interfaceには <code>requestEnd</code> のような類いの，要請の送信の完了を表現する属性は含まれていない：
◎
Note
This interface does not include an attribute to represent the completion of sending the request, e.g., requestEnd.
</p>

		<ul>
			<li>
~UAからの要請の送信の完了は、
（その種の属性の便益のほとんどを占める）~network~transportにおける対応する完了­時刻を常に指示するとは限らない。
◎
Completion of sending the request from the user agent does not always indicate the corresponding completion time in the network transport, which brings most of the benefit of having such an attribute.
</li>
			<li>
一部の~UAにおいては、
~HTTP層の~capsule化に因り，
要請の送信を実際に完了した時刻を決定するのに~costがかかる。
◎
Some user agents have high cost to determine the actual completion time of sending the request due to the HTTP layer encapsulation.
</li>
		</ul>
	</dd>

	<dt>`responseStart@1</dt>
	<dd>
~UAが~serverからの, または`局所~cache等$からの，応答の最初の~byteを受信した直後の時刻を返すモノトスル。
◎
This attribute must return the time immediately after the user agent receives the first byte of the response from the server, or from the HTTP cache or from local resources.
</dd>

	<dt>`responseEnd@1</dt>
	<dd>
~UAが
現在の文書の最後の~byteを受信した直後の時刻と, ~transport接続が閉じらる直前の時刻のうち，早い方を返すモノトスル。
ここでの文書は、［
~server, `局所~cache等$
］いずれかから受信されたものも含まれる。
◎
This attribute must return the time immediately after the user agent receives the last byte of the current document or immediately before the transport connection is closed, whichever comes first. The document here can be received either from the server, the HTTP cache or from local resources.
</dd>

	<dt>`domLoading@1</dt>
	<dd>
~UAが文書の`現在の準備度$docを `loading^l に設定する直前の時刻を返すモノトスル。
◎
This attribute must return the time immediately before the user agent sets the current document readiness to "loading".
</dd>
	<dd class="warning">
既存の~UA内で`文書$が いつ作成されたかの違いに因り，この属性が返す値は実装に特有であり、
有意義な計量に利用されるべきではない。
◎
Due to differences in when a Document object is created in existing user agents, the value returned by the domLoading is implementation specific and should not be used in meaningful metrics.
</dd>

	<dt>`domInteractive@1</dt>
	<dd>
~UAが文書の`現在の準備度$docを `interactive^l に設定する直前の時刻を返すモノトスル。
◎
This attribute must return the time immediately before the user agent sets the current document readiness to "interactive".
</dd>

	<dt>`domContentLoadedEventStart@1</dt>
	<dd>
~UAが`文書$に向けて `DOMContentLoaded$et ~eventを発火する直前の時刻を返すモノトスル。
◎
This attribute must return the time immediately before the user agent fires the DOMContentLoaded event at the Document.
</dd>

	<dt>`domContentLoadedEventEnd@1</dt>
	<dd>
文書の
<a><code>DOMContentLoaded</code> ~event</a>
が完了した直後の時刻を返すモノトスル。
◎
This attribute must return the time immediately after the document's DOMContentLoaded event completes.
</dd>

	<dt>`domComplete@1</dt>
	<dd>
~UAが文書の`現在の準備度$docを `complete^l に設定する直前の時刻を返すモノトスル。
◎
This attribute must return the time immediately before the user agent sets the current document readiness to "complete".
</dd>
	<dd>
文書の`現在の準備度$docが複数回にわたり同じ状態に変化した場合、
`domLoading$1,
`domInteractive$1,
`domContentLoadedEventStart$1,
`domContentLoadedEventEnd$1,
`domComplete$1
は、
最初に生じた 文書の`現在の準備度$docの変化に対応している時刻を返すモノトスル。
◎
If the current document readiness changes to the same state multiple times, PerformanceTiming.domLoading, PerformanceTiming.domInteractive, PerformanceTiming.domContentLoadedEventStart, PerformanceTiming.domContentLoadedEventEnd and PerformanceTiming.domComplete must return the time of the first occurrence of the corresponding document readiness change.
</dd>

	<dt>`loadEventStart@1</dt>
	<dd>
現在の文書に `load^et ~eventが発火される直前の時刻を返すモノトスル。
`load^et ~eventがまだ発火されていないときには、
0 を返すモノトスル。
◎
This attribute must return the time immediately before the load event of the current document is fired. It must return zero when the load event is not fired yet.
</dd>

	<dt>`loadEventEnd@1</dt>
	<dd>
現在の文書の `load^et ~eventの発火-が完了した時刻を返すモノトスル。
`load^et ~eventがまだ発火されていない, またはまだ完了していないときには、
0 を返すモノトスル。
◎
This attribute must return the time when the load event of the current document is completed. It must return zero when the load event is not fired or is not completed.
</dd>

	<dt>`toJSON@1</dt>
	<dd>
コレ用の`既定の~toJSON手続き$を走らす。
◎
Runs the default toJSON steps for this.
</dd>
</dl>

		</section>
		<section id="dom-performancenavigation">
<h3 title="The PerformanceNavigation interface">`PerformanceNavigation^I ~interface</h3>

<pre class="idl">
[`Exposed$=Window]
interface `PerformanceNavigation$I {
  const unsigned short `TYPE_NAVIGATE$1n = 0;
  const unsigned short `TYPE_RELOAD$1n = 1;
  const unsigned short `TYPE_BACK_FORWARD$1n = 2;
  const unsigned short `TYPE_RESERVED$1n = 255;
  readonly attribute unsigned short `type$1n;
  readonly attribute unsigned short `redirectCount$1n;
  [`Default$] object `toJSON$1n();
};
</pre>

<dl class="idl-def">

	<dt>`TYPE_NAVIGATE@1n</dt>
	<dd>
当の~naviにおける`履歴~取扱いの挙動$は［
`push$hH ／ `replace$hH
］に設定されている。
◎
Navigation where the history handling behavior is set to "default" or "replace".
</dd>

	<dt>`TYPE_RELOAD@1n</dt>
	<dd>
当の~naviにおける`履歴~取扱いの挙動$は `再読込み^i に設定されている。
【この記述は、過去の~HTML仕様に基づく — `reload$l を見よ。】
◎
Navigation where the history handling behavior is set to "reload".
</dd>

	<dt>`TYPE_BACK_FORWARD@1n</dt>
	<dd>
当の~naviにおける`履歴~取扱いの挙動$は `~entry更新^i に設定されている。
【この記述は、過去の~HTML仕様に基づく — `back_forward$l を見よ。】
◎
Navigation where the history handling behavior is set to "entry update".
</dd>

	<dt>`TYPE_RESERVED@1n</dt>
	<dd>
上で定義されない任意の種別の~navi。
◎
Any navigation types not defined by values above.
</dd>

	<dt>`type@1n</dt>
	<dd>
現在の`閲覧~文脈$における最後の非~redirect`~navi$の種別を，上に挙げた定数~値のいずれかとして返すモノトスル。
◎
This attribute must return the type of the last non-redirect navigation in the current browsing context. It must have one of the following navigation type values.
</dd>
	<dd class="note">注記：
`refresh$v ~pragma指令を利用する類いの，~client側による~redirectは、
この仕様においては`~HTTP~redirect$とは見なされない。
それらの場合，この属性は、［
現在の~pageを~reloadしている場合は `TYPE_RELOAD$1n ／
新たな~URLへ~navigateしている場合は `TYPE_NAVIGATE$1n
］など，適切な値を返すべきである。
◎
Note
Client-side redirects, such as those using the Refresh pragma directive, are not considered HTTP redirects by this spec. In those cases, the type attribute should return appropriate value, such as TYPE_RELOAD if reloading the current page, or TYPE_NAVIGATE if navigating to a new URL.
</dd>

	<dt>`redirectCount@1n</dt>
	<dd>
現在の`閲覧~文脈$の下での，最後の非~redirect~naviからの~redirect回数を返すモノトスル。
［
そのような~redirectは無い, または
行先~文書と`同一-生成元$に属さない~redirectがある
］場合、
0 を返すモノトスル。
◎
This attribute must return the number of redirects since the last non-redirect navigation under the current browsing context. If there is no redirect or there is any redirect that is not from the same origin as the destination document, this attribute must return zero.
</dd>

	<dt>`toJSON@1n</dt>
	<dd>
コレ用の`既定の~toJSON手続き$を走らす。
◎
Runs the default toJSON steps for this.
</dd>
</dl>

		</section>
		<section id="extensions-to-the-performance-interface">
<h3 title="Extensions to the Performance interface">`Performance^I ~interfaceに対する拡張</h3>

<pre class="idl">
[`Exposed$=Window]
partial interface `Performance^I {
  [`SameObject$]
  readonly attribute `PerformanceTiming$I `timing$1;
  [`SameObject$]
  readonly attribute `PerformanceNavigation$I `navigation$1;
};
</pre>

<p>
`Performance^I ~interfaceは `PERFORMANCE-TIMELINE-2$r にて定義される。
【！ ~TIMELINE#extensions-to-the-performance-interface】
◎
The Performance interface is defined in [PERFORMANCE-TIMELINE-2].
</p>

<dl class="idl-def">
	<dt>`timing@1</dt>
	<dd>
最後の非~redirect ~navi以降の`閲覧~文脈$に関係する計時~情報を表現する。
◎
The timing attribute represents the timing information related to the browsing contexts since the last non-redirect navigation.＼
</dd>
	<dd>
この属性は `PerformanceTiming$I ~interfaceにより定義される。
◎
This attribute is defined by the PerformanceTiming interface.
</dd>
	<dt>`navigation@1</dt>
	<dd>
この属性は `PerformanceNavigation$I ~interfaceにより定義される。
◎
The navigation attribute is defined by the PerformanceNavigation interface.
</dd>
</dl>

		</section>
	</section>
	<section id="acknowledgements">
<h2 title="Acknowledgments">謝辞</h2>

<p>
貢献された次の方々に感謝する：
</p>

<p lang="en">
Thanks to Anne Van Kesteren, Arvind Jain, Boris Zbarsky, Jason Weber, Jonas Sicking, James Simonsen, Karen Anderson, Nic Jansma, Philippe Le Hegaret, Steve Souders, Todd Reifsteck, Tony Gentilcore, William Chan and Zhiheng Wang for their contributions to this work.
</p>

	</section>
</main></div>
