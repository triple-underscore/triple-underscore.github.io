<!DOCTYPE html><html lang="ja"><head><meta charset="utf-8">
<title>CSS Transitions Level 2 （日本語訳）</title>

<link rel="stylesheet" href="common.css" type="text/css">
<link rel="stylesheet" href="common-css.css" type="text/css">
<script src="common0.js"></script>
<script src="common1.js" async></script>

<script>
Util.ready = function(){
	const source_data = {
		generate: expand
	};
	Util.switchWordsInit(source_data);
}

function expand(){
	const class_map = this.class_map;
	const tag_map = this.tag_map;
	const link_map = this.link_map;

	return this.html.replace(
		/%[\w\-~一-鿆あ-ん]+|`(.*?)([$@^!])(\w*)/g,
		create_html
	);

	function create_html(match, key, indicator, klass){
if(!indicator) {//%
	return `<var>${match.slice(1)}</var>`;
}

let href = '';
let href1 = '';
{
	const n = key.indexOf('＠');
	if(n > 0) {
		href1 = key.slice(n + 1);
		key = key.slice(0, n);
	}
}
let text = key;

switch(klass){
case 'r':
	text = `[${key}]`;
	href = `#biblio-${key.toLowerCase()}`;
	break;
case 'prod':
case 't':
	text = `&lt;${key}&gt;`;
	break;
case 'at':
	text = `@${key}`;
	break;
case 'ps':
	text = `:${key}`;
	break;
case 'pe':
	text = `::${key}`;
	break;
case 'm':
	const n = text.indexOf('(');
	if(n > 0){
		key = text.slice(0, n);
		text = key + text.slice(n).replace(/\w+/g, '<var>$&</var>');
	}
	break;
case 'en':
	return `<span lang="en">${key}</span>`;
	break;
default:
}

let tag = tag_map[klass];
if(tag) {
	let classname = class_map[klass];
	classname = classname ? ` class="${classname}"` : '';
	text = `<${tag}${classname}>${text}</${tag}>`;
}

if(indicator !== '^'){
	href = href1 || link_map[ klass ? `${klass}.${key}` : key ] || href;
	if(!href){
		console.log(match); // check error
		return match;
	}

	switch(indicator){
	case '$':
		text = `<a href="${href}">${text}</a>`;
		break;
	case '@':
		text = `<dfn id="${href.slice(1)}">${text}</dfn>`;
		break;
	}
}

return text;

	}
}

</script>



<script type="text/plain" id="_source_data">


●●options

spec_title:CSS Transitions Level 2
spec_date:2025-09-12
trans_update:2025-09-13
	source_checked:230622
page_state_key:CSS
original_url:https://drafts.csswg.org/css-transitions-2/
spec_status:ED
ref_id_prefix:biblio-
ref_id_lowercase:true
site_nav:css-anim,css
conformance:css
copyright:2025,permissive
trans_1st_pub:2019-05-15

●●class_map
p:property
ps:pseudo
pe:pseudo
at:at-rule
t:type
v:value
et:event-type
E:error
css:css
f:func
e:element
op:op

●●tag_map
p:code
pe:code
ps:code
t:var
css:code
at:code
f:code
et:code
E:code
I:code
m:code
v:code
e:code
c:code
i:i
op:span
em:em


●●words_table1
	WANIM:https://drafts.csswg.org/web-animations-1/
	WANIM:https://w3c.github.io/web-animations/
	WANIM:~TR/web-animations-1/

●●words_table

	●animation
WAnim:Web Animations
	~animate可能:animatable
moment::時点
seek:
keyframe:
組成-:composite::~
再生:playback::~
再生-:play::~
逆再生-:reverse::~
逆再生:reversing::~
時短係数:shortening factor::~
逆方向:reverse::~
稼働:running::~
静止-:pause::~
区間:interval::~
経過d:elapsed::経過
延伸:fill::~
相:phase::~
作動:active::~::アクティブ
遊休中:idle::~
遊休:idle::~
事後:after::~
事前:before::~
未解決:unresolved::~
現-:current:~
滑らか:smooth:~
両方:both:~
変形d:transformed:::変形済み
変形n:transformation:::変形
稼働中の:running::~
逆再生調整後の:reversing-adjusted::~
easing:
	~easing関数:timing function
速やか:faster:~
	切り替わる:flip
	変化-後:after-change
	変化-前:before-change

	●一般処理
処理待ち:pending::~
	間を置かずに:immediate succession
生成回:generation::~
	比較-法:comparing
	直前:immediately prior to

	●構造
昇順:ascending order::~

	●CSS
出自の:originating::~
出自:origin::~

	指定d値:specified style
	~~末端の〜:longhand 〜
	算出し直す:recompute／:recomputing
	^v:green
	^v:transparent
	^p:opacity
	^p:display
	優先-:win
	~group化:grouping
	~group化され:grouped


	●仕様
可能性:possibility:~
事実:fact:~
差分:delta:~
冗長:redundant:~
複階性:complexity:~
併合-:merge:~
切離され:disassociateされ:切り離され
切離す:disassociateする:切り離す
展開-:expand:~
提起-:raise:~
手続:procedure:手続き

	明瞭でない:unclear
	よって:hence
	すなわち:that is,
	-:as well as
	あると良い:good to have
	~~頻繁に:frequently
	さらには、:furthermore
	まったく:entirely
	so that
	よって:hence
	だけ必ず:exactly
	満たす:hold
	のみならず:itself and not
	したい:want
	次のように:as follows
	呼ばれ:refers to
	明らかでない:may not turn out to be
	-:With regard to
	であり、:meaning that
	-:first matching condition from below
	~portし戻す:backport
	この~level 2:CSS Transitions Level 2
	~level 1:CSS Transitions Level 1
	すなわち:namely
	~~任意で選ぶこと:opting in to

	●未分類
flush:
	計算し直す:recalculating
	~program的に:programmatically
増分:increment:~
先行-:precede:~
文字大小変換:case conversion:~
代用-:substitute::~
keypath:
影:shadow::~
ボカシ:blur::ぼかし
公式:formula:~
milli:milli-:::ミリ
欠如-:lack:~

	図:chart
	-:relative
	になる:enter
	成す:make up
	挙げられ:listed
	ちょうど同じ様に:just like
	前回の:the previous
	在る場合:presence of

	より新たな:newer
	最終的に:ultimately
	間近に:closer
	してから:subsequently
	それ以降:that point forwards
	以前の:previously
	より前:earlier
	前回の／以前の:previous
	初回:first time
	2 回目:second time
	~~両方:both
	一連の／:set of

●●original_id_map
	■旧 id
	transition-property-property:transition-name-property

●●mdn_urls
	csstransition:API/CSSTransition

●●link_map

	WANIM:https://w3c.github.io/web-animations/
	→置換:https://drafts.csswg.org/web-animations-1/

	●IDL
Exposed:~WEBIDLjs#Exposed
CSSOMString:~CSSOM1#cssomstring

I.CSSTransition:#csstransition
I.Animation:~WANIMapi#animation
I.TransitionEvent:~TRANSITION#transitionevent
I.CSSStartingStyleRule:#cssstartingstylerule
I.CSSGroupingRule:~CSSOM1#cssgroupingrule

m.transitionProperty:#dom-csstransition-transitionproperty
m.cancel:~WANIMapi#dom-animation-cancel
m.getAnimations:~WANIMapi#dom-animatable-getanimations
m.elapsedTime:~TRANSITION#Events-TransitionEvent-elapsedTime
m.getComputedStyle:~CSSOM1#dom-window-getcomputedstyle

	●et
et.transitioncancel:~TRANSITION#transitioncancel
et.transitionend:~TRANSITION#transitionend
et.transitionrun:~TRANSITION#transitionrun
et.transitionstart:~TRANSITION#transitionstart

	●p, v
p.all:~CASCADE#propdef-all
p.animation:~CSSANIM#propdef-animation
p.background-color:~CSSBG#propdef-background-color
p.border-left-width:~CSSBG#propdef-border-left-width
p.display:~CSSDISP#propdef-display
p.opacity:~CSSCOLOR#propdef-opacity
p.transition-behavior:#propdef-transition-behavior
p.transition:~TRANSITION#propdef-transition
p.transition-property:~TRANSITION#propdef-transition-property
p.transition-duration:~TRANSITION#propdef-transition-duration
p.transition-timing-function:~TRANSITION#propdef-transition-timing-function
p.transition-delay:~TRANSITION#propdef-transition-delay

t.transition-behavior-value:#typedef-transition-behavior-value
t.single-transition-property:~TRANSITION#single-transition-property
t.time:~CSSVAL#time-value
t.easing-function:~CSSEASING#typedef-easing-function
t.single-transition:#single-transition

v.none:~TRANSITION#valdef-transition-property-none
v.all:~TRANSITION#valdef-transition-property-all
	v.block:~CSSDISP#valdef-display-block
	v.none:~CSSDISP#valdef-display-none

	●css
at.starting-style:#at-ruledef-starting-style
at.keyframes:~CSSANIM#at-ruledef-keyframes
at.font-face:~CSSFONT#at-font-face-rule
at.layer:~CASCADE#at-ruledef-layer

	●用語
現在の遷移~生成回:#current-transition-generation
経過d時間:#elapsed-time
展開された遷移~prop名:#expanded-transition-property-name
区間~終端:#interval-end
区間~始端:#interval-start
所有している要素:#owning-element
遷移~生成回:#transition-generation
遷移~相:#transition-phase
開始-時の~style:#starting-style
遷移-可能:#transitionable

~level 1:#biblio-css3-transitions


	*:#multiple-events-note

	●用語（TRANSITION／WANIM

~style変化~event:~TRANSITION#style-change-event
変化-前~style:~TRANSITION#before-change-style
変化-後~style:~TRANSITION#after-change-style
逆再生 時短係数:~TRANSITION#transition-reversing-shortening-factor
稼働中の遷移:~TRANSITION#running-transition
取消す:~TRANSITION#transition-cancel
完了した遷移:~TRANSITION#completed-transition
逆再生調整後の開始-値:~TRANSITION#transition-reversing-adjusted-start-value

~animation型:~WANIM#animation-type
~animate不可:~WANIM#not-animatable
離散的:~WANIM#discrete
~animation:~WANIM#concept-animation
~animation~class:~WANIM#animation-class
~animation~frame:~WANIM#animation-frame
~animationを取消す:~WANIM#cancel-an-animation
結付けられた効果:~WANIM#animation-associated-effect
結付けられた効果の終端:~WANIM#associated-effect-end
作動~所要時間:~WANIM#active-duration
開始-遅延:~WANIM#start-delay
作動~時刻:~WANIM#active-time
現在の反復~index:~WANIM#current-iteration-index
	~WANIM#current-iteration → ~WANIM#current-iteration-index
現-時刻:~WANIM#animation-current-time
延伸~mode:~WANIM#fill-mode
大域~animation~list:~WANIM#global-animation-list
i.遊休中:~WANIM#play-state-idle
再生-状態:~WANIM#animation-play-state
反復~所要時間:~WANIM#iteration-duration
反復~始端:~WANIM#iteration-start
	~target効果:~WANIM#target-effect
未解決:~WANIM#unresolved
	各種~phase:~WANIM#animation-effect-phases-and-states
変形d進捗:~WANIM#transformed-progress
処理待ち再生-~task:~WANIM#pending-play-task
処理待ち静止-~task:~WANIM#pending-pause-task

~animation再生~event:~WANIM#animation-playback-events

	相:~WANIM#animation-effect-phases-and-states
	相:~WANIM#_phase

	i.作動~相:~WANIM#animation-effect-active-phase
	i.事後~相:~WANIM#animation-effect-after-phase
	i.事前~相:~WANIM#animation-effect-before-phase
	i.遊休~相:~WANIM#animation-effect-idle-phase

	§:~WANIM#time-transformations
	§:~WANIM#applying-the-composited-result

	●用語（CSS
略式~prop:~CASCADE#shorthand-property
下位prop:~CASCADE#longhand

算出d値:~CASCADE#computed-value
~cascade出自:~CASCADE#origin

~easing関数:~CSSEASING#easing-function
出自の要素:~SELECTORS4#originating-element

入子な~group規則:~CSSNESTING#nested-group-rules
条件付き~group規則:~CSSCOND#conditional-group-rule

組成-順序:~WANIM#animation-composite-order

	●用語（外部
~top-level閲覧~文脈:~HTMLds#top-level-browsing-context

~tree順序:~DOM4#concept-tree-order
文書に接続され:~DOM4#connected
~target:~DOM4#event-target

具現化され:~HTMLrendering#being-rendered


●●ref_normative

[CSS-ANIMATIONS-1]
    David Baron; et al. ＜CSS Animations Level 1＞. URL: https://drafts.csswg.org/css-animations/
[CSS-BACKGROUNDS-3]
    Elika Etemad; Brad Kemper. ＜CSS Backgrounds and Borders Module Level 3＞. URL: https://drafts.csswg.org/css-backgrounds/
[CSS-CASCADE-5]
    Elika Etemad; Miriam Suzanne; Tab Atkins Jr.. ＜CSS Cascading and Inheritance Level 5＞. URL: https://drafts.csswg.org/css-cascade-5/
[CSS-EASING-2]
    ＜CSS Easing Functions Level 2＞. URL: https://drafts.csswg.org/css-easing/
[CSS-FONTS-5]
    Chris Lilley. ＜CSS Fonts Module Level 5＞. URL: https://drafts.csswg.org/css-fonts-5/
[CSS-TRANSITIONS-1]
    David Baron; et al. ＜CSS Transitions＞. URL: https://drafts.csswg.org/css-transitions/
[CSS-VALUES-4]
    Tab Atkins Jr.; Elika Etemad. ＜CSS Values and Units Module Level 4＞. URL: https://drafts.csswg.org/css-values-4/
[CSSOM-1]
    Daniel Glazman; Emilio Cobos Álvarez. ＜CSS Object Model (CSSOM)＞. URL: https://drafts.csswg.org/cssom/
[DOM]
    Anne van Kesteren. ＜DOM Standard＞. Living Standard. URL: https://dom.spec.whatwg.org/
[HTML]
    Anne van Kesteren; et al. ＜HTML Standard＞. Living Standard. URL: https://html.spec.whatwg.org/multipage/
[RFC2119]
    S. Bradner. ＜Key words for use in RFCs to Indicate Requirement Levels＞. March 1997. Best Current Practice. URL: https://datatracker.ietf.org/doc/html/rfc2119
[WEB-ANIMATIONS]
    Brian Birtles; et al. ＜Web Animations＞. URL: https://drafts.csswg.org/web-animations-1/
[WEBIDL]
    Edgar Chen; Timothy Gu. ＜Web IDL Standard＞. Living Standard. URL: https://webidl.spec.whatwg.org/

●●ref_informative

[CSS-COLOR-4]
    Chris Lilley; Tab Atkins Jr.; Lea Verou. ＜CSS Color Module Level 4＞. URL: https://drafts.csswg.org/css-color-4/
[CSS-DISPLAY-4]
    Elika Etemad; Tab Atkins Jr.. ＜CSS Display Module Level 4＞. URL: https://drafts.csswg.org/css-display/


●●trans_metadata

<p>
~THIS_PAGEは、~W3Cにより
編集者草案として公開された
<a href="~SPEC_URL">CSS Transitions Level 2</a>
を日本語に翻訳したものです。
~PUB
</p>

●●spec_metadata

最新公表バージョン
	https://www.w3.org/TR/css-transitions-2/
公表履歴
	https://www.w3.org/standards/history/css-transitions-2/

フィードバック
	<a href="https://github.com/w3c/csswg-drafts/labels/css-transitions-2-2">CSSWG Issues Repository</a>
	<a href="https://www.w3.org/Bugs/Public/buglist.cgi?product=CSS&amp;amp;component=Transitions&amp;amp;resolution=---">Bugzilla bugs for all levels</a>

編集
	<a href="https://dbaron.org/">L. David Baron</a> (Google)
	<a href="mailto:brian@birchill.co.jp">Brian Birtles</a> (Invited Expert)

Suggest an Edit for this Spec
	<a href="https://github.com/w3c/csswg-drafts/blob/main/css-transitions-2/Overview.bs">GitHub Editor</a>
commit 履歴
	https://github.com/w3c/csswg-drafts/commits/main/css-transitions-2

</script>

<body>

<header>
	<hgroup>
<h1>CSS 遷移 2 — CSS Transitions Level 2</h1>
	</hgroup>

</header>

<div id="MAIN" hidden>
	<section id="abstract">
◎要約

<p>
CSS Transitions（遷移）は、
~CSS値における~prop変化が指定された所要時間にかけて滑らかに生じることを許容する。
◎
CSS Transitions allows property changes in CSS values to occur smoothly over a specified duration.
</p>

~CSSisaLANG

	</section>
	<section id="sotd">
◎位置付け

<p>
これは、編集者草案の公な複製です…
【以下、この節の内容は，~SOTD-CSSに移譲。】
</p>

	</section>

<main id="MAIN0">

	<section id="delta">
<h2 title="Delta specification">1. 差分~仕様</h2>

<p>
これは差分~仕様であり、
現時点の `~level 1$ 仕様 `CSS-TRANSITIONS-1$r からの相違点のみを包含する。
~level 1 仕様が完了-間近になったときは、
それとこの差分は，完全な~level 2 仕様として併合されることになる。
【したがって，以下に現れる “この仕様に定義される…” 等々の句は、~level 1 仕様も包摂する。】
◎
This is a delta specification, meaning that it currently contains only the differences from CSS Transitions Level 1 [CSS-TRANSITIONS-1]. Once the Level 1 specification is closer to complete, it will be merged with the additions here into a complete level 2 specification.
</p>

	</section>
	<section id="transitions">
<h2 title="Transitions">2. 遷移</h2>

		<section id="transition-property-property">
<h3 title="The transition-property Property">2.1. `transition-property^p ~prop</h3>

<p class="issue">
`~level 1$ の
<a href="~TRANSITION#transition-property-property">§ `transition-property^p ~prop</a>
からの~textを挿入して，
以下の段落を~portし戻す。
◎
Insert text from CSS Transitions § 2.1 The transition-property Property and backport the following paragraph.
</p>

<p>
`transition-property$p には，`略式~prop$や `all$v ~keywordも指定できるが、
個々の遷移は，各`遷移-可能$な~~末端の`下位prop$に対し生成される。
遷移の
`展開された遷移~prop名@
は、
それ用に遷移を生成した~~末端の下位propの名前である
（例： `border-left-width$p ）。
◎
Although the transition-property may specify shorthand properties and the all keyword, individual transitions are generated for each longhand sub-property that is transitionable. The expanded transition property name of a transition is the name of the longhand sub-property for which the transition was generated (e.g. border-left-width).
</p>

<p class="issue">
`遷移-可能$を定義している各~instanceを更新する
— それが `~level 1$ から~portされたなら。
◎
Update the defining instance of transitionable once it is ported from Level 1.
</p>

<div>
<p>
この~level 2 においては、
所与の~prop用の［
`変化-前~style$, `変化-後~style$
］を比較するとき，
~AND↓ が満たされるならば，
前者の値から後者の値へ
`遷移-可能@
であるとされる
【`~level 1$ の `遷移-可能＠~TRANSITION#transitionable$も見よ】：
</p>
<ul>
	<li>
当の~propの`~animation型$は`~animate不可$でない
</li>
	<li>
<p>
~OR↓：
</p>
		<ul>
			<li>
両~値が成す~pairに利用される`~animation型$は`離散的$でない
</li>
			<li>
当の要素の `transition-behavior$p の値 ~EQ `allow-discrete^v
</li>
		</ul>
	</li>
</ul>
◎
In CSS Transitions Level 2, when comparing the before-change style and after-change style for a given property, the property values are transitionable if:
• They have an animation type that is neither not animatable nor discrete, or
• The transition-behavior is allow-discrete and they have an animation type that is discrete.
</div>

<p class="note">注記：
`離散的$である場合、
値が遷移するときには， 50% 進捗した所で切り替わる。
◎
Note: When values with a discrete animation type are transitioned, they flip at 50% progress.
</p>

		</section>
		<section id="transition-duration-property">
<h3 title="The transition-duration Property">2.2. `transition-duration^p ~prop</h3>

<p>
`transition-duration$p ~propは、
当の遷移に`結付けられた効果$の`反復~所要時間$を指定する。
◎
The transition-duration property specifies the iteration duration of the transition’s associated animation effect.
</p>
		</section>
		<section id="transition-timing-function-property">
<h3 title="The transition-timing-function Property">2.3. `transition-timing-function^p ~prop</h3>

<p>
`transition-timing-function$p ~propは、
当の遷移に`結付けられた効果$の`~easing関数$を指定する
（`§ ~easing（効果~計時の変形n）＠~WANIM#time-transformations$ `WEB-ANIMATIONS$r を見よ）。
◎
The transition-timing-function property specifies the timing function of the transition’s associated animation effect (see Web Animations § 4.6.11 Easing (effect timing transformations)).
</p>

<p class="note">注記：
~CSS~animationと違って，~CSS遷移~用の計時~関数は、
個々の~keyframeではなく，~animation効果に適用される。
これにより，計時~関数は`変形d進捗$に反映され、
`逆再生 時短係数$を計算するとき利用されるようになる。
◎
Note: Unlike CSS animations, the timing function for CSS transitions applies to the animation effect as opposed to the individual keyframes since this allows it to be reflected in the transformed progress as used when calculating the reversing shortening factor.
</p>

		</section>
		<section id="transition-delay-property">
<h3 title="The transition-delay Property">2.4. `transition-delay^p ~prop</h3>

<p>
`transition-delay$p ~propは、
当の遷移に`結付けられた効果$の`開始-遅延$を指定する。
◎
The transition-delay property specifies the start delay of the transition’s associated animation effect.
</p>

		</section>
		<section id="transition-behavior-property">
<h3 title="The transition-behavior Property">2.5. `transition-behavior^p ~prop</h3>

<p>
`transition-behavior$p ~propは、
離散的な~prop用にも遷移が開始されるか否かを指定する。
◎
The transition-behavior property specifies whether transitions will be started or not for discrete properties.
</p>

<div>
◎名 `transition-behavior@p
◎値 `transition-behavior-value$t#
◎初 `normal^v
◎適 すべての要素
◎継 されない
◎百 受容しない
◎算 指定されたとおり
◎順 文法に従う
◎ア ~animate不可
◎表終
◎
Name: 	transition-behavior
Value: 	&lt;transition-behavior-value&gt;#
Initial: 	normal
Applies to: 	all elements
Inherited: 	no
Percentages: 	N/A
Computed value: 	as specified
Canonical order: 	per grammar
Animation type: 	not animatable
</div>

<p>
`transition-behavior$p を指定するための構文は、
次に従う：
◎
The syntax for specifying transition-behavior is as follows:
</p>

<pre class="prod">
`transition-behavior-value@t
	= `normal^v
	| `allow-discrete^v
</pre>

<p>
【 %N 個目の値に】 `normal^v が指定されたときは、
【 %N 個目の】遷移は，離散的な~prop用には開始されない
— 補間-可能な~propに限られる。
◎
When normal is specified, transitions will not be started for discrete properties, only for interpolable properties.＼
</p>

<p>
【 %N 個目の値に】`allow-discrete^v が指定されたときは、
【 %N 個目の】遷移は，離散的な~prop用にも開始される
— 補間-可能な~propのみならず。
◎
When allow-discrete is specified, transitions will be started for discrete properties as well as interpolable properties.
</p>

		</section>
		<section id="transition-shorthand-property">
<h3 title="The transition Shorthand Property">2.6. `transition^p 略式 ~prop</h3>

<p>
`transition$p `略式~prop$を成す各~itemを指定するための構文は、
次に従う【よう拡張される】：
◎
The syntax for specifying an item in the transition shorthand is as follows:
</p>

<pre class="prod">
`single-transition@t
	= [ `none$v | `single-transition-property$t ]
	|| `time$t
	|| `easing-function$t
	|| `time$t
	|| `transition-behavior-value$t
</pre>

		</section>
	</section>
	<section id="starting">
<h2 title="Starting of transitions">3. 遷移の開始-法</h2>

<p>
`transition-property$p ~propが適用され，~animationを生成した［
要素／疑似要素
］は、
その遷移を
`所有している要素@
と呼ばれる。
遷移は、
それを`所有している要素$が無くなるよう，要素から切離されることもある。
◎
The owning element of a transition refers to the element or pseudo-element to which the transition-property property was applied that generated the animation. A transition may be disassociated from its owning element such that it has no owning element.
</p>

<p>
遷移は、
それを`所有している要素$が在るものに限り，`稼働中の遷移$たちが成す集合に含まれる。
◎
The set of running transitions includes only those transitions that have an owning element.
</p>

<p>
実装は、
遷移 %遷移 を`取消す$よう要求される所では，
%遷移 を それを`所有している要素$から切離すことに加え，次を走らすモノトスル
⇒
`~animationを取消す$( %遷移 )
◎
Whenever an implementation is required to cancel a transition, it must disassociate the transition from its owning element and run the procedure to cancel an animation on the transition.
</p>

<p>
`~level 1$ 仕様には明示的に定義されていないが、
`具現化され$なくなった要素に対しても
— 要素が`文書に接続され$なくなったときと同じく —
要素~上で`稼働中の遷移$に対し，それらを［
`取消す$, および
要素の`完了した遷移$たちが成す集合から除去する
］モノトスル。
◎
Although not explicitly defined by level 1 of this specification, in addition to canceling transitions on elements that are no longer connected, implementations must also cancel any running transitions on elements that are no longer being rendered and remove transitions on them from the set of completed transitions.
</p>

<p class="note">【！ class="note" 追加】
`稼働中の遷移$を表現している `CSSTransition$I ~objに対し，
`cancel()$m ~method~callしても、
当の遷移は，それを`所有している要素$から`切離されない^emことに注意。
◎
Note that calling the cancel() method on the CSSTransition object representing a running transition does not cause the transition to be disassociated from its owning element.
</p>

		<section id="reversing">
<h3 title="Faster reversing of interrupted transitions">3.1. 中断された遷移の速やかな逆再生</h3>

<p>
逆再生する挙動を正しく生産するため，各~遷移には［
`逆再生 時短係数$,
`逆再生調整後の開始-値$
］が結付けられるが、
これらは
— 遷移~自身のみならず，例えば —
遷移に`結付けられた効果$にも結付けられる。
その結果として
— ~WAnim~APIを利用して，遷移に`結付けられた効果$が更新されたり置換されようが —
遷移が逆再生される遷移を生産するときには、
同じこれらの値を利用することになる。
`WEB-ANIMATIONS$r
◎
The reversing shortening factor and reversing-adjusted start value associated with a transition in order to produce correct reverse behavior, are associated with the transition itself and not, for example, its animation effect. As a result, transitions will use these same values when producing a reversed transition, even if the transition’s associated animation effect has been updated or replaced using the Web Animations API [WEB-ANIMATIONS].
</p>

		</section>
		<section id="current-transition-generation-section">
<h3 title="The current transition generation">3.2. 現在の遷移の生成</h3>

<p>
各 `~top-level閲覧~文脈$には，
`現在の遷移~生成回@
が結付けられ、
各`~style変化~event$ごとに増分される。
◎
Associated with each top-level browsing context is a current transition generation that is incremented on each style change event.
</p>

<p>
新たな遷移が生成される各回ごとに、
`現在の遷移~生成回$の（増分-後の）現在の値は，その遷移の
`遷移~生成回@
として格納される。
◎
Each time a new transition is generated, the current value of the (already incremented) current transition generation is stored as the transition’s transition generation.
</p>

		</section>
		<section id="defining-before-change-style">
<h3 title="Defining before-change style: the @starting-style rule">3.3. 変化-前~styleの定義-法： `starting-style$at 規則</h3>

<p>
`~level 1$ においては、
要素に対し遷移を開始し得るのは，`~style変化~event$の間, かつ［
当の要素~用に［
前回の`~style変化~event$により確立された`変化-前~style$
］が定義される場合
］に限られていた。
すなわち、［
前回の`~style変化~event$の時点では，具現化されていなかった要素
］に対しては，遷移は開始し得なかった
（ `~level 1$ の `§ 遷移の開始-法＠~TRANSITION#starting$ を見よ）。
◎
In Level 1 of this specification, transitions can only start during a style change event for elements which have a defined before-change style established by the previous style change event. That means a transition could not be started on an element that was not being rendered for the previous style change event (see: CSS Transitions § 3 Starting of transitions).
</p>

<p>
一部の事例では、［
新たに挿入された要素／
`具現化され$ていなかったが具現化されるよう変化した要素
］に対し，遷移を開始することもイミを成す。
それを許容するため、
この仕様は， `starting-style$at を導入する。
◎
In some cases it makes sense to start transitions on newly inserted elements or elements that change from not being rendered to being rendered. To allow for that, this specification introduces @starting-style.
</p>

<p>
`starting-style@at
規則は、
~group化~規則である。
その内側にある~style規則は、
前回の`~style変化~event$が［
~styleが算出されている要素~用の`変化-前~style$
］を確立していなかった場合に，それに代わる遷移~用の~styleを確立するために利用される。
◎
The @starting-style rule is a grouping rule. The style rules inside it are used to establish styles to transition from, if the previous style change event did not establish a before-change style for the element whose styles are being computed.
</p>

<p class="note">注記：
このことは、
`starting-style$at 規則は，前回の`~style変化~event$の間に［
具現化されていなかった要素／
~DOMの一部を成していなかった要素
］に限り
— 要素~用に算出される~styleを更新する間に —
適用されることを意味する。
◎
Note: This means that @starting-style rules only apply to some elements during a computed style update, namely elements that were not rendered or part of the DOM during the previous style change event.
</p>

<p>
要素~用の
`開始-時の~style@
は、［
`変化-後~style$に `starting-style$at 規則を追加で適用した結果
］として定義される。
`~style変化~event$の時点で要素~用の`変化-前~style$が無い場合、
［
`変化-後~style$と比較する~style
］として［
`変化-前~style$の代わりに，`開始-時の~style$
］を利用して，遷移を開始する
（`~level 1$ の `§ 遷移の開始-法＠~TRANSITION#starting$）。
◎
Define starting style for an element as the after-change style with @starting-style rules applied in addition. If an element does not have a before-change style for a given style change event, the starting style is used instead of the before-change style to compare with the after-change style to start transitions (CSS Transitions § 3 Starting of transitions).
</p>

<p>
`starting-style$at の内側にある規則は、
他の~group化される~style規則と同じく，
~cascadeに対し新たな順序付けを導入することなく~cascadeする。
すなわち、
`starting-style$at の内側にある規則は，外側にある規則より優先されるとは限らない。
◎
The rules inside @starting-style cascade as any other grouped style rules without introducing any new ordering to the cascade, which means rules inside @starting-style do not necessarily win over those outside.
</p>

<p>
`starting-style$at 内の~style規則は、
`変化-後~style$には適用されない。
したがって， `starting-style$at 内に合致している規則が在る場合、［
`変化-前~style$を欠如していたため，他では遷移し得なかった要素
］に対し，遷移を生じさせ得る。
◎
Style rules in @starting-style do not apply to after-change style. Thus, the presence of matching rules in @starting-style can cause transitions to occur on elements that otherwise could not have transitions because they lack a before-change style.
</p>

<p>
`開始-時の~style$は、
`変化-後~style$とちょうど同じ様に，親の`変化-後~style$を継承する。
◎
Starting style inherits from the parent’s after-change style just like after-change style does.
</p>

<div class="example">
<p>
`h1^e 要素の `background-color$p が初期~時に具現化されるとき，
要素を `transparent^v から `green^v へ遷移させる例：
◎
The background-color of an h1 element can be transitioned from transparent to green when it is initially rendered:
</p>

<pre class="lang-css">
h1 {
  transition: background-color 1.5s;
  background-color: green;
}
@starting-style {
  h1 {
    background-color: transparent;
  }
}
</pre>

<p>
`CSS Nesting^cite で条件付き規則を利用できる
【 `starting-style$at は、`入子な~group規則$として利用できる】：
◎
Conditional rules can be used with CSS Nesting:
</p>

<pre class="lang-css">
h1 {
  transition: background-color 1.5s;
  background-color: green;
  @starting-style {
    background-color: transparent;
  }
}
</pre>
</div>

<div class="example">
<p>
要素の `opacity$p を［
要素の `display$p が［
`none^v から他へ／他から `none^v へ
］変化する
］とき遷移させる例：
◎
The opacity of an element can be transitioned when the element changes to or from display: none:
</p>

<pre class="lang-css">
#target {
  transition-property: opacity, display;
  transition-duration: 0.5s;
  display: block;
  opacity: 1;
  @starting-style {
    opacity: 0;
  }
}
#target.hidden {
  display: none;
  opacity: 0;
}
</pre>

<ul>
	<li>
`display^p が遷移しているのは、［
`display^p が `block^v から `none^v へ切り替わる前に `opacity^p が遷移する
］ことを許容するためである。
◎
The display is transitioning to allow for an opacity transition before flipping from display:block to display:none.
</li>
	<li>
<p>
`starting-style$at 規則~内で `opacity$p に `0^v を指定することは、
次に該当するとき，［
要素の `opacity^p は `0^v から `1^v へ遷移する
］ようになることを意味する：
◎
Specifying opacity: 0 in the @starting-style rule means the element will transition opacity from 0 to 1＼
</p>
		<ul>
			<li>
要素が~treeの中へ挿入されるとき
◎
when inserted into the tree or＼
</li>
			<li>
要素に `hidden^css ~classが追加された結果，要素の `display$p が `none＠~CSSVAL#valdef-display-none$v から `block＠~CSSVAL#valdef-display-block$v へ切り替わるとき
◎
when the hidden class flips display from none to block＼
</li>
		</ul>
<p>
これらの事例では、
要素の`変化-前~style$は，まだ無いので。
◎
as the target element does not already have a before-change style in those cases.
</p>
	</li>
	<li>
`#target.hidden^css 規則~内で `opacity$p に `0^v を指定することにより、
`hidden^css ~classが追加されたとき，
`opacity^p は `1^v から `0^v へ遷移するようになる。
◎
Specifying opacity: 0 in the #target.hidden rule makes opacity transition from 1 to 0 when the hidden class is added.
</li>
</ul>
</div>

<p>
大域的な名前を定義している~at-規則
— `keyframes$at, `font-face$at, `layer$at など —
は、
`starting-style$at の内側でも許容される
— 在る場合、
当の `starting-style$at の外側に在ったかのように挙動する。
◎
Global, name-defining at-rules such as @keyframes, @font-face, and @layer are allowed inside @starting-style, and when present behave as if they were outside of @starting-style.
</p>

			<section id="the-cssstartingstylerule-interface">
<h4 title="The CSSStartingStyleRule interface">3.3.1. `CSSStartingStyleRule^I interface</h4>

<p>
`CSSStartingStyleRule$I ~interfaceは、
`starting-style$at 規則を表現する。
◎
The CSSStartingStyleRule interface represents a @starting-style rule.
</p>

<pre class="idl">
[`Exposed$=Window]
interface `CSSStartingStyleRule@I : `CSSGroupingRule$I {
};
</pre>

			</section>
		</section>
	</section>
	<section id="application">
<h2 title="Application of transitions">4. 遷移の適用</h2>

		<section id="animation-composite-order">
<h3 title="Animation composite order">4.1. ~animationの組成-順序</h3>

<p>
この仕様が定義する~markup【すなわち，~CSS遷移~prop宣言】から生成された`~animation$が属する`~animation~class$は、
`~CSS遷移^i（ `CSS Transition^en ）とする。
◎
Animations generated from the markup defined in this specification have an animation class of ‘CSS Transition’.
</p>

<p class="trans-note">【
そのような~classに属する~animationも， “~CSS遷移” と称される。
また， “~CSS~animation（ `CSS Animation^en ）” は、
`CSS-ANIMATIONS-1$r に定義される~animation／それらが属する`~animation~class$を表す。
】</p>

<p>
~CSS遷移の`組成-順序$は、［
`~CSS~animation^i ／
特定の`~animation~class$に属さない~animation
］より前とする。
◎
CSS Transitions have an earlier composite order that CSS Animations and animations without a specific animation class.
</p>

<p>
~CSS遷移どうしの`組成-順序$は、
次に従って~sortする：
◎
Within the set of CSS Transitions, two animations A and B are sorted in composite order (first to last) as follows:
</p>

<ol>
	<li>
`所有している要素$が無いものどうしは、
`大域~animation~list$内における順序に従う。
◎
If neither A nor B has an owning element, sort based on their relative position in the global animation list.
</li>
	<li>
`所有している要素$が在るものは無いものより前に~sortする。
◎
Otherwise, if only one of A or B has an owning element, let the animation with an owning element sort first.
</li>
	<li>
`所有している要素$が在って互いに相違するものどうしは、
`所有している要素$の`~tree順序$に従う。
この~tree順序においては、
同じ`出自の要素$ %要素 を~~共有する疑似要素は，
次に挙げる順に~sortする
⇒＃
%要素,
`marker^pe,
`before^pe,
ここでは特定的に言及されない他の疑似要素 — ~Unicode符号位置の昇順で,
`after^pe,
%要素 の子
◎
Otherwise, if the owning element of A and B differs, sort A and B by tree order of their corresponding owning elements. With regard to pseudo-elements, the sort order is as follows:
• element
• ::marker
• ::before
• any other pseudo-elements not mentioned specifically in this list, sorted in ascending order by the Unicode codepoints that make up each selector
• ::after
• element children
</li>
	<li>
<p>
`所有している要素$が同じものどうしは：
◎
↓</p>
		<ol>
			<li>
各自の`遷移~生成回$の昇順に~sortする。
◎
Otherwise, if A and B have different transition generation values, sort by their corresponding transition generation in ascending order.
</li>
			<li>
`遷移~生成回$も同じものどうしは、
各`展開された遷移~prop名$を成す~Unicode符号位置により，昇順に~sortする
（すなわち、
文字大小変換を試みることなく，
`-moz-column-width^p などは `column-width^p より前に~sortする）。
◎
Otherwise, sort A and B in ascending order by the Unicode codepoints that make up the expanded transition property name of each transition (i.e. without attempting case conversion and such that ‘-moz-column-width’ sorts before ‘column-width’).
</li>
		</ol>
	</li>
</ol>

<p>
ただし、
遷移~eventどうしを~sortするために`組成-順序$を決定する目的においては
⇒
2 つの遷移~eventどちらかは `transitioncancel$et ~eventである所では、
遷移を取消す直前に設定された［
`所有している要素$, `遷移~生成回$
］を利用して~sortするとする。
◎
When determining the composite order in order to sort transition events where either or both of the events is a transitioncancel event, use the owning element and transition generation that were set immediately prior to cancelling the transition.
</p>

<p>
この仕様が定義する~markupを利用して生成された遷移は、
作成された時点では，`大域~animation~list$には`追加されない^em。
代わりに，これらの~animationは、［
それを`所有している要素$から切離された後，
その`再生-状態$が `遊休中$i から他へ遷移した最初の~moment
］に，`大域~animation~list$に付加される。
`所有している要素$から切離されたが依然として `遊休中$i にある遷移に対しては、
`組成-順序$は定義されない。
◎
Transitions generated using the markup defined in this specification are not added to the global animation list when they are created. Instead, these animations are appended to the global animation list at the first moment when they transition out of the idle play state after being disassociated from their owning element. Transitions that have been disassociated from their owning element but are still idle do not have a defined composite order.
</p>

<p class="note">注記：
この挙動は、
`所有している要素$から切離された遷移は，常に`遊休中$iになる（新たにそうなるか，そうであり続ける）事実に依拠する。
◎
Note: This behavior relies on the fact that disassociating a transition from its owning element always causes it to enter (or remain) in the idle play state.
</p>
		</section>
		<section id="cascade-level">
<h3 title="Animation cascade level">4.2. ~animationの~cascade~level</h3>

<p>
`~animation~class$ `~CSS遷移^i （ `‘CSS Transition’^en ）に属する~animationのうち，`所有している要素$が在るものは、
~CSS~cascadeの “遷移~宣言” ~levelに適用される【`~cascade出自$を見よ】。
この仕様が定義する~markupにより生成される他のすべての~animationは、
`所有している要素$が無い（無くなった）ものも含め，
~cascadeの “~animation宣言” ~levelに適用される。
（`§ 組成された結果の適用-法＠~WANIM#applying-the-composited-result$ `WEB-ANIMATIONS$r を見よ）。
◎
Animations with an animation class of ‘CSS Transition’ that have an owning element are applied to the ‘Transitions declaration’ level of the CSS cascade. All other animations generated by the markup defined in this specification, including animations that no longer have an owning element, are applied to the ‘Animation declarations’ level of the cascade. (See Web Animations § 5.4.5 Applying the composited result.)
</p>

		</section>
	</section>
	<section id="transition-events">
<h2 title="Transition Events">5. 遷移~event</h2>

		<section id="event-dispatch">
<h3 title="Event dispatch">5.1. ~eventの配送-法</h3>

<p class="note">注記：
~WAnim~API `WEB-ANIMATIONS$r を利用して~animationが［
~seekされる／逆再生される
］可能性を織り込むため、
この節の記述は，`~level 1$ による~event配送-法より一般的である。
さらには、
~WAnimを利用して，遷移~効果を［
通常は遷移と伴には利用されない~prop
］を伴う まったく異なる効果で代用することもアリである
（例：複数回~繰返す効果）。
よって，この節は、
~WAnim~modelの全部的な複階性を織り込む汎用な定義を供する。
◎
Note, this is a more general description of event dispatch than that of CSS Transitions Level 1 [CSS-TRANSITIONS-1] since it must account for the possibility of animations being seeked or reversed using the Web Animations API [WEB-ANIMATIONS]. Furthermore, it is possible using the Web Animations API to substitute the transition effect with an entirely different effect with properties not normally used with transitions (e.g. an effect that repeats multiple times) and hence this section provides a generic definition that accounts for the full complexity of the Web Animations model.
</p>

<p>
遷移~event用の`~target$は、
当の遷移を`所有している要素$になる。
`所有している要素$は無い場合、
配送される遷移~eventも無い
（それでも、
~WAnimに定義される`~animation再生~event$は，
対応している `CSSTransition$I ~objに向けて配送されるが）。
◎
The target for a transition event is the transition’s owning element. If there is no owning element, no transition events are dispatched (although the animation playback events defined in Web Animations are still dispatched at the corresponding CSSTransition object).
</p>

<p>
冗長な~eventの発火を避けるため、
前回の`~animation~frame$における遷移の`遷移~相$を現在のそれと比較すること基づいて，一連の~eventを配送する。
◎
To avoid firing redundant events, the set of events to dispatch is based on comparing the phase of the transition in the previous animation frame to its current state.
</p>

<p>
各~遷移 %遷移 の
`遷移~相@
は、
初期~時は `遊休~相^i とする。
それは、
各`~animation~frame$ごとに，次に従って更新される：
◎
The transition phase of a transition is initially ‘idle’ and is updated on each animation frame according to the first matching condition from below:
</p>

<ol>
	<li>
<p>
~IF［
%遷移 に`結付けられた効果$ ~EQ ~NULL
］：
◎
If the transition has no associated effect,
• The transition phase is set according to the first matching condition from below:
</p>
		<ol>
			<li>
~IF［
%遷移 の`現-時刻$ ~EQ `未解決$
］
⇒
~RET `遊休~相^i
◎
If the transition has an unresolved current time,
• The transition phase is ‘idle’.
</li>
			<li>
~IF［
%遷移 の`現-時刻$ ~LT 0
］
⇒
~RET `事前~相^i
◎
If the transition has a current time &lt; 0,
• The transition phase is ‘before’.
</li>
			<li>
~RET `事後~相^i
◎
Otherwise,
• The transition phase is ‘after’.
</li>
		</ol>
	</li>
	<li>
~IF［［
%遷移 の`処理待ち再生-~task$ ~NEQ ε
］~OR［
%遷移 の`処理待ち静止-~task$ ~NEQ ε
］］~AND［
前回の`~animation~frame$における`遷移~相$ ~IN { `遊休~相^i, `処理待ち^i }
］
⇒
~RET `処理待ち^i
◎
If the transition has a pending play task or a pending pause task and its phase was previously ‘idle’ or ‘pending’,
• The transition phase is ‘pending’.
</li>
	<li>
~RET `結付けられた効果$の`相＠~WANIM#animation-effect-phases-and-states$
◎
Otherwise,
• The transition phase is the phase of its associated effect.
</li>
</ol>

<p>
各~eventの `elapsedTime$m（`経過d時間$）を計算する際には、
次の定義が利用される：
◎
For calculating the elapsedTime of each event, the following definitions are used:
</p>

<ul>
	<li>
`区間~始端@
~EQ `max^op( `min^op( ~MINUS `開始-遅延$, `作動~所要時間$ ), 0 )
◎
interval start = max(min(-start delay, active duration), 0)
</li>
	<li>
`区間~終端@
~EQ `max^op( `min^op( `結付けられた効果の終端$ ~MINUS `開始-遅延$, `作動~所要時間$ ), 0)
◎
interval end = max(min(associated effect end - start delay, active duration), 0)
</li>
</ul>

<p>
上の公式における遷移の［
`開始-遅延$,
`作動~所要時間$,
`現在の反復~index$,
`反復~始端$,
`反復~所要時間$
］は、
当の遷移に`結付けられた効果$の各種~propを指すものと解するベキである。
◎
In the above formulae, references to the start delay, active duration, current iteration, iteration start, and iteration duration of a transition should be understood to refer to the corresponding properties of the transition’s associated effect.
</p>

<p>
新たな`~animation~frame$が確立される各回にて配送する~event【, およびその`経過d時間$】は、［
前回の~animation~frame, 現在の~animation~frame
］における`遷移~相$を次に従って比較することにより決定される：
◎
Each time a new animation frame is established, the events to dispatch are determined by comparing the transition phase in the previous and current animation frame as follows:
</p>

<div>
<table><thead>

<tr><td><td><th colspan="5">現在の相
<tr><td><td>
<th>`処理待ち^i
<th>`事前~相^i
<th>`作動~相^i
<th>`事後~相^i
<th>`遊休~相^i
<tbody>

<tr><th rowspan="5">前回の相
<th>`処理待ち^i
<td>
<td>
<td>Ss
<td>Ss, Ee
<td>C

<tr><th>`事前~相^i
<td>
<td>
<td>Ss
<td>Ss, Ee
<td>C

<tr><th>`作動~相^i
<td>
<td>Es
<td>
<td>Ee
<td>C

<tr><th>`事後~相^i
<td>
<td>Se, Es
<td>Se
<td>
<td>

<tr><th>`遊休~相^i
<td>R
<td>R
<td>R, Ss
<td>R, Ss, Ee
<td>
</table>

<p id="multiple-events-note">
上の表tの各欄に挙げられた記号は、
下の表tに示す対応する~eventが，挙げられた順に間を置かずに配送されることを表す
（空欄は、配送される~eventは無いことを表す）。
</p>

<table>
<caption>
上の表tの各欄に現れる記号の~~意味
</caption>
<thead>
<tr><th>記号
<th>配送される~event
<th>`経過d時間@
<tbody>

<tr><td>R
<td>`transitionrun$et
<td>`区間~始端$

<tr><td>Ss
<td>`transitionstart$et
<td>`区間~始端$

<tr><td>Se
<td>`transitionstart$et
<td>`区間~終端$

<tr><td>Es
<td>`transitionend$et
<td>`区間~始端$

<tr><td>Ee
<td>`transitionend$et
<td>`区間~終端$

<tr><td>C
<td>`transitioncancel$et
<td>（下を見よ）
</table>

<p>
C に対応する~eventの経過d時間は、
取消された~momentにおける~animationの`作動~時刻$として与えられ，
`延伸~mode$に `両方^i【, および変化-前の相】 を利用する下で計算される。
</p>

◎
Change｜Events dispatched｜Elapsed time (ms)
idle → pending or before｜transitionrun｜interval start
idle → active*｜transitionrun｜interval start
〃｜transitionstart｜〃
idle → after*｜transitionrun｜interval start
〃｜transitionstart｜〃
〃｜transitionend｜interval end
pending or before → active｜transitionstart｜interval start
pending or before → after*｜transitionstart｜interval start
transitionend｜interval end
active → after｜transitionend｜interval end
active → before｜transitionend｜interval start
after → active｜transitionstart｜interval end
after → before*｜transitionstart｜interval end
〃｜transitionend｜interval start
not idle and not after → idle｜transitioncancel｜The active time of the animation at the moment it was canceled calculated using a fill mode of both.
◎
* Where multiple events are listed for a state change, all events are dispatched in the order listed and in immediate succession.
</div>

<p>
上に定義される`経過d時間$は~milli秒数で表出されるので、
`TransitionEvent$I の `elapsedTime$m ~memberにアテガうときは，
その前に 1000 で除算して秒単位の値を生産するモノトスル。
◎
Since the elapsed time defined in the table and procedure above is expressed in milliseconds, it must be divided by 1,000 to produce a value in seconds before being assigned to the elapsedTime member of the TransitionEvent.
</p>

<div class="note">注記：

<p>
上の状態~遷移~図は
— 静止されたもの, 稼働~時間が無限なものは例外として —
遷移が次の不変則を満たすことを確保する：
◎
The above state transition chart ensures that, with the exception of transitions that are paused or have an infinite running time, the following invariants hold:
</p>

<ul>
	<li>
各 `transitionrun$et ~eventごとに，［
`transitionend$et, `transitioncancel$et
］のうち`片方だけ^emが必ずあり、
~~両方とも生じることは決してない。
◎
For every transitionrun event there will be a exactly one transitionend or transitioncancel and never both.
</li>
	<li>
各 `transitionstart$et ~eventごとに，［
`transitionend$et, `transitioncancel$et
］のうち`片方だけ^emが必ずあり、
~~両方とも生じることは決してない。
◎
For every transitionstart event there will be a exactly one transitionend or transitioncancel and never both.
</li>
	<li>
各 `transitionend$et ~eventには、
対応する `transitionstart$et ~eventが先行する。
◎
Every transitionend event is preceded by a corresponding transitionstart event.
</li>
</ul>

<p>
代表的な~event連列は、
次のようになる：
◎
The typical sequences of events, then, are as follows:
</p>

<ul>
	<li>
定例の再生
⇒＃
`transitionrun$et,
`transitionstart$et,
`transitionend$et
◎
Regular playback: transitionrun, transitionstart, transitionend.
</li>
	<li>
中断された再生
⇒＃
`transitionrun$et,
`transitionstart$et,
`transitioncancel$et
◎
Interrupted playback: transitionrun, transitionstart, transitioncancel.
</li>
	<li>
遅延または `処理待ち相^i の間に中断された再生
⇒＃
`transitionrun$et,
`transitioncancel$et
◎
Interrupted playback during delay or pending phase: transitionrun, transitioncancel.
</li>
	<li>
完了~後の逆方向への再生
⇒＃
`transitionrun$et,
`transitionstart$et,
`transitionend$et,
`transitionstart$et,
`transitionend$et
◎
Reversed playback after completion: transitionrun, transitionstart, transitionend, transitionstart, transitionend.
</li>
</ul>

</div>

		</section>
	</section>

	<section id="interface-dom">
<h2 title="DOM Interfaces">6. ~DOM~interface</h2>

		<section id="the-CSSTransition-interface">
<h3 title="The CSSTransition interface">6.1. `CSSTransition^I ~interface</h3>

<pre class="idl">
[`Exposed$=Window]
interface `CSSTransition@I : `Animation$I {
  readonly attribute `CSSOMString$ `transitionProperty$m;
};
</pre>

<dl>
	<dt>`transitionProperty@m
◎
transitionProperty, of type CSSOMString, readonly
</dt>
	<dd>
この遷移の`展開された遷移~prop名$。
◎
The expanded transition property name of this transition.
</dd>
</dl>

		</section>
		<section id="requirements-on-pending-style-changes">
<h3 title="Requirements on pending style changes">6.2. 処理待ち~style変化に対する要件</h3>

<div class="p">
<p>
様々な演算が要素~上の~propの`算出d値$に影響し得る。
~UAは、
最適化として，必要yあるまで これらの値を算出し直すのを先送りしてもヨイ。
しかしながら，次に挙げる演算は、［
算出d値に対する処理待ち変化を全部的に処理したとき
］と整合な結果を生産するモノトスル：
</p>

<ul>
	<li>
この仕様が定義する~APIに含まれる すべての演算
</li>
	<li>
~WAnim `WEB-ANIMATIONS$r に定義される演算のうち，この仕様が定義する~objを返し得るもの
</li>
</ul>

◎
Various operations may affect the computed values of properties on elements. User agents may, as an optimization, defer recomputing these values until it becomes necessary. However, all operations included in programming interface defined in this specification, as well as those operations defined in Web Animations [WEB-ANIMATIONS] that may return objects defined by this specification, must produce a result consistent with having fully processed any such pending changes to computed values.
</div>

<div class="note">

<p>注記：
例えば下の~code片のように，
初期~時に %elem の `opacity$p ~propの指定d値が更新されたとき、
~UAは， `opacity^p ~propの算出d値を計算し直すのを先送りしてもヨイ。
◎
As an example, in the following code fragment, when the specified value of elem’s opacity property is updated, a user agent may defer recalculating the computed value of the opacity property.
</p>

<p>
初回の更新-後に，
`getComputedStyle(elem)$m が~callしてから結果を成す `opacity^p ~propに~accessされると、
~UAに `opacity^p の値を算出し直させることになる。
◎
The first time this occurs, calling getComputedStyle(elt) and subsequently accessing the opacity property of the result will cause the user agent to recompute the value of opacity.
</p>

<p>
`opacity$p ~propに対する 2 回目の更新-後に，
%elem 上で `getAnimations()$m ~methodが~callされる。
この~methodは、
~WAnimにより指定され，
この仕様に定義したとおり `CSSTransition$I ~objを返し得る。
よって，この節による要件の結果として、
~UAは，処理待ち~style変化を適用しなければならず、
結果を返す前に `opacity^p ~prop用の新たな `CSSTransition$I を生成する。
◎
After the opacity property is updated a second time, the getAnimations() method is called on elem. This method is specified by Web Animations and can return CSSTransition objects as defined in this specification. Hence, as result of the requirements in this section, the user agent must apply any pending style changes thus generating a new CSSTransition for the opacity property before returning its result.
</p>

<pre class="example lang-js">
%elem.style.transition = 'opacity 100s';
%elem.style.opacity = '0';
window.getComputedStyle(%elem).opacity; // 0
%elem.style.opacity = '1';
%elem.getAnimations()[0].transitionProperty // 'opacity'
</pre>

</div>

		</section>
	</section>
	<section id="privacy">
<h2 title="Privacy Considerations">~privacyの考慮点</h2>

<p>
この仕様に対し報告された，新たな~privacyの考慮点は、無い。
◎
No new privacy considerations have been reported on this specification.
</p>

	</section>
	<section id="security">
<h2 title="Security Considerations">~securityの考慮点</h2>

<p>
この仕様に対し報告された，新たな~securityの考慮点は、無い。
◎
No new security considerations have been reported on this specification.
</p>

	</section>
	<section id="changes">
<h2 title="Changes">変更点</h2>

<dl>
	<dt id="changes-20230905">
`2023年 9月 5日 最初の公な作業草案＠~TR/2023/WD-css-transitions-2-20230905/$
からの変更点
◎
9.1. Changes since First Public Working Draft (5 September 2023)
</dt>
	<dd>
`transitioncancel$et ~eventの順序を定義した。
◎
Define the order of transitioncancel events. 
</dd>

	<dt id="changes-fpwd">
最初の公な作業草案における`~level 1$ からの変更点
◎
Changes since Level 1, in First Public Working Draft
</dt>
	<dd>
遷移は、
今や，離散的に~animate可能な~propにも生じ得る。
新たに導入された `transition-behavior$p ~propは、
この挙動を~~任意で選ぶことを許容する。
◎
Transitions can now occur on discretely-animatable properties. The newly-introduced transition-behavior property allows opting in to this behavior.
</dd>
	<dd>
描画されていない~~状態から描画されるよう~styleが変化する要素に対する遷移を許容するため、
`starting-style$at 規則
（および `CSSStartingStyleRule$I ~interface）
を導入した。
◎
The @starting-style rule (and CSSStartingStyleRule interface) is introduced to allow transitions on elements whose style changes from not being rendered to being rendered.
</dd>
	<dd>
<p>
~WAnim~APIとの相互作用をもっと明瞭に指定した：
◎
Interactions with the Web Animations API are more clearly specified:
</p>
		<ul>
			<li>
`CSSTransition$I ~interfaceを定義した。
◎
The CSSTransition interface is defined.
</li>
			<li>
生成された~animationたちが成す`組成-順序$を定義した。
◎
The composite order of the generated animations is defined.
</li>
			<li>
生成された~animationたちが成す`~animation~class$を定義した。
◎
The animation class of the generated animations is defined.
</li>
			<li>
［
遷移から作成され，~WAnim~APIを通して再利用される~animation~obj
］たちが成す~cascade~levelを
— それを定義するために必要な，`所有している要素$の概念とともに —
定義した。
◎
The cascade level of animation objects that were created from transitions and then reused through the Web Animations API is defined, along with the concept of owning element needed to define it.
</li>
			<li>
~animationが~WAnim~APIを利用して［
~seekされる／逆再生される
］とき何が起こるか説明するため、
~event配送-用の規則を指定した。
◎
The rules for event dispatch have been specified to explain what happens when the animations are seeked or reversed using the Web Animations API.
</li>
			<li>
~WAnim~APIと中断された遷移の速やかな逆再生~用の規則との相互作用を指定した。
◎
Interaction of the Web Animations API with the rules for faster reversing of interrupted transitions is specified.
</li>
			<li>
`処理待ち~style変化に対する要件＠#requirements-on-pending-style-changes$を指定した。
◎
§ 6.2 Requirements on pending style changes are specified.
</li>
		</ul>
	</dd>
	<dd>
もはや描画されなくなった要素に対する遷移の取扱いを もっと明瞭に定義した
（遷移は、
取消され，`完了した遷移$たちが成す集合から除去される）。
◎
The handling of transitions on elements that are no longer being rendered is more clearly defined (the transitions are canceled and removed from the set of completed transitions).
</dd>
</dl>

	</section>
	<section id="issues-common">
<h2 title="Issues commonly raised as issues with previous levels">以前の~levelにて共通的に提起された課題</h2>

<p>
この節に挙げる課題は、
この仕様の以前の~levelにて共通的に報告されたものである。
◎
These issues were commonly reported issues with the previous level of the specification.
</p>

<p class="issue">
開発者からは、
もっと強力な計時~関数~構文が共通的に要請されている。
例えば、
`2013 message＠https://lists.w3.org/Archives/Public/www-style/2013Jun/0376.html$
や
`2015 thread＠https://lists.w3.org/Archives/Public/public-fx/2015JulSep/thread.html#msg34$
を見よ。
◎
More powerful timing function syntax is a common request from developers. See, for example: 2013 message or 2015 thread.
</p>

<p class="issue">
開発者は、
遷移を開始するよう強制するために，~style~flushを誘発する必要が~~頻繁にある。
この要件を避けるような~APIがあると良い。
例えば、
`2011年の提案＠https://lists.w3.org/Archives/Public/www-style/2011Mar/0729.html$
を見よ。
◎
Developers frequently have to trigger style flushes in order to force transitions to start. It would be good to have an API that would avoid this requirement. See, for example, 2011 proposal.
</p>

	</section>
	<section id="issues-spec">
<h2 title="Issues deferred from previous levels of the spec">以前の~levelの仕様から先送りされた課題</h2>

<p>
この節に挙げる課題は、
この仕様の以前の~levelにあったが，
この~levelでも重要かどうかは明らかでない。
◎
These issues were in previous levels of the specification, but may not turn out to be important in this level either.
</p>

<p class="issue">
~~最終的には、
`transition-property$p ~prop用の~keypath構文を~supportしたい。
~keypath構文は、
~propを成す各~成分ごとに異なる遷移を指定することを可能化する。
例えば、
影のボカシ, 色に異なる遷移を用いるような。
◎
We may ultimately want to support a keypath syntax for the transition-property property. A keypath syntax would enable different transitions to be specified for components of a property. For example the blur of a shadow could have a different transition than the color of a shadow.
</p>

	</section>
</main></div>

