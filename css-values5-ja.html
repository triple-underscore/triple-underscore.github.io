<!DOCTYPE html><html lang="ja"><head><meta charset="utf-8">
<title>CSS の値と単位 — CSS Values and Units Module Level 4 （日本語訳）</title>

<link rel="stylesheet" href="common.css" type="text/css">
<link rel="stylesheet" href="common-css.css" type="text/css">

<script src="common0.js"></script>
<script src="common1.js" async></script>

<script>

Util.ready = function(){
	var source_data = {
		generate: expand
	};
	Util.switchWordsInit(source_data);
}

function expand(){
	const class_map = this.class_map;
	const tag_map = this.tag_map;
	var link_map = this.link_map;

	return this.html.replace(
		/%[\w\-~一-鿆あ-ん]+|`(.*?)([$@^])(\w*)/g,
		create_html
	);

	function create_html(match, key, indicator, klass){
if(!key) {//%
	return `<var>${match.slice(1)}</var>`;
}

let href = '';
let href1 = '';
{
	const n = key.indexOf('＠');
	if(n > 0) {
		href1 = key.slice(n + 1);
		key = key.slice(0, n);
	}
}
let text = key;

switch(klass){
case 'r':
	text = `[${key}]`;
	href = `#biblio-${key.toLowerCase()}`;
	break;
case 'f':
	const n = text.indexOf('(');
	if(n > 0){
		key = text.slice(0, n);
	} else {
		text = `${key}()`;
	}
	break;
case 't':
	text = `&lt;${key}&gt;`;
	key = key.replace(/\s*\[.+/, '');
	break;
case 'p':
	{
		const i = key.indexOf(':');
		if( i > 0 ){
			key = text.slice(0, i);
			text = `${key}: <code class="value">${text.slice(i+1)}</code>`;
		}
	}
	break;
case 'l':
	text = `"<code class="literal">${text}</code>"`;
	break;
case 'en':
	return `<span lang="en">${key}</span>`
	break;
case 'xCode':
	return `<a id="_ex-html-${key}">＊</a>`;
	break;
case 'issue':
	href = `~CSSissue/${key}`;
	text = `課題 #${key}`;
	break;
}

let tag = tag_map[klass];
if(tag) {
	let classname = class_map[klass];
	classname = classname ? ` class="${classname}"` : '';
	text = `<${tag}${classname}>${text}</${tag}>`;
}

if(indicator !== '^'){
	href = href1 || link_map[ klass ? `${klass}.${key}` : key ] || href;
	if(!href){
		console.log(match); // check error
		return match;
	}

	switch(indicator){
	case '$':
		text = `<a href="${href}">${text}</a>`;
		break;
	case '@':
		text = `<dfn id="${href.slice(1)}">${text}</dfn>`;
		break;
	}
}

return text;

	}
}
</script>

<script type="text/plain" id="_source_data">


●●options

spec_title:CSS Values and Units Module Level 5
spec_date:2023-04-06
trans_update:2023-04-15
	source_checked:
page_state_key:CSS
original_url:https://drafts.csswg.org/css-values-5/
spec_status:ED
ref_id_prefix:biblio-
ref_id_lowercase:true
conformance:css
copyright:2023,permissive
trans_1st_pub:2023-04-15

●●class_map
p:property
css:css
t:type
u:unit
f:func
v:value
e:element
a:attr
P:prod

●●tag_map
p:code
t:var
css:code
v:code
e:code
a:code
f:code
u:code
c:code
P:code
i:i
em:em
I:code
cite:cite

●●words_table1

●●words_table

	●構文
	-:trimming
	文字大小区別かどうか:case-sensitivity
	構文に:syntactically
	値~全体:sole value
	現れて:appear
	2 回:twice
	欠落している:missing
	`ident-token$t:ident

	●CSS
出自の:originating::~
全域:wide:~
math:
計算式:calculation:~

	継承されない:non-inherited
	下位prop:longhand
	名前空間を伴う:namespaced

	●処理
代用-:substitute::~
代用:substitution::~
剥いだ:stripした:~

	%要請:req
	%~URL:url
	~EACH:in sequence
	得られ:yield
	-:earliest
	-:looked up

	●仕様
短絡-:short-circuit:~
差分:diff:~
近過去:recent:~
整理:cleanup:~
違法:illegal:~
稀:rare:~
自明:trivial:~

	調べる:look at
	〜過ぎ:overly
	ほとんど，~mostly
	~level 4:`CSS-VALUES-4$r
	`CSS21$r :Level 2
	〜とする:called
	欄:line
	書き直す:rewrite
	~~考えて:think
	確かめる:make sure
	〜にも:partially

	●未分類
toggle:
所在指定子:locator::~
改変子:modifier::~
式:expression::~
normal:
	~normal体:normal#1
italic:
	~italic体:~italic:#2
図形:shape:~
	図形:shaped
巡回-:cycle:~
種類:kind:~
数量-:numeric:~

	階が深まるごとに:repeat
	-:present
	深さで:deep
	成す:constitute
	時点:time
	~~説明:illustrate
	そのまま:literal


●●original_id_map

●●mdn_urls
●●link_map

	●p
p.background-position:~CSSBG#propdef-background-position
p.height:~SIZING#propdef-height
p.width:~SIZING#propdef-width
p.list-style-type:~CSSLIST#propdef-list-style-type

	●t （構文
t.any-value:~CSSSYN#typedef-any-value
t.declaration-value:~CSSSYN#typedef-declaration-value
t.delim-token:~CSSSYN#typedef-delim-token
t.dimension-token:~CSSSYN#typedef-dimension-token
t.number-token:~CSSSYN#typedef-number-token
t.percentage-token:~CSSSYN#typedef-percentage-token
t.ident-token:~CSSSYN#typedef-ident-token
t.hash-token:~CSSSYN#typedef-hash-token

	●t
t.angle:~CSSVAL#angle-value
t.attr-type:#typedef-attr-type
t.calc-sum:~CSSVAL#typedef-calc-sum
t.color:~CSSCOLOR#typedef-color
t.crossorigin-modifier:#typedef-request-url-modifier-crossorigin-modifier
t.custom-ident:~CSSVAL#identifier-value
t.dashed-ident:~CSSVAL#typedef-dashed-ident
t.dimension-unit:#typedef-dimension-unit
t.dimension:~CSSVAL#typedef-dimension
t.flex:~CSSGRID#typedef-flex
t.frequency:~CSSVAL#frequency-value
t.hex-color:~CSSCOLOR#typedef-hex-color
t.integrity-modifier:#typedef-request-url-modifier-integrity-modifier
t.length:~CSSVAL#length-value
t.number:~CSSVAL#number-value
t.integer:~CSSVAL#integer-value
t.percentage:~CSSVAL#percentage-value
t.random-caching-options:#typedef-random-caching-options
t.referrerpolicy-modifier:#typedef-request-url-modifier-referrerpolicy-modifier
t.request-url-modifier:#typedef-request-url-modifier
t.string:~CSSVAL#string-value
t.time:~CSSVAL#time-value
t.toggle-value:#typedef-toggle-value
t.url-modifier:~CSSVAL#typedef-url-modifier
t.url:~CSSVAL#url-value

	●f
f.attr:#funcdef-attr
f.calc:~CSSVAL#funcdef-calc
f.random-item:#funcdef-random-item
f.random:#funcdef-random
f.round:~CSSVAL#funcdef-round
f.toggle:#funcdef-toggle
f.url:~CSSVAL#funcdef-url
f.var:~CSSVAR#funcdef-var

	●v

v.angle:#valdef-attr-angle
v.color:#valdef-attr-color
v.flex:#valdef-attr-flex
v.frequency:#valdef-attr-frequency
v.ident:#valdef-attr-ident
v.length:#valdef-attr-length
v.number:#valdef-attr-number
v.percentage:#valdef-attr-percentage
v.string:#valdef-attr-string
v.time:#valdef-attr-time
v.url:#valdef-attr-url

v.integrity:#funcdef-request-url-modifier-integrity
v.referrerpolicy:#funcdef-request-url-modifier-referrerpolicy
v.crossorigin:#funcdef-request-url-modifier-crossorigin

v.anonymous:#valdef-request-url-modifier-anonymous
v.no-referrer-when-downgrade:#valdef-request-url-modifier-no-referrer-when-downgrade
v.no-referrer:#valdef-request-url-modifier-no-referrer
v.origin-when-cross-origin:#valdef-request-url-modifier-origin-when-cross-origin
v.origin:#valdef-request-url-modifier-origin
v.same-origin:#valdef-request-url-modifier-same-origin
v.strict-origin-when-cross-origin:#valdef-request-url-modifier-strict-origin-when-cross-origin
v.strict-origin:#valdef-request-url-modifier-strict-origin
v.unsafe-url:#valdef-request-url-modifier-unsafe-url
v.use-credentials:#valdef-request-url-modifier-use-credentials

v.circle:~CSSCOUNTER#circle
	v.circle:~CSS22#value-def-circle
v.disc:~CSSCOUNTER#disc
	v.disc:~CSS22#value-def-disc
v.square:~CSSCOUNTER#square
	v.disc:~CSS22#value-def-square
v.green:~CSSCOLOR#valdef-color-green
v.inherit:~CASCADE#valdef-all-inherit
v.blue:~CSSCOLOR#valdef-color-blue
v.red:~CSSCOLOR#valdef-color-red


	●code 他
u.ms:~CSSVAL#ms
u.px:~CSSVAL#px

I.ReferrerPolicy:~REFERRER-POLICY#enumdef-referrerpolicy


	●用語
~URL値からの要請~改変子を適用する:#apply-request-modifiers-from-url-value
~random-caching~key:#random-caching-key
~random関数:#css-random-functions
代用する:#substitute-an-attr
代用-:#substitute-an-attr
代用~値:#attr-substitution-value

	●用語（ level 4
~level 4:#biblio-css-values-4

~URLの要請~改変子~用の手続き:~CSSVAL#url-request-modifier-steps

~CSS全域~keyword:~CSSVAL#css-wide-keywords
~math関数:~CSSVAL#math-function
型を決定する:~CSSVAL#determine-the-type-of-a-calculation
計算式:~CSSVAL#calc-calculation
計算式~treeを単純~化する:~CSSVAL#simplify-a-calculation-tree
関数-記法:~CSSVAL#functional-notation
次元:~CSSVAL#dimension


	●用語（CSS
~custom~prop:~CSSVAR#custom-property
無効が保証される値:~CSSVAR#guaranteed-invalid-value
算出d値の時点で無効:~CSSVAR#invalid-at-computed-value-time

出自の要素:~SELECTORS4#originating-element
属性~選択子:~SELECTORS4#attribute-selector

略式~prop:~CASCADE#shorthand-property
算出d値:~CASCADE#computed-value
使用~値:~CASCADE#used-value
継承d値:~CASCADE#inherited-value

成分~値を構文解析する:~CSSSYN#parse-a-component-value

有名~色:~CSSCOLOR#named-color

	●用語（外部

~tuple:~INFRA#tuple
前後の~ASCII空白~列を剥いだ:~INFRA#strip-leading-and-trailing-ascii-whitespace

属性:~DOM4#concept-attribute
要素:~DOM4#concept-element
要請:~FETCH#concept-request
rq.~mode:~FETCH#concept-request-mode
rq.~referrer施策:~FETCH#concept-request-referrer-policy
rq.完全性~metadata:~FETCH#concept-request-integrity-metadata
rq.資格証~mode:~FETCH#concept-request-credentials-mode

●●images

●●html_code_list

■attr-types-1
<在庫>
  <木材 長さ="12"/>
  <木材 長さ="5"/>
  <金属 長さ="19"/>
  <木材 長さ="4"/>
</在庫>
％
在庫::before {
  display: block;
  content: "ある縮尺による，在庫の各素材の長さ：";
}
在庫 > * {
  display: block;
  width: attr(length em, 0px);
  height: 1em;
  border: solid thin;
  margin: 0.5em;
}
木材 {
  background: orange url(wood.png);
}
金属 {
  background: silver url(metal.png);
}

<stock>
  <wood length="12"/>
  <wood length="5"/>
  <metal length="19"/>
  <wood length="4"/>
</stock>

stock::before {
  display: block;
  content: "To scale, the lengths of materials in stock are:";
}
stock > * {
  display: block;
  width: attr(length em, 0px);
  height: 1em;
  border: solid thin;
  margin: 0.5em;
}
wood {
  background: orange url(wood.png);
}
metal {
  background: silver url(metal.png);
}


●●ref_normative

[CSS-CASCADE-5]
    Elika Etemad; Miriam Suzanne; Tab Atkins Jr.. ＜CSS Cascading and Inheritance Level 5＞. URL: https://drafts.csswg.org/css-cascade-5/
[CSS-COLOR-4]
    Tab Atkins Jr.; Chris Lilley; Lea Verou. ＜CSS Color Module Level 4＞. URL: https://drafts.csswg.org/css-color/
[CSS-COLOR-5]
    Chris Lilley; et al. ＜CSS Color Module Level 5＞. URL: https://drafts.csswg.org/css-color-5/
[CSS-GRID-2]
    Tab Atkins Jr.; Elika Etemad; Rossen Atanassov. ＜CSS Grid Layout Module Level 2＞. URL: https://drafts.csswg.org/css-grid-2/
[CSS-SYNTAX-3]
    Tab Atkins Jr.; Simon Sapin. ＜CSS Syntax Module Level 3＞. URL: https://drafts.csswg.org/css-syntax/
[CSS-VALUES-4]
    Tab Atkins Jr.; Elika Etemad. ＜CSS Values and Units Module Level 4＞. URL: https://drafts.csswg.org/css-values-4/
[CSS-VARIABLES-2]
    CSS Custom Properties for Cascading Variables Module Level 2 URL: https://drafts.csswg.org/css-variables-2/
[CSS21]
    Bert Bos; et al. ＜Cascading Style Sheets Level 2 Revision 1 (CSS 2.1) Specification＞. URL: https://drafts.csswg.org/css2/
[DOM]
    Anne van Kesteren. ＜DOM Standard＞. Living Standard. URL: https://dom.spec.whatwg.org/
[ECMASCRIPT]
    ＜ECMAScript Language Specification＞. URL: https://tc39.es/ecma262/multipage/
[FETCH]
    Anne van Kesteren. ＜Fetch Standard＞. Living Standard. URL: https://fetch.spec.whatwg.org/
[INFRA]
    Anne van Kesteren; Domenic Denicola. ＜Infra Standard＞. Living Standard. URL: https://infra.spec.whatwg.org/
[REFERRER-POLICY]
    Jochen Eisinger; Emily Stark. ＜Referrer Policy＞. URL: https://w3c.github.io/webappsec-referrer-policy/
[RFC2119]
    S. Bradner. ＜Key words for use in RFCs to Indicate Requirement Levels＞. March 1997. Best Current Practice. URL: https://datatracker.ietf.org/doc/html/rfc2119
[SELECTORS-4]
    Elika Etemad; Tab Atkins Jr.. ＜Selectors Level 4＞. URL: https://drafts.csswg.org/selectors/

●●ref_informative

[CSS-BACKGROUNDS-3]
    Bert Bos; Elika Etemad; Brad Kemper. ＜CSS Backgrounds and Borders Module Level 3＞. URL: https://drafts.csswg.org/css-backgrounds/
[CSS-SIZING-3]
    Tab Atkins Jr.; Elika Etemad. ＜CSS Box Sizing Module Level 3＞. URL: https://drafts.csswg.org/css-sizing-3/
[CSS22]
    Bert Bos. ＜Cascading Style Sheets Level 2 Revision 2 (CSS 2.2) Specification＞. URL: https://drafts.csswg.org/css2/


●●trans_metadata
<p>
~THIS_PAGEは、~W3Cにより編集者草案として公開された
<a href="~SPEC_URL">CSS Values and Units Module Level 5</a>
を日本語に翻訳したものです。
~PUB
</p>

●●spec_metadata

最新公表バージョン
	https://www.w3.org/TR/css-values-5/
公表履歴
	https://www.w3.org/standards/history/css-values-5
フィードバック
	<a href="https://github.com/w3c/csswg-drafts/labels/css-values-5">CSSWG Issues Repository</a>

編集
	<a href="http://xanthir.com/contact/">Tab Atkins</a> (Google)
	<a href="http://fantasai.inkedblade.net/contact">Elika J. Etemad / fantasai</a> (Invited Expert)

Suggest an Edit for this Spec
	<a href="https://github.com/w3c/csswg-drafts/blob/main/css-values-5/Overview.bs">GitHub Editor</a>
commit 履歴
	https://github.com/w3c/csswg-drafts/commits/main/css-values-5

</script>
<body>

<header>
	<hgroup>
<h1>CSS の値と単位 — CSS Values and Units Module Level 5</h1>
	</hgroup>
</header>

<div id="MAIN" hidden>

	<section id="abstract">

~ABSTRACT

<p>
この~CSS~moduleは、
~CSS~propに受容される共通な値と単位，および
~CSS~prop定義の中でそれらの値と単位を述べるために利用される構文について述べる。
◎
This CSS module describes the common values and units that CSS properties accept and the syntax used for describing them in CSS property definitions.
</p>

~CSSisaLANG

	</section>
	<section id="sotd">
~STATUSofTHIS

<p>
これは、編集者草案の公な複製です…
【以下、この節の内容は，~SOTD-CSSに移譲。】
</p>

	</section>

<main id="MAIN0">

	<section id="intro">
<h2 title="Introduction">1. 序論</h2>

<p class="issue">
<strong>
これは、
`~level 4$ からの差分~仕様である。
</strong>
◎
This is a diff spec against CSS Values and Units Level 4.
</p>

		<section id="placement">
<h3 title="Module Interactions">1.1. ~module間の相互作用</h3>

<p>
`~level 4$ は、
`CSS21$r の
`§ 1.4.2.1＠~TR/CSS2/about.html#value-defs$,
`§ 4.3＠~TR/CSS2/syndata.html#values$,
`§ A.2＠~TR/CSS2/aural.html#aural-intro$
による各種~data型~定義を置換して，拡張する。
この~moduleは、
`~level 4$ を拡張する。
◎
This module extends [CSS-VALUES-4] which replaces and extends the data type definitions in [CSS21] sections 1.4.2.1, 4.3, and A.2.
</p>

		</section>
		<section id="urls">
<h3 title="Resource Locators: the &lt;url&gt; type">1.2. 資源の所在指定子： `url$t 型</h3>

<p>
`~level 4$ の `§ 資源の所在指定子＠~CSSVAL#urls$
を見よ。
◎
See CSS Values 4 § 4.5 Resource Locators: the &lt;url&gt; type.
</p>

			</section>
			<section id="request-url-modifiers">
<h4 title="Request URL Modifiers">1.2.1. 要請~URL改変子</h4>

<p>
`request-url-modifier@t
【 “要請~URL改変子” 】は、
`url-modifier$t を表現する
— それは、
自身に結付けられた`~URLの要請~改変子~用の手続き$を適用することにより，
`url$t への資源`要請$に影響する。
`~level 4$ の `§ ~URL処理~model＠~CSSVAL#url-processing$
を見よ。
◎
&lt;request-url-modifier&gt;s are &lt;url-modifier&gt;s that affect the &lt;url&gt;’s resource request by applying associated URL request modifier steps. See CSS Values 4 § 4.5.4 URL Processing Model.
</p>

<p>
この仕様は、
次に挙げる `request-url-modifier$t を定義する：
◎
This specification defines the following &lt;request-url-modifier&gt;s:
</p>

<pre class="prod">
`request-url-modifier$t
    = `crossorigin-modifier$t
	| `integrity-modifier$t
	| `referrerpolicy-modifier$t
</pre>

<dl>
	<dt>
<pre class="prod">
`crossorigin-modifier@t
	= `crossorigin@v(`anonymous@v | `use-credentials@v)
</pre>
</dt>
	<dd class="algo">
<p>
この改変子~用の`~URLの要請~改変子~用の手続き$は、
所与の
( `要請$ %要請 )
に対し：
◎
The URL request modifier steps for this modifier given request req are:
</p>
		<ol>
			<li>
`要請$の`~mode$rq ~SET `cors^l
◎
Set request's mode to "cors".
</li>
			<li>
~IF［
引数に与えられた値 ~EQ `use-credentials$v
］
⇒
`要請$の`資格証~mode$rq ~SET `include^l
◎
If the given value is use-credentials, set request's credentials mode to "include".
</li>
		</ol>
	</dd>

	<dt>
<pre class="prod">
`integrity-modifier@t
	= `integrity@v(`string$t)
</pre>
</dt>
	<dd>
	</dd>
	<dd class="algo">
この改変子~用の`~URLの要請~改変子~用の手続き$は、
所与の
( `要請$ %要請 )
に対し
⇒
%要請 の`完全性~metadata$rq ~SET 引数に与えられた `string$t
◎
The URL request modifier steps for this modifier given request req are to set request's integrity metadata to the given &lt;string&gt;.
</dd>

	<dt>
<pre class="prod">
`referrerpolicy-modifier@t
	= `referrerpolicy@v(
		`no-referrer@v
		| `no-referrer-when-downgrade@v
		| `same-origin@v
		| `origin@v
		| `strict-origin@v
		| `origin-when-cross-origin@v
		| `strict-origin-when-cross-origin@v
		| `unsafe-url@v )
</pre>
</dt>
	<dd class="algo">
この改変子~用の`~URLの要請~改変子~用の手続き$は、
所与の
( `要請$ %要請 )
に対し
⇒
%要請 の`~referrer施策$rq ~SET 引数に与えられた値に合致する `ReferrerPolicy$I 値
◎
The URL request modifier steps for this modifier given request req are to set request's referrer policy to the ReferrerPolicy that matches the given value.
</dd>
</dl>

<div class="algo">
<p>
`~URL値からの要請~改変子を適用する@
ときは、
所与の
( `要請$ %要請, `url$t %~URL )
に対し
⇒
%~URL 内に指定された
~EACH( `request-url-modifier$t %改変子 )
に対し
⇒
%改変子 用の`~URLの要請~改変子~用の手続き$( %要請 )
◎
To apply request modifiers from URL value given a request req and a &lt;url&gt; url, call the request modifier steps for url’s &lt;request-url-modifier&gt;s in sequence given req.
</p>
</div>

		</section>
		<section id="toggle-notation">
<h3 title="Toggling Between Values: toggle()">1.3. 一連の値の~toggle法： `toggle^f</h3>

<p>
`toggle@f
式は、
子孫~要素たちが
— 同じ値を継承する代わりに —
~listを成す各~値を巡回することを許容する。
◎
The toggle() expression allows descendant elements to cycle over a list of values instead of inheriting the same value.
</p>

<div class="example">
<p>
次の例は、
`em^e 要素を一般には~italic体にしつつ，~italic体の内側では~normal体に戻す：
◎
The following example makes &lt;em&gt; elements italic in general, but makes them normal if they’re inside something that’s italic:
</p>
<pre class="lang-css">
em { font-style: toggle(italic; normal); }
</pre>
</div>

<div class="example">
<p>
次の例は、
入子な~list用に，~markerたちを巡回する。
~marker図形は、
~top-levelの~listにおいては `disc$v になり，
その中に入子にされた~listにおいては
— 階が深まるごとに —
順に［
`circle$v, `square$v, `box^v
］になり，
（ 5 階の深さで）再び `disc$v から開始するようになる。
◎
The following example cycles markers for nested lists, so that a top level list has disc-shaped markers, but nested lists use circle, then square, then box, and then repeat through the list of marker shapes, starting again (for the 5th list deep) with disc.
</p>

<pre class="lang-css">
ul { list-style-type: toggle(disc; circle; square; box); }
</pre>
</div>

<p>
`toggle$f 式の構文は：
◎
The syntax of the toggle() expression is:
</p>

<pre class="prod">
toggle( `toggle-value$t [ ';' `toggle-value$t ]+ )
</pre>

<p>
`toggle-value@t
がとる~CSS値は、［
当の式が配置された所で妥当になる
］ならば何でもよい。
`toggle$f 式の内側に妥当でない値がある場合、
式~全体が無効になる。
`toggle$f 式は、
どの~propの値に利用してもヨイが，
当の~propの値を成す唯一の成分でなければナラナイ。
◎
where &lt;toggle-value&gt; is any CSS value that is valid where the expression is placed. If any of the values inside are not valid, then the entire toggle() expression is invalid. The toggle() expression may be used as the value of any property, but must be the only component in that property’s value.
</p>

<p class="note">注記：
この`関数-記法$が，引数どうしを
— 典型的な~commaではなく —
~semicolonを利用して分離するのは、
各~値~自体が~commaを包含し得るからである。
◎
Note: This functional notation uses semicolons to separate arguments rather than the more typical comma because the values themselves can contain commas.
</p>

<p>
`toggle$f 記法は入子にできない。
また［
`attr$f ／ `calc$f
］記法も包含できない。
そのような構成子を包含している宣言は無効になる。
◎
The toggle() notation is not allowed to be nested; nor may it contain attr() or calc() notations. Declarations containing such constructs are invalid.
</p>

<div class="example">
<p>
次に挙げる `toggle$f 式は、
どれも無効になる：
◎
The following toggle() examples are all invalid:
</p>

<pre class="lang-css">
background-position: 10px toggle(50px, 100px);
/* <span class="comment">
`toggle$f は~propの値~全体を成していなければナラナイ。
◎
toggle() must be the sole value of the property
</span> */

list-style-type: toggle(disc, 50px);
/* <span class="comment">
`50px^v は `list-style-type$p 用の妥当な値でない。
◎
50px isn’t a valid value of 'list-style-type'
</span> */
</pre>
</div>

<div class="algo">
<p>
`toggle$f 式 %式 の`算出d値$は、
次に従って決定される：
</p>
<ol>
	<li>
%最初の値 ~LET ε
</li>
	<li>
%初回の反復か ~SET ~F
</li>
	<li>
%前回の反復で合致したか ~SET ~F
</li>
	<li>
<p>
%式 の
~EACH( 引数 %引数 )
に対し，順に：
</p>
		<ol>
			<li>
%値 ~LET ［
%引数 が %式 を利用している~propの値~全体を成していた
］とするとき，~propの`算出d値$を評価した結果
</li>
			<li>
~IF［
%前回の反復で合致したか ~EQ ~T
］
⇒
~RET %値
</li>
			<li>
~IF［
%初回の反復か ~EQ ~T
］
⇒＃
%初回の反復か ~SET ~F；
%最初の値 ~SET %値
</li>
			<li>
~IF［
%値 ~EQ %式 を利用している~propの`継承d値$
］
⇒
%前回の反復で合致したか ~SET ~T
</li>
		</ol>
	</li>
	<li>
~RET %最初の値
</li>
</ol>
◎
To determine the computed value of toggle(), first evaluate each argument as if it were the sole value of the property in which toggle() is placed to determine the computed value that each represents, called Cn for the n-th argument to toggle(). Then, compare the property’s inherited value with each Cn. For the earliest Cn that matches the inherited value, the computed value of toggle() is Cn+1. If the match was the last argument in the list, or there was no match, the computed value of toggle() is the computed value that the first argument represents.
</div>

<p class="note">注記：
したがって， `toggle$f 内で同じ値が繰返された場合、
~listは短絡されることになる。
例えば， `toggle(1em; 2em; 1em; 4em)^v は、
`toggle(1em; 2em)^v と等価になる。
◎
Note: This means that repeating values in a toggle() short-circuits the list. For example toggle(1em; 2em; 1em; 4em) will be equivalent to toggle(1em; 2em).
</p>

<p class="note">注記：
`toggle$f は，明示的に親の算出d値を調べるので、
継承されない~propであっても働く。
このことは、
継承されない~propに対しても働く `inherit$v ~keywordと類似する。
◎
Note: That toggle() explicitly looks at the computed value of the parent, so it works even on non-inherited properties. This is similar to the inherit keyword, which works even on non-inherited properties.
</p>

<p class="note">注記：
~propの`算出d値$は、
抽象的な［
値たちが成す集合
］であり，特定0の直列化ではない `CSS21$r ので、
算出d値どうしの比較は常に一義的になり，
期待される結果になるべきである。
例えば， `CSS21$r における `background-position$p の算出d値は、
各自が［
絶対~長さ／百分率
］として表現される 2 個の~offsetだけからなるので、［
宣言 <span class="css">`background-position^p: `top center^v</span>
］と［
宣言 <span class="css">`background-position^p: `50% 0%^v</span>
］が生産する算出d値は，一致する。
~prop定義の “算出d値” の欄が何かを［
多義的／厳密~過ぎ
］に定義すると見受けられる場合は、
修正できるよう`~feedback＠#sotd$を供されたし。
◎
Note: That the computed value of a property is an abstract set of values, not a particular serialization [CSS21], so comparison between computed values should always be unambiguous and have the expected result. For example, a Level 2 background-position computed value is just two offsets, each represented as an absolute length or a percentage, so the declarations background-position: top center and background-position: 50% 0% produce identical computed values. If the "Computed Value" line of a property definition seems to define something ambiguous or overly strict, please provide feedback so we can fix it.
</p>

<p>
`toggle$f が`略式~prop$に利用された場合、
その各~下位propの値も `toggle$f 値になるが、
その各~引数は，元の `toggle$f 式の各~引数に対し［
それが当の略式~propの値~全体を成していたとするとき，下位propが受取ることになる値
］に設定される。
◎
If toggle() is used on a shorthand property, it sets each of its longhands to a toggle() value with arguments corresponding to what the longhand would have received had each of the original toggle() arguments been the sole value of the shorthand.
</p>

<div class="example">
<p>
次の略式~prop宣言は：
◎
For example, the following shorthand declaration:
</p>

<pre class="lang-css">
margin: toggle(1px 2px, 4px, 1px 5px 4px);
</pre>

<p>
次の下位prop宣言と等価になる：
◎
is equivalent to the following longhand declarations:
</p>

<pre class="lang-css">
margin-top:    toggle(1px; 4px; 1px);
margin-right:  toggle(2px; 4px; 5px);
margin-bottom: toggle(1px; 4px; 4px);
margin-left:   toggle(2px; 4px; 5px);
</pre>

<p>
［
上端~margin／下端~margin
］は、［
`1px^v ／ `4px^v
］が 2 回~現れているので，
2 個の値のみを巡回する。
一方で，［
左端~margin／右端~margin
］は、 3 個の値を巡回することになる。
言い換えれば、
上の宣言から得られる算出d値は，次の下位prop宣言と同じになる：
◎
Note that, since 1px appears twice in the top margin and 4px appears twice in bottom margin, they will cycle between only two values while the left and right margins cycle through three. In other words, the declarations above will yield the same computed values as the longhand declarations below:
</p>

<pre class="lang-css">
margin-top:    toggle(1px; 4px);
margin-right:  toggle(2px; 4px; 5px);
margin-bottom: toggle(1px; 4px);
margin-left:   toggle(2px; 4px; 5px);
</pre>

<p>
その結果は、
意図されるものではなかろう。
◎
which may not be what was intended.
</p>
</div>

		</section>
	</section>
	<section id="attr-notation">
<h2 title="Attribute References: the attr() function">2. 属性~参照： `attr^f 関数</h2>

<p>
`attr@f
関数は、［
それを利用している~propが適用される`要素$の ある`属性$
］を参照し，その`属性$の値で`代用-$される
（ `var$f 関数が`~custom~prop$の値で代用されるのと類似に）。
◎
The attr() function substitutes the value of an attribute on an element into a property, similar to how the var() function substitutes a custom property value into a function.
</p>

<pre class="prod">
attr() = attr(`q-name^t `attr-type$t? , `declaration-value$t?)

`attr-type@t
	= `string$v
	| `url$v
	| `ident$v
	| `color$v
	| `number$v
	| `percentage$v
	| `length$v
	| `angle$v
	| `time$v
	| `frequency$v
	| `flex$v
	| `dimension-unit$t
</pre>

<p>
`dimension-unit@t
生成規則は、
次に挙げるものに合致する：
◎
The &lt;dimension-unit&gt; production matches＼
</p>
<ul>
	<li>
~literal `%^l
（すなわち， .値 `%^l を伴う `delim-token$t ）
◎
a literal "%" character (that is, a &lt;delim-token&gt; with a value of "%")＼
</li>
	<li>
`ident-token$t のうち，その .値 は［
`length$t ／ `angle$t ／ `time$t ／ `frequency$t ／ `flex$t
］値~用の~CSS単位（ `px$u や `ms$u など ）であるもの。
◎
or an ident whose value is any of the CSS units for &lt;length&gt;, &lt;angle&gt;, &lt;time&gt;, &lt;frequency&gt;, or &lt;flex&gt; values (such as px or ms).
</li>
</ul>

<p>
`attr$f の各~引数は：
◎
The arguments of attr() are:
</p>
<dl>
	<dt>`q-name^t</dt>
	<dd class="trans-note">【
この生成規則の構文は、
この仕様には述べられていない。
`Selectors^cite に定義される `wq-name＠~SELECTORS4#typedef-wq-name$t ／
`~XML名前空間^cite に定義される `QName＠~XNLNS10#NT-QName$P ／
`CSS Namespaces^cite に定義される ［
`qname＠~CSSNS#qname$t
`wqname＠~CSSNS#wqname$t
`wqwname＠~CSSNS#wqwname$t
］なども考えられるが。
】</dd>
	<dd>
参照している属性の名前を与える。
◎
Gives the name of the attribute being referenced.
</dd>
	<dd>
名前空間が指定されなかった場合
（ `attr(foo)^v の様に，識別子だけが与えられた場合）
~NULL名前空間が含意される。
（名前空間を伴う属性は稀なので、
通例的には，これが欲されるものになる。
特に、［
~HTML／~SVG
］には，名前空間を伴う属性は無い。）
◎
If no namespace is specified (just an identifier is given, like attr(foo)), the null namespace is implied. (This is usually what’s desired, as namespaced attributes are rare. In particular, HTML and SVG do not contain namespaced attributes.)＼
</dd>
	<dd>
`属性~選択子$と同じく、
`q-name^t が文字大小区別かどうかは，文書~言語に依存する。
◎
As with attribute selectors, the case-sensitivity of &lt;q-name&gt; depends on the document language.
</dd>
	<dd>
ある［
要素／疑似要素
］に適用される~propにて利用された `attr$f は、［
当の要素／当の疑似要素の`出自の要素$
］の所与の名前を伴う属性を参照する。
◎
If attr() is used in a property applied to an element, it references the attribute of the given name on that element; if applied to a pseudo-element, the attribute is looked up on the pseudo-element’s originating element.
</dd>

	<dt>`attr-type$t</dt>
	<dd>
参照された属性の値が，どの種類の~CSS値として解釈されるかを
— および、
もしあれば，値に対し行われる特別な構文解析も —
指定する。
解釈した結果が当の `attr$f の
`代用~値@
を与える。
◎
Specifies what kind of CSS value the attribute’s value will be interpreted into (the attr()’s substitution value) and what, if any, special parsing will be done to the value.
</dd>
	<dd>
アリな値，それらの挙動は、
<a href="#attr-types">§ `attr^f 型</a>
にて定義される。
◎
The possible values and their behavior are defined in § 2.1 attr() Types.
</dd>
	<dd>
省略された場合、
`string$v が既定になる。
◎
Defaults to string if omitted.
</dd>

	<dt>`declaration-value$t</dt>
	<dd>
~fallback値を指定する
— それは、
参照された属性［
が欠落している場合／
の値を指定された型として構文解析するのに失敗した場合
］、
当の`attr$f は，この~fallback値で`代用-$されることになる。
◎
Specifies a fallback value for the attr(), which will be substituted instead of the attribute’s value if the attribute is missing or fails to parse as the specified type.
</dd>
	<dd>
省略された場合の既定の~fallback値は、
`attr-type$t 引数に応じて
⇒＃
`string$v ならば空~文字列になる／
~ELSE_ `無効が保証される値$になる
◎
If the &lt;attr-type&gt; argument is string, defaults to the empty string if omitted; otherwise, defaults to the guaranteed-invalid value if omitted.
</dd>
</dl>

<p>
~propが包含している各 `attr$f 関数が，どれも構文上は妥当な場合、
~prop全体の文法は，構文解析-時点では妥当であると見做すモノトスル。
構文は、
`attr^f 関数が`代用-$された後の算出d値の時点に限り，検査される。
◎
If a property contains one or more attr() functions, and those functions are syntactically valid, the entire property’s grammar must be assumed to be valid at parse time. It is only syntax-checked at computed-value time, after attr() functions have been substituted.
</p>

<div class="note">
<p>注記：
~fallback値【！既定の値】の型は、
`attr-type$t 【！所与の型】と一致する必要は無いことに注意。
一例として、
作者により要求された属性の型が `px$u の場合でも，
~fallback値は `auto^v をとり得る
— <code class="css">`width$p: `attr(size px, auto)^v;</code>
の様に。
◎
Note that the default value need not be of the type given. For instance, if the type required of the attribute by the author is px, the default could still be auto, like in width: attr(size px, auto);.
</p>
</div>

		<section id="attr-types">
<h3 title="attr() Types">2.1. `attr$f 型</h3>

<div class="p">
<p>
`attr$f 関数の挙動は、
`attr-type$t 引数の値にも依存する
— 以下においては：
</p>
<ul>
	<li>
%属性~値 は、
関数が参照している属性の値をそのまま表すとする。
（属性が欠落している場合、
上で述べたとおり~fallback値が利用されることになる）。
</li>
	<li>
%成分~値 は、
次の結果を表すとする
⇒
`成分~値を構文解析する$( %属性~値 )
（結果が構文-~errorならば、~fallback値が利用されることになる）
</li>
</ul>
◎
The behavior of the attr() function depends partially on the value of the &lt;attr-type&gt; argument:
</div>

<dl>
	<dt>`string@v</dt>
	<dd>
`代用~値$は、
~CSS文字列としての %属性~値 になる。
（ %属性~値 に対し遂行される~CSS構文解析や “整理” は無い。）
◎
The substitution value is a CSS string, whose value is the literal value of the attribute. (No CSS parsing or "cleanup" of the value is performed.)
</dd>
	<dd>
~fallbackを誘発する値は無い。
◎
No value triggers fallback.
</dd>

	<dt>`url@v</dt>
	<dd>
`代用~値$は、
`url$t 値であって，その~URLに %属性~値 を伴うものになる。
（ %属性~値 に対し遂行される~CSS構文解析や “整理” は無い。）
◎
The substitution value is a CSS &lt;url&gt; value, whose url is the literal value of the attribute. (No CSS parsing or "cleanup" of the value is performed.)
</dd>
	<dd class="note">注記：
`url$f の構文に関数を包含する能力があったとするなら、
`attr(foo url)^v は，
`url(attr(foo string))^v と一致する。
◎
Note: If url() was syntactically capable of containing functions, attr(foo url) would be identical to url(attr(foo string)).
</dd>
	<dd>
~fallbackを誘発する値は無い。
◎
No value triggers fallback.
</dd>

	<dt>`ident@v</dt>
	<dd>
<p>
`代用~値$は、
%属性~値 から`前後の~ASCII空白~列を剥いだ$結果 %結果 に応じて：
</p>
		<ul class="switch">
			<li>
［
空~文字列 ／ `~CSS全域~keyword$ ／ `default^v
］の場合は無い。
【おそらく，~ASCII文字無視。】
</li>
			<li>
他の場合、
`custom-ident$t としての %結果 になる。
（ %結果 に対し遂行される~CSS構文解析は無い）。
</li>
		</ul>
◎
The substitution value is a CSS &lt;custom-ident&gt;, whose value is the literal value of the attribute, with leading and trailing ASCII whitespace stripped. (No CSS parsing of the value is performed.)
◎
If the attribute value, after trimming, is the empty string, there is instead no substitution value.
◎
If the &lt;custom-ident&gt;’s value is a CSS-wide keyword or default, there is instead no substitution value.
</dd>

	<dt>`color@v</dt>
	<dd>
`代用~値$は、
%成分~値 が［
`hex-color$t である／
`ident-token$t であって，その.値は`有名~色$である
］ならば，
%成分~値 が表現する `color$t になる。
◎
Parse a component value from the attribute’s value. If the result is a &lt;hex-color&gt; or a named color ident, the substitution value is that result as a &lt;color&gt;.
</dd>
	<dd>
他の場合、
`代用~値$は無い。
◎
Otherwise there is no substitution value.
</dd>

	<dt>`number@v</dt>
	<dd>
`代用~値$は、
%成分~値 は `number-token$t であるならば，
%成分~値 【が表現する `number$t 値（または `integer$t 値）】になる。
◎
Parse a component value from the attribute’s value. If the result is a &lt;number-token&gt;, the result is the substitution value.
</dd>
	<dd>
他の場合、
`代用~値$は無い。
◎
Otherwise, there is no substitution value.
</dd>

	<dt>`percentage@v</dt>
	<dd>
`代用~値$は、
%成分~値 は `percentage-token$t であるならば，
%成分~値 【が表現する `percentage$t 値】になる。
◎
Parse a component value from the attribute’s value. If the result is a &lt;percentage-token&gt;, the result is the substitution value.
</dd>
	<dd>
他の場合、
`代用~値$は無い。
◎
Otherwise, there is no substitution value.
</dd>

	<dt>`length@v</dt>
	<dt>`angle@v</dt>
	<dt>`time@v</dt>
	<dt>`frequency@v</dt>
	<dt>`flex@v</dt>
	<dd>
`代用~値$は、［
%成分~値 は `dimension-token$t であって，その .単位 は所与の型に合致する
］ならば，
%成分~値 【が表現する`次元$】になる。
◎
Parse a component value from the attribute’s value. If the result is a &lt;dimension-token&gt; whose unit matches the given type, the result is the substitution value.
</dd>
	<dd>
他の場合、
`代用~値$は無い。
◎
Otherwise, there is no substitution value.
</dd>

	<dt id="valdef-attr-dimension-unit">`dimension-unit$t</dt>
	<dd>
`代用~値$は、
%成分~値 は `number-token$t であるならば，［
%成分~値 の .値, 所与の単位
］を伴う`次元$になる。
◎
Parse a component value from the attribute’s value. If the result is a &lt;number-token&gt;, the substitution value is a dimension with the result’s value, and the given unit.
</dd>
	<dd>
他の場合、
`代用~値$は無い。
◎
Otherwise, there is no substitution value.
</dd>
</dl>

<p class="issue">
`attr^f の`代用~値$として，［
すべての数量-型~用には`~math関数$／
“色” 用には色~関数
］を許容するよう求まれるか？
編集者は そう~~考えているが、
代用~値が更に参照~関数を包含していないことを確かめるため，内容を検査する必要もある
— <code>`foo^a="`rgb(var(--red), 0, 0)^v"</code> は、
`attr(foo color)^v 用には違法になる必要がある。
◎
Do we want to allow math functions as attr values for all the numeric types? And color functions for "color"? I think we do, but I’d have to check the contents to make sure they don’t contain further reference functions; foo="rgb(var(--red), 0, 0)" needs to be illegal for attr(foo color).
</p>

<div class="example">
<p>
`attr$f を利用して，
~XML~file内の~dataを視覚的に~~説明する例：
◎
This example shows the use of attr() to visually illustrate data in an XML file:
</p>

`attr-types-1^xCode
</div>



		</section>
		<section id="attr-substitution">
<h3 title="attr() Substitution">2.2. `attr$f の代用</h3>

<p class="issue">
`attr$f と `var$f は，同時に代用されるので、
“`var$f を`代用する＠~CSSVAR#substitute-a-var$” は，おそらく［
これらの関数どちらにも利用される，より一般な “参照を代用する”
］に書き直すべきである。
◎
attr() and var() substitute at the same time, so I should probably rewrite substitute a var() to be more generally about "substitute a reference" and just use that for both of these functions.
</p>

<p>
`attr$f 関数は、
算出d値の時点で`代用-$される。
所与の宣言が，
すべての `attr^f 関数が代用された後において文法に合致しない場合、
当の宣言は，`算出d値の時点で無効$になる。
◎
attr() functions are substituted at computed-value time. If a declaration, once all attr() functions are substituted in, does not match its declared grammar, the declaration is invalid at computed-value time.
</p>

<div class="algo">
<p>
`attr$f 関数 %関数 を
`代用する@
ときは：
◎
To substitute an attr():
</p>
<ol>
	<li>
~IF［
%関数 に`代用~値$は在る
］
⇒
%関数 を`代用~値$で置換する
◎
If the attr() function has a substitution value, replace the attr() function by the substitution value.
</li>
	<li>
<p>
~ELIF［
%関数 の最後の引数として~fallback値 %~fallback は在る
］：
</p>
		<ol>
			<li>
%~fallback 内の
~EACH( ［
`var$f ／ `attr$f
］ 参照 %参照 )
に対し
⇒
%~fallback 内の %参照 を［
`代用する＠~CSSVAR#substitute-a-var$／`代用する$
］
</li>
			<li>
%関数 を %~fallback で置換する
</li>
		</ol>
◎
Otherwise, if the attr() function has a fallback value as its last argument, replace the attr() function by the fallback value. If there are any var() or attr() references in the fallback, substitute them as well.
</li>
	<li>
~ELSE
⇒
%関数 を利用している~propは、
`算出d値の時点で無効$になる
◎
Otherwise, the property containing the attr() function is invalid at computed-value time.
</li>
</ol>
</div>

		</section>
	</section>
	<section id="randomness">
<h2 title="Generating Random Values">3. ~randomな値の生成-法</h2>

<p class="trans-note">【
この節の内容は、未訳。
】</p>

	</section>
	<section id="acknowledgments">
<h2 title="Acknowledgments">謝辞</h2>

<p>
まずは、
以前の~levelまでに対する`すべての貢献者たち＠~CSSVAL#acknowledgments$に感謝する。
◎
Firstly, the editors would like to thank all of the contributors to the previous level of this module.
</p>

<p>
~commentと示唆を寄せられ，この~level 5 を改善した
`L. David Baron^en,
`Mike Bremford^en
各氏にも感謝する。
◎
Secondly, we would like to acknowledge L. David Baron and Mike Bremford for their comments and suggestions, which have improved Level 5.
</p>

	</section>
	<section id="changes">
<h2 title="Changes">変更点</h2>

<dl>
	<dt id="changes-recent">
近過去な変更点
◎
Recent Changes
</dt>
	<dd>
（これは、`~level 4 からの追加＠#additions-L4$の下位集合を成す。）
◎
(This is a subset of Additions Since Level 4.)
</dd>

	<dt id="additions-L4">
`~level 4$ からの追加
◎
Additions Since Level 4
◎
Additions since CSS Values and Units Level 4:
</dt>
	<dd>
`toggle$f 記法, `attr$f 記法を追加した。
◎
Added the toggle() and attr() notations
</dd>
</dl>

	</section>
	<section id="sec-pri">
<h2 title="Security and Privacy Considerations">~security／~privacyの考慮点</h2>

<p>
この仕様は、
ほぼ~CSS仕様に共通な単位を定義するだけであり，
~securityの懸念は無い。
◎
This specification mostly just defines units that are common to CSS specifications, and which present no security concerns.
</p>

<p class="note">注記：
~URLの取扱いには、
~securityの懸念はあるか？
おそらく。
◎
Note: Does URL handling have a security concern? Probably.
</p>

<p>
この仕様は、
利用者の［
~screen~size, 既定の~font~size
］を公開する単位を定義するが、
どちらも~JSから自明に観測-可能なので，
新たな~privacy~riskを成すことはない。
◎
This specification defines units that expose the user’s screen size and default font size, but both are trivially observable from JS, so they do not constitute a new privacy risk.
</p>

	</section>
</main></div>

