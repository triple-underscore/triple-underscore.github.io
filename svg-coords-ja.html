<!DOCTYPE html><html lang="ja"><head><meta charset="utf-8">
<title>SVG 2 — Coordinate Systems, Transformations and Units（日本語訳）</title>

<link rel="stylesheet" href="common.css" type="text/css">
<link rel="stylesheet" href="common-svg.css" type="text/css">
<style>

@supports (grid-template-columns: subgrid) and (display: contents) {

#_ex-ve-effect {
	grid-template-columns: 1fr 1fr;
	width: 30em;
	tr {
		grid-template-areas:
			"値 値"
			"前 後"
		;
		> * {
			border: none;
		}
		> *:nth-child(1) {
			grid-area: 値;
		}
		> *:nth-child(2) {
			grid-area: 前;
		}
		> *:nth-child(3) {
			grid-area: 後;
		}
	}
	img {
		width: 12em;
		height: 12em;
	}
	.alt {
		width: 12em;
	}
}

._matrix {
	border-collapse: separate;
	border-spacing: 0;
	border: solid thin currentcolor;
	border-style: none solid;
	border-radius: 5px;

	tr {
		border: none;
	}
	td {
		text-align: center;
	}
}

.math {
	display: flex;
	align-items: center;
	column-gap: 0.4em;
}
div.math {
	margin-left: 2em;
}
</style>


<script src="common0.js"></script>
<script src="svg-common.js"></script>
<script src="common1.js" async></script>
<script>
source_data.init = () => {
	let data = PAGE_DATA.matrix_data
.replace(
	/\s*●(.+)/g,
	'</tbody></table><table id="_dgm-$1" class="_matrix"><tbody>' 
)
.replace(/[\s\S]*?<\/table>/, '')
.replace(/\n(?=[^<\s])/g, '<tr><td>')
.replace(/,[ \t]*/g, '<td>')
.replace(/\.(\w+)/g, '<sub>$1</sub>')
.replace(/%([\wα-ε]+)/g, '<var>$1</var>')
+ '</tbody></table>';

	delete PAGE_DATA.matrix_data;

	const div = C('div');
	div.innerHTML = data;
	for(let e = div.firstElementChild; e; e = e.nextElementSibling){
		if(e.id){
			source_data.persisted_parts[e.id] = e;
		}
	}
}
</script>

<script type="text/plain" id="_source_data">

●●options
spec_title:SVG 2 — Coordinate Systems, Transformations and Units
spec_date:2025-09-14
trans_update:2021-05-03
	source_checked:
abbr_url:SVGcoords
page_state_key:SVG
original_url:https://svgwg.org/svg2-draft/coords.html
spec_status:ED
copyright:2019,use
site_nav:svg,transform,css
nav_prev:SVGgeometry
nav_next:SVGpaths
trans_1st_pub:2018-10-16

●●class_map
aM:attr
aF:attr
m:dom0
m1:dom1
n:dom

●●tag_map
aM:code
aF:code
m:code
m1:code
n:code

●●original_id_map

●●mdn_urls
VectorEffectProperty:SVG/Attribute/vector-effect
TransformProperty:SVG/Attribute/transform

InterfaceSVGAnimatedPreserveAspectRatio:API/SVGAnimatedPreserveAspectRatio
InterfaceSVGAnimatedTransformList:API/SVGAnimatedTransformList
InterfaceSVGPreserveAspectRatio:API/SVGPreserveAspectRatio
InterfaceSVGTransform:API/SVGTransform
InterfaceSVGTransformList:API/SVGTransformList

●●link_map

	●IDL

n.createSVGMatrix:~SVGstruct#__svg__SVGSVGElement__createSVGMatrix
n.createSVGTransform:~SVGstruct#__svg__SVGSVGElement__createSVGTransform
n.createSVGTransformFromMatrix:~SVGstruct#__svg__SVGSVGElement__createSVGTransformFromMatrix
n.getBBox:~SVGtypes#__svg__SVGGraphicsElement__getBBox

	●a
a.cx:~SVGpservers#RadialGradientElementCXAttribute
a.cy:~SVGpservers#RadialGradientElementCYAttribute
a.fx:~SVGpservers#RadialGradientElementFXAttribute
a.fy:~SVGpservers#RadialGradientElementFYAttribute
a.markerHeight:~SVGpainting#MarkerHeightAttribute
a.markerWidth:~SVGpainting#MarkerWidthAttribute
a.patternContentUnits:~SVGpservers#PatternElementPatternContentUnitsAttribute
a.patternTransform:~SVGpservers#PatternElementPatternTransformAttribute
a.patternUnits:~SVGpservers#PatternElementPatternUnitsAttribute
a.preserveAspectRatio:~SVGcoords#PreserveAspectRatioAttribute
	a.preserveAspectRatio:#TermPreserveAspectRatio
a.r:~SVGpservers#RadialGradientElementRAttribute
a.viewBox:~SVGcoords#ViewBoxAttribute
	a.viewBox:#TermViewBox

a.gradientTransform:~SVGpservers#LinearGradientElementGradientTransformAttribute
a.gradientUnits:~SVGpservers#LinearGradientElementGradientUnitsAttribute
	a.gradientUnits:~SVGpservers#RadialGradientElementGradientUnitsAttribute
a.height:~SVGpservers#PatternElementHeightAttribute
a.width:~SVGpservers#PatternElementWidthAttribute
a.x1:~SVGpservers#LinearGradientElementX1Attribute
a.x2:~SVGpservers#LinearGradientElementX2Attribute
a.y1:~SVGpservers#LinearGradientElementY1Attribute
a.y2:~SVGpservers#LinearGradientElementY2Attribute

a.x:~SVGpservers#PatternElementXAttribute
a.y:~SVGpservers#PatternElementYAttribute

aF.filterUnits:~FILTERS#element-attrdef-filter-filterunits
aF.height:~FILTERS#element-attrdef-filter-height
aF.primitiveUnits:~FILTERS#element-attrdef-filter-primitiveunits
aF.width:~FILTERS#element-attrdef-filter-width
aF.x:~FILTERS#element-attrdef-filter-x
aF.y:~FILTERS#element-attrdef-filter-y

aM.height:~MASKING1#element-attrdef-mask-height
aM.maskContentUnits:~MASKING1#element-attrdef-mask-maskcontentunits
aM.maskUnits:~MASKING1#element-attrdef-mask-maskunits
aM.width:~MASKING1#element-attrdef-mask-width
aM.x:~MASKING1#element-attrdef-mask-x
aM.y:~MASKING1#element-attrdef-mask-y

a.clipPathUnits:~MASKING1#element-attrdef-clippath-clippathunits


	●code 他
t.transform-function:~TRANSFORM#typedef-transform-function
t.transform-list:~TRANSFORM#typedef-transform-list
t.align:#_typedef-align
t.meetOrSlice:#_typedef-meetOrSlice

整列~keyword:#_typedef-meetOrSlice

u.px:~CSSVAL#px
u.deg:~CSSVAL#deg

	f.translate3d
	f.translate
	f.scaleX
	f.matrix
	f.matrix3d
	f.rotate
	f.skewX
	f.skewY


		~CSS22/syndata.html#length-units
		~TR/2011/REC-CSS2-20110607/syndata.html#length-units

xl.InitialCoords:#ExampleInitialCoords
xl.ViewBox:#ExampleViewBox
xl.PreserveAspectRatio:#ExamplePreserveAspectRatio
xl.Units:#ExampleUnits

	●用語／§
利用元~座標系:~SVGcoords#TermUserCoordinateSystem
	利用元~座標系:~TRANSFORM#user-coordinate-system
~host座標~空間:#_host-coordinate-space

全部的~glyph~cell:~SVGcoords#TermFullGlyphCell

限界~boxを算出する:#_compute-the-bounding-box
~viewbox:#_viewbox
変形の値を行列に同期する:#_sync-value-with-matrix

sec.単位:#Units
sec.新たな~SVG表示域の確立-法:#EstablishingANewSVGViewport
sec.表示域を確立する要素:#ElementsThatEstablishViewports

tF.値:#TransformValue
行列~obj:#TransformMatrixObject

~itemを~listから~detachする:~SVGtypes#TermDetach
~itemを~listに~attachする:~SVGtypes#TermAttach


	~SVGtext#ObjectBoundingBoxUnitsTextObjects
	~SVGlinking#LinksIntoSVG
	~SVGpainting#non-scaling-stroke
	~SVGtext
	§#ViewportSpace
	#TermRenderingTree
		§~SVGrender#RenderingTree
	§~SVGpainting#Markers
	§~SVGpainting#StrokeShape
	§~SVGrender#Rendered-vs-NonRendered
	§#ComputingAViewportsTransform
	#MatrixMode
	~SVGtypes#ReadOnlyList
	~SVGtypes#TermAttach
	~SVGtypes#TermDetach
	#ReadOnlyMatrix

	●外部

~3D描画~文脈:~TRANSFORM2#3d-rendering-contexts
~CTM:~TRANSFORM#current-transformation-matrix

右から乗算する:~GEOMETRY#post-multiply
行列を辞書で初期化する:~GEOMETRY#_initialize-matrix-with-dictionary
	~GEOMETRY#create-a-dommatrix-from-the-dictionary
	n.fromMatrix:~GEOMETRY#dom-dommatrixreadonly-frommatrix
~2Dか:~GEOMETRY#matrix-is-2d
	n.is2d:~GEOMETRY#dom-dommatrixreadonly-is2d

生来な寸法:~CSSIMAGE#natural-dimensions
生来な縦横比:~CSSIMAGE#natural-aspect-ratio
指定d~size:~CSSIMAGE#specified-size
具象-~obj~size:~CSSIMAGE#concrete-object-size
既定の~obj~size:~CSSIMAGE#default-object-size



	~FILTERS#FilterPrimitiveSubRegion
	§~CSS22/syndata.html#length-units
		~TR/2011/REC-CSS2-20110607/syndata.html#length-units
	~CSS包含塊:~CSS2J#containing-block
		~TR/css-position-3/#def-cb
	表示域:~CSS2J#viewport
		~TR/2011/REC-CSS2-20110607/visuren.html#viewport
		~TR/css-position-3/#vp
	~TRANSFORM#mathematical-description
	https://docs.google.com/presentation/d/1POUiroOBbLmXYlQKf0pIR8zVkHWH9jRVN-w8A4aNsIk/
	https://www.w3.org/Graphics/SVG/WG/wiki/SVG2_Requirements_Input#Constrained_Transformations
	~CSSVAL／css-values$r:~TR/css3-values/#resolution
	~TR/css3-values/

●●words_table1
DOT:<span class="op">⋅</span>

●●words_table

	●幾何
	~2Dか:is 2D
X:
Y:
x:
y:
viewbox:
単位行列:identity matrix::~
拡大-:scale up::~
縮小-:scale down::~
点:point::~
線:line::~
端点:end point::~

焦点:focus::~
和領域:union::~
伸縮-:stretch::~
水平:horizontal::~
垂直:vertical::~
太さ:thickness:~
三角形:triangle:~
封入-:enclose:~
	封入されていない:non-enclosing
覆う:coverする:~
inch::::インチ
三次:cubic::~
二次:quadratic::~
Bezier:Bézier
収まる:fitする:~
収める:fitさせる:~
最小:最小
最大:最大
	最小~X値, 最小~Y値, 最大~X値, 最大~Y値:extends
	最小:smallest

	幅:width
	~stroke幅:stroke width
	占める:take up／:occupy／:span／:extend
	無限に広い:infinitely large in all relevant dimensions
	どこにあろうが辺に沿う部位とはみなされない:are not defined as lying ... (though those points ... excluded from the bounding box.
	含む最~小な凸多角形:convex hull
	ある:lie
	辺に沿う:lying along the line of the resulting curve
	太く:thick
	最も狭い:tightest／:tightest fitting
	-:tight
	曲線を含む:curved
non-uniformly
	〜座標:-coordinate
	広い:large
	幅:wide:
	軸に辺が平行な:aligned with the axes
	拡がる:extend

	比例:proportional
	中央:midpoint
	上方:upward
	下方:down
	左上隅:top/left
	右向き:right
	右方:towards the right

	●算術
割合分:fraction::~
斉次:homogeneous::~
行列式:determinant::~
数学的:mathematical:~

	右から乗算-:post-multiplying
	平方根:sqrt
	より大きい:larger
	より小さい:smaller
	小さい:small
	大きい:large


	●text
Asian:::アジアの
EM:
descent:
ascent:
Roman:
側転:sideways::~
正立:upright::~
送幅:advance::送り幅
植字-:typeset::~
縦書き:vertical::~
横書き:horizontal::~
	^en:full-size ideographic
	SPACE

	●仕様
実用性:practicality:~
後継の:subsequent:~
拘束付き:constrained:~
欠如:lack:~
特徴付けら:characterizeさ:~
内来的:inherent:~
転用-:adapt:~
anti-pattern::::アンチパタン
折衝処理:negotiation process:~
図解-:illustrate:~
共通しな:commonでな:~

	併用-:enumerate
	もちろん、of~course
	あっても:optional
	補足した:supplemental
	より~~一般には、some cases
	ときには、:sometimes
	それにより:thereby
	さらには:furthermore
	見做す下で:wuth the assumption
	課す:impose:
	足る:sufficient
	適合-:in conformance with
	選ぶ:choose
	にもかかわらず:despite
	〜しようが:in spite of
	されようが:no matter
	何であれ:no matter
	よって:hence
	別物:distinct
	その中では:therein
	単に 〜と記されたときは、これを意味する:what is meant by the unqualified term
	のみならず:not just
	用の:for the sake of
	~~対象に:concerning
	多用する例:extensive example of creating
	関心事になる:of interest to
	見よ:please refer to
	いわゆる、:so to speak
	ちょっと:bit
	指定する:show
	~~条件:criteria
	すなわち:namely
	上で言及した:aforementioned
	除く:excluding


	●未分類
tile::::タイル
敷詰める:tileする::~
meet-or-slice:
dash:
non-scaling:
attach:
detach:
graph-paper:graph paper:graph 用紙::グラフ用紙
描画域:drawing region::描画領域
固定化:fixation::~
固定-:fix::~
生来:natural::~

埋める:fillする:~
	同時に:simultaneous
矢印:arrow:~
保つ:keepする:~

道路:road:~
地図:map:~
図表:chart:~

	青い:blue
	図:figure
	数:number
	指して:pointing
	薄い青:light blue
	見える:view
	赤い:red
	現実の:real world
	~objでない:derive
	-:post-multiplied
	元々ある:fixed in
	紹介文:introductory note
	期間:period
	SVG Tiny 1.2:SVGT 1.2
	SVG Tiny 1.2
	値に含まれる:appointed
	になる:become
	属-:belong

	●言い換え
	比較用の~~基準~格子:base
	利用元:local
	適用-先の:applicable／
	下位-要素:sub-element
	読専とされていない:writable
	元から読専:read-write
	在る:missing
	^en:dpi
	-:fall within
	割合分（~~比率）:decimal
	除外されている:failing
	画素／`px^u:pixel
	全体の枠線:Frame the picture
	先祖の表示域~座標系:hierarchy
	並進:shift
	設定し直す:reset
	設定子:on setting
	取得子:on getting
	先祖の:ancestral
	依存する:not independent of

	`deg^u:degree
	^v:non-scaling-stroke
	~panする:panning
	無効に:invalidity
	^u:px
	-:dot
	-:real or
	:reflcting
	-:Because declarative or scripted
	上端:top-most
	-:non-animated

	●指示語
	前:preceding
	向けて:towards
	および:plus
	までにわたる／来る:goes
	上段:topmost
	中段／中央列:middle
	下段:bottom
	最も近い:nearest
	最も遠い:furthest
	すべてを:entirely
	残り:rest
	次節:following chapter
	右列／右にある:right
	左列／左にある:left
	多様な／様々な:various

●●matrix_data

●CTM
%a %c %e
%b %d %f
0 0 1

●ident
1, 0, 0
0, 1, 0
0, 0, 0

●Vxy
%x
%y
1

●●images
＠svg-resources/
InitialCoords｜height:100px｜｜.png
ViewBox｜height:200px｜｜.png
ViewBox-Width150｜height:200px;｜｜.png
PreserveAspectRatio｜height:21em;｜｜.svg
Units｜height:200px;｜｜.png
bbox01｜height:10em;｜｜.svg
ve-initial-1｜｜｜ve-initial.svg
ve-none｜｜｜.svg
ve-initial-2｜｜｜ve-initial.svg
ve-nonScalingSize｜｜｜.svg
ve-initial-3｜｜｜ve-initial.svg
ve-nonRotation｜｜｜.svg
ve-initial-4｜｜｜ve-initial.svg
ve-nonScalingSize-nonRotation｜｜｜.svg
ve-initial-5｜｜｜ve-initial.svg
ve-fixedPosition｜｜｜.svg
ve-initial-6｜｜｜ve-initial.svg
ve-nonScalingSize-fixedPosition｜｜｜.svg
ve-initial-7｜｜｜ve-initial.svg
ve-nonRotation-fixedPosition｜｜｜.svg
ve-initial-8｜｜｜ve-initial.svg
ve-nonScalingSize-nonRotation-fixedPosition｜｜｜.svg

●●trans_metadata
<p>
~THIS_PAGEは、~W3Cにより編集者草案として公開された
<a href="https://svgwg.org/svg2-draft/Overview.html">SVG 2 仕様</a>
の
<a href="~SPEC_URL">§ Coordinate Systems, Transformations and Units</a>
を日本語に翻訳したものです。
~PUB
</p>

</script>

</head>
<body>

<header>
	<hgroup>
<h1>8. 座標系, 変形, 単位 — Coordinate Systems, Transformations and Units</h1>
	</hgroup>
</header>

<main id="MAIN" hidden>

	<section id="Introduction">
<h2 title="Introduction">8.1. 序論</h2>

<p>
すべての~SVG内容は、
`~SVG表示域@
（ `SVG viewport^en ）の内側に描かれる。
どの~SVG表示域も、
~size（横幅, 縦幅),
原点で特徴付けられ，抽象的な
`利用元~単位@
（ `user unit^en ）で測定される描画域を定義する。
◎
All SVG content is drawn inside SVG viewports. Every SVG viewport defines a drawing region characterized by a size (width, height), and an origin, measured in abstract user units.
</p>

<p class="note">注記：
用語`~SVG表示域$は、
~CSSに利用される用語 “`表示域＠~CSS2J#viewport$” とは別物であることに注意。
◎
Note that the term SVG viewport is distinct from the "viewport" term used in CSS.
</p>

<p>
`初期~表示域@
（ `initial viewport^en ）は、
~top-levelの`~SVG表示域$であり，
包含している環境が利用している座標系（例えば, ~web~browserにおいては~CSS `px^u ）と`利用元~単位$との間に対応付けを確立する。
その確立-法の詳細は、
`§ 初期~表示域＠#ViewportSpace$にてに述べる。
◎
The initial viewport is a top-level SVG viewport that establishes a mapping between the coordinate system used by the containing environment (for example, CSS pixels in web browsers) and user units. Establishing an initial viewport is described in more detail in The initial viewport.
</p>

<p>
`~SVG表示域$を確立するものは、
要素に限られる。
どの要素が表示域を生成するかについての情報は、
`新たな~SVG表示域の確立-法$secを見よ。
◎
SVG viewports are only established by elements. See Establishing a new SVG viewport for information on which elements generate viewports.
</p>

<p>
各 `~SVG表示域$は、
`表示域~座標系@,
`利用元~座標系@
を生成する
— これらは、初期~時には一致する。
利用元~座標系は、
`css-transforms-1$r にて`定義される＠~TRANSFORM#user-coordinate-system$。
表示域を確立している要素が `viewBox$a が供している場合、
利用元~座標系は，表示域~座標系に相対的に変形される
— `viewBox$a 属性を見よ。
要素の子孫は
— 例えば `transform$p ~propを指定することにより —
`利用元~座標系$を更に改変できる。
◎
Each SVG viewport generates a viewport coordinate system and a user coordinate system, initially identical. Providing a ‘viewBox’ on a viewport's element transforms the user coordinate system relative to the viewport coordinate system as described in The ‘viewBox’ attribute. Child elements of a viewport can further modify the user coordinate system, for example by specifying the transform property.
</p>

<p>
`~SVG表示域$は、入子にできる。
百分率~単位は、［
表示域を定義する先祖の要素のうち，最も近いものの`利用元~座標系$
］を基準に解決される
— `単位$secにて定義されるように。
よって，~SVG表示域を入子にすることは、［
百分率~単位の意味を定義し直す機会 ／
~graphicを特定0の矩形な区画に相対的に “収める” ための新たな基準~矩形
］を供する。
`最も遠い先祖の~SVG表示域@
とは、`最外縁の~svg要素$の`~SVG表示域$である。
<!-- the top most root SVG viewport with out leaving the SVG context -->
先祖~SVG表示域は、
~DOM~tree順序に依存することもある【？】。
例：［
`linearGradient$e, `radialGradient$e, `pattern$e, `mask$e, `clipPath$e `symbol$e, `use$e 
］要素に対するときなど。
◎
SVG viewports can be nested. Percentage units are resolved with reference to the user coordinate system of the nearest ancestral viewport-defining element, as defined in the section on Units. Hence, nesting SVG viewports provides an opportunity to redefine the meaning of percentage units and provide a new reference rectangle for "fitting" a graphic relative to a particular rectangular area. The furthest ancestral SVG viewport is the top most root SVG viewport with out leaving the SVG context. An ancestor SVG viewport might not be independent of the DOM tree order. E.g. for ‘linearGradient’, ‘radialGradient’, ‘pattern’, ‘mask’, ‘clipPath’ ‘symbol’ or ‘use’ elements.
</p>

<p>
`~SVG表示域$の［
横幅, 縦幅, 原点
］は、［
~SVG表示域を生成している~SVG文書片と，その素片の親
］との間の（場合によっては暗黙的な）折衝処理により確立される。
この折衝処理については、
`新たな~SVG表示域の確立-法$secを見よ。
◎
The width, height and origin of SVG viewports is established by a negotiation process between the SVG document fragment generating the SVG viewport, and the parent of that fragment (whether real or implicit). See Establishing a new SVG viewport for a description of this negotiation process.
</p>

<p>
既定では、入子な`~SVG表示域$の`表示域~座標系$は、［
それを確立した要素 %要素 の親の利用元~座標系を %要素 の原点【？】で並進したもの
］に等価になる。
しかしながら， %要素 上の `transform$p ~propは、
`表示域~座標系$を親の利用元~座標系に相対的に改変することになる。
◎
By default, a nested SVG viewport's viewport coordinate system is equivalent to the local coordinate system of the parent element, translated by the origin of the SVG viewport's element. However, a transform property on an SVG viewport's element will modify the viewport coordinate system relative to the parent element's user coordinate system.
</p>

<p>
抽象的には、すべての`~SVG表示域$は，［
`~canvas@
と呼ばれる，【同じ一つの？】無限に広い描画域
］に埋込まれる。
◎
Abstractly, all SVG viewports are embedded in the canvas, a drawing region that is infinitely large in all relevant dimensions.
</p>

	</section>
	<section id="ComputingAViewportsTransform">
<h2 title="Computing the equivalent transform of an SVG viewport">8.2. ~SVG表示域に等価な変形の算出-法</h2>

<p>
以下に与える処理-は、
所与の要素の［
`viewBox$a 属性の値,
位置と~size,
`preserveAspectRatio$a 属性の値
］を［
要素に包含されている内容に適用される，並進と拡縮率
］へ変換する：
◎
This process converts the min-x, min-y, width and height values of a viewBox attribute, the position and size of the element on which the viewBox attribute is defined, and the value of the preserveAspectRatio attribute on that element into a translation and a scale that is applied to content contained by the element.
</p>

<p class="trans-note">【
`viewBox^a 属性の値が妥当でない場合、
指定されなかったかのようになる（初期~値）ので，この手続きも適用されない（ `preserveAspectRatio^a 属性も無視される）。
】</p>

<ol>
	<li>
( %vb-x, %vb-y, %vb-横幅, %vb-横幅 ) ~LET 順に，
`viewBox^a 属性の
( `min-x^t, `min-y^t, `width^t, `height^t )
◎
Let vb-x, vb-y, vb-width, vb-height be the min-x, min-y, width and height values of the viewBox attribute respectively.
</li>
	<li>
( %e-x, %e-y ) ~LET  要素の位置
◎
↓</li>
	<li>
( %e-横幅, %e-縦幅 ) ~LET 要素の~size
◎
Let e-x, e-y, e-width, e-height be the position and size of the element respectively.
</li>
	<li>
%align ~LET ［
要素は `preserveAspectRatio$a 属性を有するならば その `align$t 値 ／
~ELSE_ `xMidYMid^v
］
◎
Let align be the align value of preserveAspectRatio, or 'xMidYMid' if preserveAspectRatio is not defined.
</li>
	<li>
%meetOrSlice ~LET ［
次が満たされるならば `slice^v ／
~ELSE_ `meet^v
］
⇒
要素は `preserveAspectRatio$a 属性を有していて，その値に `meetOrSlice$t 値として `slice^v が供されている
◎
Let meetOrSlice be the meetOrSlice value of preserveAspectRatio, or 'meet' if preserveAspectRatio is not defined or if meetOrSlice is missing from this value.
</li>
	<li>
%scale-x ~SET %e-横幅 ~DIV %vb-横幅
◎
Initialize scale-x to e-width/vb-width.
</li>
	<li>
%scale-y ~SET %e-縦幅 ~DIV %vb-縦幅
◎
Initialize scale-y to e-height/vb-height.
</li>
	<li>
<p>
~IF［
%align ~NEQ `none^v
］：
◎
↓</p>
		<ol>
			<li>
%scale-x ~SET %meetOrSlice に応じて
⇒＃
`meet^v ならば `min^op( %scale-x, %scale-y ) ／
`slice^v ならば `max^op( %scale-x, %scale-y )
◎
If align is not 'none' and meetOrSlice is 'meet', set the larger of scale-x and scale-y to the smaller.
◎
Otherwise, if align is not 'none' and meetOrSlice is 'slice', set the smaller of scale-x and scale-y to the larger.
</li>
			<li>
%scale-y ~SET %scale-x
◎
↑</li>
		</ol>
	</li>
	<li>
%translate-x ~LET %e-x ~MINUS ( %vb-x ~MUL %scale-x )
◎
Initialize translate-x to e-x - (vb-x * scale-x).
</li>
	<li>
%translate-y ~LET %e-y ~MINUS ( %vb-y ~MUL %scale-y )
◎
Initialize translate-y to e-y - (vb-y * scale-y)
</li>
	<li>
~IF［
%align ~IN { `xMidYMin^v, `xMidYMid^v, `xMidYMax^v }
］
⇒
%translate-x ~INCBY ( %e-横幅 ~MINUS %vb-横幅 ~MUL %scale-x ) ~DIV 2
◎
If align contains 'xMid', add (e-width - vb-width * scale-x) / 2 to translate-x.
</li>
	<li>
~IF［
%align ~IN { `xMaxYMin^v, `xMaxYMid^v, `xMaxYMax^v }
］
⇒
%translate-x ~INCBY ( %e-横幅 ~MINUS %vb-横幅 ~MUL %scale-x )
◎
If align contains 'xMax', add (e-width - vb-width * scale-x) to translate-x.
</li>
	<li>
~IF［
%align ~IN { `xMinYMid^v, `xMidYMid^v, `xMaxYMid^v }
］
⇒
%translate-y ~INCBY ( %e-縦幅 ~MINUS %vb-縦幅 ~MUL %scale-y ) ~DIV 2
◎
If align contains 'yMid', add (e-height - vb-height * scale-y) / 2 to translate-y.
</li>
	<li>
~IF［
%align ~IN { `xMinYMax^v, `xMidYMax^v, `xMaxYMax^v }
］
⇒
%translate-y ~INCBY ( %e-縦幅 ~MINUS %vb-縦幅 ~MUL %scale-y )
◎
If align contains 'yMax', add (e-height - vb-height * scale-y) to translate-y.
</li>
	<li>
~RET 次に与える値が表現する変形
⇒
<code class="value">translate( %translate-x, %translate-y) scale( %scale-x, %scale-y )</code>
◎
The transform applied to content contained by the element is given by translate(translate-x, translate-y) scale(scale-x, scale-y).
</li>
</ol>

	</section>
	<section id="ViewportSpace">
<h2 title="The initial viewport">8.3. 初期~表示域</h2>

<p>
~SVG内容の`初期~表示域$の横幅は、
次に従って決定されるモノトスル：
◎
The initial viewport's width, must be＼
</p>

<ol>
	<li>
<p>
~IF［
~AND↓
］…
◎
the value of the width presentation attribute on the outermost svg element, unless the following conditions are met:
</p>
		<ul>
			<li>
~SVG内容は、［
参照により埋込まれた資源に別々に格納されている（ ~HTML内の `object^e 要素など）か
ある文書の中に~inlineに埋込まれている
］
◎
the SVG content is a separately stored resource that is embedded by reference (such as the ‘object’ element in HTML), or the SVG content is embedded inline within a containing document;
</li>
			<li>
参照元の要素／包含している文書は，~CSSを利用して~styleされている
`CSS2$r
◎
and the referencing element or containing document is styled using CSS [CSS2];
</li>
			<li>
［
参照元の要素（例： `object^e 要素）／
包含している文書の`最外縁の~svg要素$
］上に
`~CSSに互換な位置決め~prop＠~CSS2J#positioning-scheme$ `CSS2$r
が指定されていて，表示域の横幅を確立するに足るものである
◎
and there are CSS-compatible positioning properties ([CSS2], section 9.3) specified on the referencing element (e.g., the ‘object’ element) or on the containing document's outermost svg element that are sufficient to establish the width of the viewport.
</li>
		</ul>
<p>
…ならば
⇒
~RET 位置決め~propを介して確立される結果の横幅
◎
Under these conditions, the viewport's width must be established via the positioning properties.
</p>
	</li>
	<li>
~RET `最外縁の~svg要素$上の `width$p 呈示~属性の値
【初期~値 `auto^v の場合、 100% として扱われることになる。】
◎
↑</li>
</ol>

<p>
~SVG内容の`初期~表示域$の横幅は、
上の手続きの［
横幅を縦幅,
`width$p を `height$p
］に読み替えて決定されるモノトスル。
◎
Similarly, if there are positioning properties specified on the referencing element or on the outermost svg element that are sufficient to establish the height of the viewport, then these positioning properties must establish the viewport's height; otherwise, the initial viewport's height must be the value of the height presentation attribute on the outermost svg element.
</p>

<p>
`最外縁の~svg要素$上の［
`width$p ／ `height$p
］呈示~属性は，`利用元~単位$による値をとる場合（すなわち単位~識別子は供されていない）、
その単位は `px^u と見做される（`単位$secを見よ）。
◎
If the width or height presentation attributes on the outermost svg element are in user units (i.e., no unit identifier has been provided), then the value is assumed to be equivalent to the same number of "px" units (see Units).
</p>

<div class="example">
<p>
次の例においては、
~SVG~graphicは［
~CSS~layout規則を利用して整形されている親~XML文書
］の中に~inlineに埋込まれている。
`最外縁の~svg要素$上には~CSS位置決め~propは供されていないので、［
`width^a ／ `height^a
］属性に指定された値［
`100px^v ／ `200px^v
］が`初期~表示域$の~sizeを決定する：
◎
In the following example, an SVG graphic is embedded inline within a parent XML document which is formatted using CSS layout rules. Since CSS positioning properties are not provided on the outermost svg element, the width="100px" and height="200px" attributes determine the size of the initial viewport:
</p>

<pre class="lang-xml">
&lt;?xml version="1.0" standalone="yes"?&gt;
&lt;parent xmlns="http://some.url"&gt;

   &lt;!-- <span class="comment">
~SVG~graphic
◎
SVG graphic
</span> --&gt;
   &lt;svg xmlns='http://www.w3.org/2000/svg'
      width="100px" height="200px"&gt;
      &lt;path d="M100,100 Q200,400,300,100"/&gt;
      &lt;!-- <span class="comment">
~SVG~graphicの残りはここに来る
◎
rest of SVG graphic would go here
</span> --&gt;
   &lt;/svg&gt;

&lt;/parent&gt;
</pre>
</div>

	</section>
	<section id="InitialCoordinateSystem">
<h2 title="The initial coordinate system">8.4. 初期~座標系</h2>

<p>
~SVG~UAは、
`最外縁の~svg要素$用の 初期~時の［
`表示域~座標系$,
`利用元~座標系$
］を ~AND↓ を満たすように決定するモノトスル：
◎
For the outermost svg element, the SVG user agent must determine an initial viewport coordinate system and an initial user coordinate system such that＼
</p>

<ul>
	<li>
両~座標系は互いに一致する。
◎
the two coordinates systems are identical.＼
</li>
	<li>
両~座標系の原点は`~SVG表示域$の原点に一致する
◎
The origin of both coordinate systems must be at the origin of the SVG viewport,＼
</li>
	<li>
両~座標系とも， 1 単位は`~SVG表示域$における 1 `px$u に等しい（`CSS2$r ／ `css-values$r ）。
◎
and one unit in the initial coordinate system must equal one CSS 2.1 px ([CSS2], section 4.3.2) in the SVG viewport.
</li>
</ul>

<p>
自立的~SVG文書, および［
親~文書の中に（参照または~inlineにより）埋込まれた~SVG文書片であって，親の~layoutは~CSSにより決定されているもの
`CSS2$r
］は、その初期~時の表示域~座標系（したがって初期~時の利用元~座標系）は，次を満たすモノトスル：
◎
In stand-alone SVG documents and in SVG document fragments embedded (by reference or inline) within parent documents where the parent's layout is determined by CSS [CSS2], the initial viewport coordinate system (and therefore the initial user coordinate system) must
</p>

<ul>
	<li>
原点は、表示域の左上隅にある
◎
have its origin at the top/left of the viewport,＼
</li>
	<li>
［
正な~x軸は右方を指し，正な~y軸は下方を指す
］
◎
with the positive x-axis pointing towards the right, the positive y-axis pointing down,＼
</li>
	<li>
~textは “正立” 方位で描画される
— すなわち，各~glyphのうち［
~Roman文字, ~Asian~script用の `full-size ideographic^en 文字【かな漢字等】
］に対応するものは、
その［
上端~辺は上方, 右端~辺は右方
］へ方位されることを意味する。
◎
and text rendered with an "upright" orientation, which means glyphs are oriented such that Roman characters and full-size ideographic characters for Asian scripts have the top edge of the corresponding glyphs oriented upwards and the right edge of the corresponding glyphs oriented to the right.
</li>
</ul>

<p>
~SVG実装が［
~CSS 2.1互換 `px^u 単位を利用している文書の~style付けを~supportする~UA
］の一部を成す場合、
~SVG~UAは，自身の 1 `px^u 単位の~size用の初期~値を［
現実の単位において，他の~style付け演算~用に利用される値に合致する
］ように設定するベキである。
他の場合、
~UAは， 1 `px^u 単位の~sizeを［
自身の環境から決定できるならば その値を利用する ／
~ELSE_ 適切な~sizeを選ぶ
］ベキである。
いずれにせよ、
1 `px^u の~sizeは
`CSS2$r に`述べられる規則＠~CSS22/syndata.html#length-units$に適合させるモノトスル。
◎
If the SVG implementation is part of a user agent which supports styling documents using CSS 2.1 compatible px units, then the SVG user agent should set its initial value for the size of a px unit in real world units to match the value used for other styling operations; otherwise, if the user agent can determine the size of a px unit from its environment, it should use that value; otherwise, it should choose an appropriate size for one px unit. In all cases, the size of a px must be in conformance with the rules described in CSS 2.1 ([CSS2], section 4.3.2).
</p>

<div class="example">
<p>
下の例
`InitialCoords@xl
に，初期~座標系の原点は左上隅にあり，~x軸は右を指し，~y軸は下方を指している様子を示す。
初期~時の利用元~座標系の 1 利用元~単位は、
親の（暗黙的な／明示的な）~UAの “画素” に等しい。
◎
Example InitialCoords below shows that the initial coordinate system has the origin at the top/left with the x-axis pointing to the right and the y-axis pointing down. The initial user coordinate system has one user unit equal to the parent (implicit or explicit) user agent's "pixel".
</p>

<pre class="lang-xml">
&lt;?xml version="1.0" standalone="no"?&gt;
&lt;svg width="300px" height="100px" version="1.1"
     xmlns="http://www.w3.org/2000/svg"&gt;
  &lt;desc&gt;<span class="comment">
例
`InitialCoords^xl 
— ~SVGの初期~座標系
◎
Example InitialCoords - SVG's initial coordinate system
</span>&lt;/desc&gt;

  &lt;g fill="none" stroke="black" stroke-width="3" &gt;
    &lt;line x1="0" y1="1.5" x2="300" y2="1.5" /&gt;
    &lt;line x1="1.5" y1="0" x2="1.5" y2="100" /&gt;
  &lt;/g&gt;
  &lt;g fill="red" stroke="none" &gt;
    &lt;rect x="0" y="0" width="3" height="3" /&gt;
    &lt;rect x="297" y="0" width="3" height="3" /&gt;
    &lt;rect x="0" y="97" width="3" height="3" /&gt;
  &lt;/g&gt;
  &lt;g font-size="14" font-family="Verdana" &gt;
    &lt;text x="10" y="20"&gt;(0,0)&lt;/text&gt;
    &lt;text x="240" y="20"&gt;(300,0)&lt;/text&gt;
    &lt;text x="10" y="90"&gt;(0,100)&lt;/text&gt;
  &lt;/g&gt;
&lt;/svg&gt;
</pre>

<figure>
<p class="alt" hidden id="_dgm-InitialCoords">
~SVGの初期~座標系
◎
Example InitialCoords — SVG's initial coordinate system
</p>
<figcaption>
例 `InitialCoords^xl
◎
Example InitialCoords
</figcaption></figure>
`coords/InitialCoords.svg^viewAs
</div>

	</section>
	<section id="TransformProperty">
<h2 title="The ‘transform’ property">8.5. `transform^p ~prop</h2>

<p>
~UAは、
`css-transforms-1$r に定義される `transform$p ~prop,
それ用の呈示~属性を~supportするモノトスル。
◎
User agents must support the transform property and presentation attribute as defined in [css-transforms-1].
</p>

	</section>
	<section id="ViewBoxAttribute">
<h2 title="The ‘viewBox’ attribute">8.6. `viewBox^a 属性</h2>

<dl class="attrdef-list">
	<dt>
◎属名 <dfn id="TermViewBox">`viewBox^a</dfn>
◎属値 <span class="prod">[ `min-x^t,? `min-y^t,? `width^t,? `height^t ]</span>
◎属初 指定されていないかのようになる。【特に、値が妥当でない場合。】
◎属ア 可
◎表終

◎
Name 	Value 	Initial value 	Animatable
viewBox 	[&lt;min-x&gt;,? &lt;min-y&gt;,? &lt;width&gt;,? &lt;height&gt;] 	As if not specified. 	yes
</dt>
	<dd>
<pre class="prod">
`min-x^t
	= `number$t
`min-y^t
	= `number$t
`width^t
	= `number$t
`height^t
	= `number$t
</pre>
	</dd>
</dl>

<p class="annotation">
`svg$e 要素~上の変形は、
`viewBox$a 属性に因り，ちょっと特別である。
変形は［
`svg$e には，その変形が設定された親~要素がある
］かのように適用されるベキである
⇒
RESOLUTION：
`transform$p ~propは、
概念的には `svg^e 要素の外側に適用され、
視覚的な結果において，呈示~属性と~style~propの間に相違は無い
（`~~参照先＠https://www.w3.org/2015/01/08-svg-minutes.html$）。
◎
Transform on the ‘svg’ element is a bit special due to the ‘viewBox’ attribute. The transform should be applied as if the ‘svg’ had a parent element with that transform set.＼
◎
RESOLUTION: transform property applies conceptually to the outside of the 'svg' element and there is no difference between presentation attribute and style property (in terms of the visual result).
</p>

<p class="note">注記：
`viewBox$a 属性は、
`preserveAspectRatio$a 属性と併用されたときは，`~SVG表示域$を特定0の容器~要素に収まるよう伸縮する能力を供する。
◎
The ‘viewBox’ attribute, in conjunction with the ‘preserveAspectRatio’ attribute, provides the capability to stretch an SVG viewport to fit a particular container element.
</p>

<p>
`viewBox$a 属性の値は、［［
0 個以上の空白, 0 〜 1 個の~comma
］が成す，空でない文字列
］で分離された 4 個の数［
`min-x^t, `min-y^t, `width^t, `height^t
］からなり、［
`preserveAspectRatio$a 属性も織り込む下で，所与の要素が確立する`~SVG表示域$の限界域に対応付けられるベキ矩形
］を，【要素の内容における】利用元~空間~内で指定する。
この矩形
— すなわち、［
左上隅の座標は ( `min-x^t, `min-y^t ),
横幅 `width^t, 縦幅 `height^t
］にされた矩形 —
は、要素の
`~viewbox@
と称される。
【この用語 ~viewboxは、他所を簡潔に述べるための，この訳による追加。】
◎
The value of the ‘viewBox’ attribute is a list of four numbers &lt;min-x&gt;, &lt;min-y&gt;, &lt;width&gt; and &lt;height&gt;, separated by whitespace and/or a comma, that specify a rectangle in user space that should be mapped to the bounds of the SVG viewport established by the given element, taking into account the ‘preserveAspectRatio’ attribute.＼
</p>
<p>
`viewBox$a 属性が在る場合、
表示域~座標系には［
`~SVG表示域に等価な変形の算出-法＠#ComputingAViewportsTransform$に述べた変形n
］が適用されることになる。
◎
The presence of the ‘viewBox’ attribute results in a transformation being applied to the viewport coordinate system as described in Computing the equivalent transform of an SVG viewport.
</p>

<p>
［
`width^t ／ `height^t
］に対しては、［
負な値は，~errorであり `viewBox$a 属性を無効~化する。
値 0 は，要素の描画を不能化する
］。
◎
A negative value for &lt;width&gt; or &lt;height&gt; is an error and invalidates the ‘viewBox’ attribute. A value of zero disables rendering of the element.
</p>

<div class="example">
<p>
例
`ViewBox@xl
は、`最外縁の~svg要素$上の `viewBox$a 属性の利用を図解する
— それは、［
~SVG内容は、`~SVG表示域$の限界域に収まるように伸縮するベキである
］ことを指定する。
◎
Example ViewBox illustrates the use of the ‘viewBox’ attribute on the outermost svg element to specify that the SVG content should stretch to fit bounds of the SVG viewport.
</p>

<pre class="lang-xml">
&lt;?xml version="1.0" standalone="no"?&gt;
&lt;svg width="300px" height="200px"
     viewBox="0 0 1500 1000" preserveAspectRatio="none"
     xmlns="http://www.w3.org/2000/svg"&gt;
  &lt;desc&gt;<span class="comment">
例 `ViewBox^xl
—
`viewBox^a 属性を利用して，初期~時の利用元~座標系を自動的に作成する。
それにより、
~graphicは `~SVG表示域$の中へ収まるよう拡縮される
— ~SVG表示域の~sizeが何であれ。
◎
Example ViewBox - uses the viewBox attribute to automatically create an initial user coordinate system which causes the graphic to scale to fit into the SVG viewport no matter what size the SVG viewport is.
</span>&lt;/desc&gt;

  &lt;!-- <span class="comment">
この矩形は、
利用元~座標系において，
( 0, 0 ) から ( 1500,1000 ) までにわたる。
`svg^e 要素には `viewBox^a 属性があるので、
矩形は~SVG内容~用に予約された区画~全体を埋めることになる。
◎
This rectangle goes from (0,0) to (1500,1000) in user coordinate system. Because of the viewBox attribute above, the rectangle will end up filling the entire area reserved for the SVG content.
</span> --&gt;
  &lt;rect x="0" y="0" width="1500" height="1000"
        fill="yellow" stroke="blue" stroke-width="12"  /&gt;
  &lt;!-- <span class="comment">
大きな赤い三角形
◎
A large, red triangle
</span> --&gt;
  &lt;path fill="red"  d="M 750,100 L 250,900 L 1250,900 z"/&gt;
  &lt;!-- <span class="comment">
~SVG表示域の横幅ほぼ全体を占める~text
◎
A text string that spans most of the SVG viewport
</span> --&gt;
  &lt;text x="100" y="600" font-size="200" font-family="Verdana" &gt;
    Stretch to fit
  &lt;/text&gt;
&lt;/svg&gt;
</pre>

<figure>
<figcaption>例 `ViewBox^xl：
［
`width=300px^a, `height=200px^a
］にされた~SVG表示域の中に描画されたとき（ 1 個目の図）と［
`width=150px^a, `height=200px^a
］にされた~SVG表示域の中に描画されたとき（ 2 個目の図）。
◎
Example ViewBox
◎
Rendered into SVG viewport with width=300px, height=200px
◎
Rendered into SVG viewport with width=150px, height=200px
</figcaption>

<p class="alt" hidden id="_dgm-ViewBox">
幅 300 高さ 200 に収まるよう伸縮する
◎
Example ViewBox - stretch to fit 300 by 200
</p>

<p class="alt" hidden id="_dgm-ViewBox-Width150">
幅 150 高さ 200 に収まるよう伸縮する
◎
Example ViewBox - stretch to fit 150 by 200
</p>
</figure>

`coords/ViewBox.svg^viewAs

<p>
`viewBox$a 属性の効果は、［
利用元~座標系~内で指定された矩形を，指名された領域（~SVG表示域であることが多い）の限界域へ対応付ける
］ような適切な変形n行列を，
~UAが自動的に給するようにする。
~SVG表示域の寸法は 300 × 200 `px^u であるときに，
上の 1 個目の図に示した効果を達成するためには、
~UAは，［
~X, ~Y とも 0.2 倍に拡縮する変形n
］を自動的に挿入する必要がある。
その効果は、［
~SVG表示域の~sizeはそのままに，文書~内に次のように変形nを補足したとき
］と等価になる：
◎
The effect of the ‘viewBox’ attribute is that the user agent automatically supplies the appropriate transformation matrix to map the specified rectangle in user coordinate system to the bounds of a designated region (often, the SVG viewport). To achieve the effect of the example on the left, with SVG viewport dimensions of 300 by 200 pixels, the user agent needs to automatically insert a transformation which scales both X and Y by 0.2. The effect is equivalent to having an SVG viewport of size 300px by 200px and the following supplemental transformation in the document, as follows:
</p>

<pre class="lang-xml">
&lt;?xml version="1.0" standalone="no"?&gt;
&lt;svg width="300px" height="200px"
     xmlns="http://www.w3.org/2000/svg"&gt;
	<mark>&lt;g transform="scale(0.2)"&gt;</mark>
    &lt;!-- <span class="comment">
文書の残りはここに来る
◎
Rest of document goes here
</span> --&gt;
	<mark>&lt;/g&gt;</mark>
&lt;/svg&gt;
</pre>

<p>
~SVG表示域の寸法は 150 × 200 `px^u のときに，上の 2 個目の図に示した効果を達成するためには、
~UAは，［
~Xを 0.1 倍, ~Yを 0.2 倍に拡縮する変形n
］を自動的に挿入する必要がある。
その効果は、［
~SVG表示域の~sizeはそのままに，文書~内に次のように変形nを補足したとき
］と等価になる：
◎
To achieve the effect of the example on the right, with SVG viewport dimensions of 150 by 200 pixels, the user agent needs to automatically insert a transformation which scales X by 0.1 and Y by 0.2. The effect is equivalent to having an SVG viewport of size 150px by 200px and the following supplemental transformation in the document, as follows:
</p>

<pre class="lang-xml">
&lt;?xml version="1.0" standalone="no"?&gt;
&lt;svg width="150px" height="200px"
     xmlns="http://www.w3.org/2000/svg"&gt;
	<mark>&lt;g transform="scale(0.1 0.2)"&gt;</mark>
    &lt;!-- <span class="comment">
文書の残りはここに来る
◎
Rest of document goes here
</span> --&gt;
	<mark>&lt;/g&gt;</mark>
&lt;/svg&gt;
</pre>
</div>

<div class="note">注記：
<p>
より~~一般には、~UAは
— 拡縮-変形nに加えて —
並進-変形nも給する必要があることに注意。
例えば，`最外縁の~svg要素$上で `viewBox$a 属性の［
`min-x^t ／ `min-y^t
］用に 0 以外の値を指定した場合、
並進-変形nも必要になる。
◎
Note that in some cases the user agent will need to supply a translate transformation in addition to a scale transformation. For example, on an outermost svg element, a translate transformation will be needed if the ‘viewBox’ attributes specifies values other than zero for &lt;min-x&gt; or &lt;min-y&gt;.
</p>
</div>

<p>
要素に［
`transform$p （または `patternTransform$a ）,
`viewBox$a
］の両者とも適用される場合、
要素は，両者それぞれに新たな座標系を確立する。
この場合，要素の内容は、
先ず `viewBox$a による変形が適用されてから `transform$p による変形が適用されることになる。
【要素を `g^e で括って， `transform^p を `g^e に移したのと同じ効果になる。】
◎
If both transform (or ‘patternTransform’) and ‘viewBox’ are applied to an element two new coordinate systems are established. transform establishes the first new coordinate system for the element. ‘viewBox’ establishes a second coordinate system for all descendants of the element. The first coordinate system is post-multiplied by the second coordinate system.
</p>

<p id="ViewBoxAttributeEffectOnSiblingAttributes">
`transform$p ~propと違って，
`viewBox$a 属性に因り作成される自動的な変形nは、
その属性を有する要素~上の［
`x^a, `y^a, `width^a, `height^a
］属性
（あるいは、 `marker$e 要素の事例では［
`markerWidth$a, `markerHeight$a
］属性）
には影響しない。
したがって，上の例に示した
`svg$e 要素は［
`width$p ／ `height$p
］呈示~属性も `viewBox$a 属性も有するが、［
`width$p, `height$p
］は［
`viewBox$a 変形nが`適用される前^emに存在する座標系
］における値を表現する。
他方， `transform$p の様な~propは、［
当の要素~上の他の【 `viewBox^a 以外の】すべての属性,
当の要素の子孫
］用に新たな座標系を確立する。
◎
Unlike the transform property, the automatic transformation that is created due to a ‘viewBox’ does not affect the ‘x’, ‘y’, ‘width’ and ‘height’ attributes (or in the case of the ‘marker’ element, the ‘markerWidth’ and ‘markerHeight’ attributes) on the element with the ‘viewBox’ attribute. Thus, in the example above which shows an ‘svg’ element which has width and height presentation attributes and a ‘viewBox’ attribute, the width and height represent values in the coordinate system that exists before the ‘viewBox’ transformation is applied. On the other hand, like the transform property, it does establish a new coordinate system for all other attributes and for descendant elements.
</p>

	</section>
	<section id="PreserveAspectRatioAttribute">
<h2 title="The ‘preserveAspectRatio’ attribute">8.7. `preserveAspectRatio^a 属性</h2>

<dl class="attrdef-list">
	<dt>
◎属名 <dfn id="TermPreserveAspectRatio">`preserveAspectRatio^a</dfn>
◎属値 <span class="prod">`align$t `meetOrSlice$t?</span>
◎属初 `xMidYMid meet^v
◎属ア 可
◎表終

◎
Name 	Value 	Initial value 	Animatable
preserveAspectRatio 	&lt;align&gt; &lt;meetOrSlice&gt;? 	xMidYMid meet 	yes
</dt>
	<dd>

<pre class="prod">
`align@t
	= `none^v
	| `xMinYMin^v
	| `xMidYMin^v
	| `xMaxYMin^v
	| `xMinYMid^v
	| `xMidYMid^v
	| `xMaxYMid^v
	| `xMinYMax^v
	| `xMidYMax^v
	| `xMaxYMax^v

`meetOrSlice@t
	= `meet^v
	| `slice^v
</pre>
	</dd>
	<dd>
一様な拡縮を強制するかどうかを指示する。
新たな~SVG表示域を確立する すべての要素（`表示域を確立する要素$secを見よ）,
および［
`image$e, `marker$e, `pattern$e, `view$e
］要素に適用される。
◎
Indicates whether or not to force uniform scaling. Applies to all elements that establish a new SVG viewport (see elements that establish SVG viewports), plus the ‘image’, ‘marker’, ‘pattern’ and ‘view’ elements
</dd>
</dl>

<p>
概して， `viewBox$a 属性を利用しているときは、［
~SVG表示域~全体を占めるかつ収まるよう，~graphicを【 x, y 軸で】非~一様に伸縮する方が望ましい事例
］もあれば，［
一様な拡縮を利用して，~graphicの縦横比を保全する方が望ましい事例
］もある。
◎
In some cases, typically when using the ‘viewBox’ attribute, it is desirable that the graphics stretch to fit non-uniformly to take up the entire SVG viewport. In other cases, it is desirable that uniform scaling be used for the purposes of preserving the aspect ratio of the graphics.
</p>

<p>
新たな~SVG表示域を確立する要素（`表示域を確立する要素$secを見よ），および［
`marker$e ／ `pattern$e ／ `view$e
］要素~用の
`preserveAspectRatio$a は、
同じ要素~上に `viewBox$a が供された【かつ その値は妥当である】ときに限り適用され，他の場合は無視される。
◎
For elements that establish a new SVG viewport (see elements that establish SVG viewports), plus the ‘marker’, ‘pattern’ and ‘view’ elements, ‘preserveAspectRatio’ only applies when a value has been provided for ‘viewBox’ on the same element. For these elements, if attribute ‘viewBox’ is not provided, then ‘preserveAspectRatio’ is ignored.
</p>

<p>
`image$e 要素~用の `preserveAspectRatio$a は、
次を指示する
⇒＃
参照先の画像は，基準-矩形にどう収まるベキか ／
参照先の画像の縦横比は，現在の利用元~座標系においても保全されるベキかどうか
◎
For ‘image’ elements, ‘preserveAspectRatio’ indicates how referenced images should be fitted with respect to the reference rectangle and whether the aspect ratio of the referenced image should be preserved with respect to the current user coordinate system.
</p>

<p id="DataTypeAlign">
`align$t ~parameterは、
一様な拡縮を強制するかどうか, および 強制する場合に要素の［
`~viewbox$, ~SVG表示域で互いの縦横比が合致しないときに利用する整列~手法
］を指示する。
◎
The &lt;align&gt; parameter indicates whether to force uniform scaling and, if so, the alignment method to use in case the aspect ratio of the ‘viewBox’ doesn't match the aspect ratio of the SVG viewport. The &lt;align&gt; parameter must be one of the following strings:
</p>

<p>
`align$t ~parameterは、
以下に挙げるいずれかの文字列でなければナラナイ：
</p>

<ul>
	<li>
<p>
値 `none^v は、
一様な拡縮を強制しない。
所与の要素を成す~graphic内容を［
要素の限界~boxは~SVG表示域を成す矩形に正確に合致する
］よう，必要なら非~一様に拡縮する。
◎
none - Do not force uniform scaling. Scale the graphic content of the given element non-uniformly if necessary such that the element's bounding box exactly matches the SVG viewport rectangle.＼
</p>
<p class="note">注記：
`align$t は `none^v の場合、
`meetOrSlice$t 値はあっても無視される。
◎
(Note: if &lt;align&gt; is none, then the optional &lt;meetOrSlice&gt; value is ignored.)
</p>

	</li>
	<li>
<p>
他のすべての値は、
一様な拡縮を強制する。
以下において［
%~viewbox は要素の`~viewbox$,
%表示域 は要素の~SVG表示域
］を表すとするとき、
これらの値は，次の表tに述べるように［
要素~内容~用の座標系（`利用元~座標系$）における %~viewbox を~SVG表示域に対応付ける
］ことを指示する：
</p>

<table><tbody>

<tr><td>`xMinYMin^v
<td>
%~viewbox の
( 最小~X値, 最小~Y値 )
を %表示域 のそれらに整列する。
◎
xMinYMin - Force uniform scaling. Align the &lt;min-x&gt; of the element's ‘viewBox’ with the smallest X value of the SVG viewport. Align the &lt;min-y&gt; of the element's ‘viewBox’ with the smallest Y value of the SVG viewport.

<tr><td>`xMidYMin^v
<td>
%~viewbox の
( 中央~X値, 最小~Y値 )
を %表示域 のそれらに整列する。
◎
xMidYMin - Force uniform scaling. Align the midpoint X value of the element's ‘viewBox’ with the midpoint X value of the SVG viewport. Align the &lt;min-y&gt; of the element's ‘viewBox’ with the smallest Y value of the SVG viewport.

<tr><td>`xMaxYMin^v
<td>
%~viewbox の
( 最大~X値, 最小~Y値 )
を %表示域 のそれらに整列する。
◎
xMaxYMin - Force uniform scaling. Align the &lt;min-x&gt;+&lt;width&gt; of the element's ‘viewBox’ with the maximum X value of the SVG viewport. Align the &lt;min-y&gt; of the element's ‘viewBox’ with the smallest Y value of the SVG viewport.

<tr><td>`xMinYMid^v
<td>
%~viewbox の
( 最小~X値, 中央~Y値 )
を %表示域 のそれらに整列する。
◎
xMinYMid - Force uniform scaling. Align the &lt;min-x&gt; of the element's ‘viewBox’ with the smallest X value of the SVG viewport. Align the midpoint Y value of the element's ‘viewBox’ with the midpoint Y value of the SVG viewport.

<tr><td>`xMidYMid^v （`初期~値$）
<td>
%~viewbox の
( 中央~X値, 中央~Y値 )
を %表示域 のそれらに整列する。
◎
xMidYMid (the initial value) -
◎
Force uniform scaling. Align the midpoint X value of the element's ‘viewBox’ with the midpoint X value of the SVG viewport. Align the midpoint Y value of the element's ‘viewBox’ with the midpoint Y value of the SVG viewport.

<tr><td>`xMaxYMid^v
<td>
%~viewbox の
( 最大~X値, 中央~Y値 )
を %表示域 のそれらに整列する。
◎
xMaxYMid - Force uniform scaling. Align the &lt;min-x&gt;+&lt;width&gt; of the element's ‘viewBox’ with the maximum X value of the SVG viewport. Align the midpoint Y value of the element's ‘viewBox’ with the midpoint Y value of the SVG viewport.

<tr><td>`xMinYMax^v
<td>
%~viewbox の
( 最小~X値, 最大~Y値 )
を %表示域 のそれらに整列する。
◎
xMinYMax - Force uniform scaling. Align the &lt;min-x&gt; of the element's ‘viewBox’ with the smallest X value of the SVG viewport. Align the &lt;min-y&gt;+&lt;height&gt; of the element's ‘viewBox’ with the maximum Y value of the SVG viewport.

<tr><td>`xMidYMax^v
<td>
%~viewbox の
( 中央~X値, 最大~Y値 )
を %表示域 のそれらに整列する。
◎
xMidYMax - Force uniform scaling. Align the midpoint X value of the element's ‘viewBox’ with the midpoint X value of the SVG viewport. Align the &lt;min-y&gt;+&lt;height&gt; of the element's ‘viewBox’ with the maximum Y value of the SVG viewport.

<tr><td>`xMaxYMax^v
<td>
%~viewbox の
( 最大~X値, 最大~Y値 )
を %表示域 のそれらに整列する。
◎
xMaxYMax - Force uniform scaling. Align the &lt;min-x&gt;+&lt;width&gt; of the element's ‘viewBox’ with the maximum X value of the SVG viewport. Align the &lt;min-y&gt;+&lt;height&gt; of the element's ‘viewBox’ with the maximum Y value of the SVG viewport.
</table>

	</li>
</ul>

<p>
任意選択な `meetOrSlice$t ~parameterを供する場合、
1 個~以上の~spaceで `align$t 値と分離した上で，
次に挙げるいずれかの文字列にしなければナラナイ：
◎
The &lt;meetOrSlice&gt; parameter is optional and, if provided, is separated from the &lt;align&gt; value by one or more spaces and then must be one of the following strings:
</p>

<dl>
	<dt>`meet^v （これが既定）</dt>
	<dd>
~graphicを［
縦横比を保全しつつ，
`~viewbox$全体が~SVG表示域の中で可視になる
］ような最大~sizeに拡縮する。
◎
meet (the default) - Scale the graphic such that:
• aspect ratio is preserved
• the entire ‘viewBox’ is visible within the SVG viewport
• the ‘viewBox’ is scaled up as much as possible, while still meeting the other criteria
</dd>
	<dd>
この事例では、
~graphicの縦横比が~SVG表示域に合致しない場合，
~SVG表示域を成す一部は`~viewbox$の限界域を超えて拡がることになる
（すなわち，`~viewbox$が描かれる区画は、
~SVG表示域より小さくなる）。
◎
In this case, if the aspect ratio of the graphic does not match the SVG viewport, some of the SVG viewport will extend beyond the bounds of the ‘viewBox’ (i.e., the area into which the ‘viewBox’ will draw will be smaller than the SVG viewport).
</dd>

	<dt>`slice^v</dt>
	<dd>
~graphicを［
縦横比を保全しつつ，
`~viewbox$が~SVG表示域~全体を覆う
］ような最小~sizeに拡縮する。
◎
slice - Scale the graphic such that:
• 縦横比を保全する
• aspect ratio is preserved
• the entire SVG viewport is covered by the ‘viewBox’
• the ‘viewBox’ is scaled down as much as possible, while still meeting the other criteria
</dd>
	<dd>
この事例では、
~graphicの縦横比が~SVG表示域に合致しない場合，
`~viewbox$を成す一部は~SVG表示域の限界域を超えて拡がることになる
（すなわち，`~viewbox$が描かれる区画は、~SVG表示域よりより大きくなる）。
◎
In this case, if the aspect ratio of the ‘viewBox’ does not match the SVG viewport, some of the ‘viewBox’ will extend beyond the bounds of the SVG viewport (i.e., the area into which the ‘viewBox’ will draw is larger than the SVG viewport).
</dd>
</dl>

<div class="example">
<p>
例 `PreserveAspectRatio@xl
に、 `preserveAspectRatio$a 用の各種~optionを図解する。
この例は、
`最外縁の~svg要素$の内側に `svg$e 下位-要素を埋込んで含めることにより，
いくつかの新たな~SVG表示域を作成する
（`新たな~SVG表示域の確立-法$secを見よ）。
◎
Example PreserveAspectRatio illustrates the various options on ‘preserveAspectRatio’. The example creates several new SVG viewports by including ‘svg’ sub-elements embedded inside the outermost svg element (see Establishing a new SVG viewport).
</p>

<pre class="lang-xml">
&lt;svg
  width="450px" height="350px"
  xmlns="http://www.w3.org/2000/svg"
  viewbox="0 0 450 350"
&gt;

  &lt;desc&gt;PreserveAspectRatio 属性の用例&lt;/desc&gt;

  &lt;style type="text/css"&gt;
    text { font-size: 9; text-anchor:middle; font-family: monospace;}
    text.legend { font-family: serif;}
    rect { fill: none; stroke: blue;}
    .bounds { fill:black; stroke:red; stroke-width:2px; }
	svg { outline: solid blue thin;}
  &lt;/style&gt;

  &lt;defs&gt;
    &lt;g id="smile"&gt;
      &lt;circle cx="0" cy="0" r="10"  fill="yellow"/&gt;
      &lt;circle cx="-3" cy="-3" r="1.5" fill="black"/&gt;
      &lt;circle cx="3" cy="-3" r="1.5" fill="black"/&gt;
      &lt;path d="M -5 4 A 8 8 0 0 0 5 4" stroke="black" stroke-width="2"/&gt;
    &lt;/g&gt;

    &lt;g id="smile-1"&gt;
      &lt;rect x="1" y="1" width="28" height="48" class="bounds"/&gt;
      &lt;use href="#smile" transform="translate(15,25)"/&gt;
    &lt;/g&gt;
    &lt;g id="smile-2"&gt;
      &lt;rect x="1" y="1" width="48" height="28" class="bounds"/&gt;
      &lt;use href="#smile" transform="translate(25,15)"/&gt;
    &lt;/g&gt;
  &lt;/defs&gt;

  &lt;rect x="0" y="0" width="450" height="350"/&gt;

  &lt;g transform="translate(110,40)"&gt;
    &lt;text class="legend" x="0" y="-10"&gt;収める SVG（縦長）&lt;/text&gt;
    &lt;use href="#smile-1" transform="translate(-15,0)"/&gt;
  &lt;/g&gt;

  &lt;g transform="translate(340,40)"&gt;
    &lt;text class="legend" x="0" y="-10"&gt;収める SVG（横長）&lt;/text&gt;
    &lt;use href="#smile-2" transform="translate(-25,0)"/&gt;
  &lt;/g&gt;

  &lt;g transform="translate(225,40)"&gt;
    &lt;text class="legend" x="0" y="-10"&gt;表示域&lt;/text&gt;
    &lt;rect x="0" y="0" width="40" height="40"  transform="translate(-20,0)"/&gt;
  &lt;/g&gt;

  &lt;g id="meet-group-1" transform="translate(20, 170)"&gt;
    &lt;text x="90" y="-40"&gt;meet&lt;/text&gt;
    &lt;g&gt;
      &lt;text x="20" y="-10"&gt;xMin*&lt;/text&gt;
      &lt;rect x="0" y="0" width="40" height="40"/&gt;
      &lt;svg preserveAspectRatio="xMinYMin meet" viewBox="0 0 30 50" width="40" height="40"&gt;
        &lt;use href="#smile-1"/&gt;
      &lt;/svg&gt;
    &lt;/g&gt;
    &lt;g transform="translate(70,0)"&gt;
      &lt;text x="20" y="-10"&gt;xMid*&lt;/text&gt;
      &lt;rect x="0" y="0" width="40" height="40"/&gt;
      &lt;svg preserveAspectRatio="xMidYMid meet" viewBox="0 0 30 50" width="40" height="40"&gt;
        &lt;use href="#smile-1"/&gt;
      &lt;/svg&gt;
    &lt;/g&gt;
    &lt;g transform="translate(140,0)"&gt;
      &lt;text x="20" y="-10"&gt;xMax*&lt;/text&gt;
      &lt;rect x="0" y="0" width="40" height="40"/&gt;
      &lt;svg preserveAspectRatio="xMaxYMax meet" viewBox="0 0 30 50" width="40" height="40"&gt;
        &lt;use href="#smile-1"/&gt;
      &lt;/svg&gt;
    &lt;/g&gt;
  &lt;/g&gt;

  &lt;g id="meet-group-2" transform="translate(250, 170)"&gt;
    &lt;text x="90" y="-40"&gt;meet&lt;/text&gt;
    &lt;g&gt;
      &lt;text x="20" y="-10"&gt;*YMin&lt;/text&gt;
      &lt;rect x="0" y="0" width="40" height="40"/&gt;
      &lt;svg preserveAspectRatio="xMinYMin meet" viewBox="0 0 50 30" width="40" height="40"&gt;
        &lt;use href="#smile-2"/&gt;
      &lt;/svg&gt;
    &lt;/g&gt;
    &lt;g transform="translate(70, 0)"&gt;
      &lt;text x="20" y="-10"&gt;*YMid&lt;/text&gt;
      &lt;rect x="0" y="0" width="40" height="40"/&gt;
      &lt;svg preserveAspectRatio="xMidYMid meet" viewBox="0 0 50 30" width="40" height="40"&gt;
	&lt;use href="#smile-2"/&gt;
      &lt;/svg&gt;
    &lt;/g&gt;
    &lt;g transform="translate(140, 0)"&gt;
      &lt;text x="20" y="-10"&gt;*YMax&lt;/text&gt;
      &lt;rect x="0" y="0" width="40" height="40"/&gt;
      &lt;svg preserveAspectRatio="xMaxYMax meet" viewBox="0 0 50 30" width="40" height="40"&gt;
        &lt;use href="#smile-2"/&gt;
      &lt;/svg&gt;
    &lt;/g&gt;
  &lt;/g&gt;

  &lt;g id="slice-group-2" transform="translate(20, 290)"&gt;
    &lt;text x="90" y="-40"&gt;slice&lt;/text&gt;
    &lt;g&gt;
      &lt;text x="20" y="-10"&gt;*YMin&lt;/text&gt;
      &lt;rect x="0" y="0" width="40" height="40"/&gt;
      &lt;svg preserveAspectRatio="xMinYMin slice" viewBox="0 0 30 50" width="40" height="40"&gt;
        &lt;use href="#smile-1"/&gt;
      &lt;/svg&gt;
    &lt;/g&gt;
    &lt;g transform="translate(70,0)"&gt;
      &lt;text x="20" y="-10"&gt;*YMid&lt;/text&gt;
      &lt;rect x="0" y="0" width="40" height="40"/&gt;
      &lt;svg preserveAspectRatio="xMidYMid slice" viewBox="0 0 30 50" width="40" height="40"&gt;
        &lt;use href="#smile-1"/&gt;
      &lt;/svg&gt;
    &lt;/g&gt;
    &lt;g transform="translate(140,0)"&gt;
      &lt;text x="20" y="-10"&gt;*YMax&lt;/text&gt;
      &lt;rect x="0" y="0" width="40" height="40"/&gt;
      &lt;svg preserveAspectRatio="xMaxYMax slice" viewBox="0 0 30 50" width="40" height="40"&gt;
        &lt;use href="#smile-1"/&gt;
      &lt;/svg&gt;
    &lt;/g&gt;
  &lt;/g&gt;

  &lt;g id="slice-group-1" transform="translate(250, 290)"&gt;
    &lt;text x="90" y="-40"&gt;slice&lt;/text&gt;
    &lt;g&gt;
      &lt;text x="20" y="-10"&gt;xMin*&lt;/text&gt;
      &lt;rect x="0" y="0" width="40" height="40"/&gt;
      &lt;svg preserveAspectRatio="xMinYMin slice" viewBox="0 0 50 30" width="40" height="40"&gt;
        &lt;use href="#smile-2"/&gt;
      &lt;/svg&gt;
    &lt;/g&gt;
    &lt;g transform="translate(70,0)"&gt;
      &lt;text x="20" y="-10"&gt;xMid*&lt;/text&gt;
      &lt;rect x="0" y="0" width="40" height="40"/&gt;
      &lt;svg preserveAspectRatio="xMidYMid slice" viewBox="0 0 50 30" width="40" height="40"&gt;
        &lt;use href="#smile-2"/&gt;
      &lt;/svg&gt;
    &lt;/g&gt;
    &lt;g transform="translate(140,0)"&gt;
      &lt;text x="20" y="-10"&gt;xMax*&lt;/text&gt;
      &lt;rect x="0" y="0" width="40" height="40"/&gt;
      &lt;svg preserveAspectRatio="xMaxYMax slice" viewBox="0 0 50 30" width="40" height="40"&gt;
        &lt;use href="#smile-2"/&gt;
      &lt;/svg&gt;
    &lt;/g&gt;
  &lt;/g&gt;
&lt;/svg&gt;
</pre>

<figure>
<p class="alt" hidden id="_dgm-PreserveAspectRatio">
可用な各種~optionのデモ
◎
Example PreserveAspectRatio — demonstrate available options
</p>
<figcaption>
例 `PreserveAspectRatio^xl
◎
Example PreserveAspectRatio
</figcaption></figure>
</div>

	</section>
	<section id="EstablishingANewSVGViewport">
<h2 title="Establishing a new SVG viewport">8.8. 新たな~SVG表示域の確立-法</h2>

<p>
`svg$e 要素（~SVG内容の内側にあるものも含む）は、
新たな~SVG表示域を作成する
— 要素が包含する~graphicはすべて，その中に描かれる。
これは、［
新たな表示域~座標系, 新たな利用元~座標系
］の両者を暗黙的に確立する。
加えて，新たな~SVG表示域が確立される結果、
その中の百分率~単位の意味も変わる（`単位$secを見よ）。
◎
Including an ‘svg’ element inside SVG content creates a new SVG viewport into which all contained graphics are drawn; this implicitly establishes both a new viewport coordinate system and a new user coordinate system. Additionally, there is a new meaning for percentage units therein, because a new SVG viewport has been established (see Units).
</p>

<p>
`svg$e 要素など，新たな~SVG表示域を確立している要素 %要素 においては、
新たな~SVG表示域の限界域は［
 %要素 上の
`x^a, `y^a, `width^a, `height^a
］属性で定義される。
［
新たな表示域~座標系, 新たな利用元~座標系
］とも，その原点は %要素 上の ( `x^a, `y^a ) の値で与えられる。
両~座標系とも，その方位は、
%要素 用の現在の利用元~座標系の方位に対応する。
両~座標系とも，その 1 単位は、
%要素 用の現在の利用元~座標系の 1 単位と同じ~sizeになる。
◎
The bounds of the new SVG viewport are defined by the ‘x’, ‘y’, ‘width’ and ‘height’ attributes on the element establishing the new SVG viewport, such as an ‘svg’ element. Both the new viewport coordinate system and the new user coordinate system have their origins at (‘x’, ‘y’), where ‘x’ and ‘y’ represent the value of the corresponding attributes on the element establishing the SVG viewport. The orientation of the new viewport coordinate system and the new user coordinate system correspond to the orientation of the current user coordinate system for the element establishing the SVG viewport. A single unit in the new viewport coordinate system and the new user coordinate system are the same size as a single unit in the current user coordinate system for the element establishing the SVG viewport.
</p>

<div class="example">
<p>
例：
◎
Here is an example:
</p>

<pre class="lang-xml">
&lt;?xml version="1.0" standalone="no"?&gt;
&lt;svg width="4in" height="3in"
     xmlns="http://www.w3.org/2000/svg"&gt;
  &lt;desc&gt;<span class="comment">
この~SVG絵図は、
別のそれを埋込むので，新たな~SVG表示域を確立している
◎
This SVG drawing embeds another one, thus establishing a new SVG viewport
</span>&lt;/desc&gt;
  &lt;!-- <span class="comment">
次の言明は、
新たな~SVG表示域を確立して，その中に別の~SVG絵図を描画する
◎
The following statement establishing a new SVG viewport and renders SVG drawing B into that SVG viewport
</span> --&gt;
  &lt;svg x="25%" y="25%" width="50%" height="50%"&gt;
     &lt;!-- <span class="comment">
別の絵図はここに来る
◎
drawing B goes here
</span> --&gt;
  &lt;/svg&gt;
&lt;/svg&gt;
</pre>

<p>
新たな~SVG表示域を多用する例は、
例 `PreserveAspectRatio$xl を見よ。
◎
For an extensive example of creating new SVG viewports, see Example PreserveAspectRatio.
</p>
</div>

<p id="ElementsThatEstablishViewports">
次に挙げる要素は、
新たな~SVG表示域を確立する
⇒＃
`svg$e 要素,
`use$e 要素により~instance化された `symbol$e 要素
◎
The following elements establish new SVG viewports:
• The ‘svg’ element
• A ‘symbol’ element that is instanced by a ‘use’ element.
</p>

<p class="note">注記：
歴史的な理由から，［
`pattern$e ／ `marker$e
］要素は、
`viewBox$a 属性を受容するにもかかわらず，新たな表示域は作成しない。
［
`clipPath$e ／ `mask$e
］要素も，新たな表示域は作成しない。
これらの要素の内容の中の百分率による長さは、
~graphicな効果~領域の寸法に比例しない。
◎
For historical reasons, the ‘pattern’ and ‘marker’ elements do not create a new viewport, despite accepting a ‘viewBox’ attribute. Neither do the ‘clipPath’ or ‘mask’ elements. Percentage lengths within the content of these elements are not proportional to the dimensions of the graphical effect region.
</p>

<p>
`foreignObject$e 要素は、
その子~内容~用に新たな`~CSS包含塊＠~CSS2J#containing-block$を確立する。
これには、新たな表示域に類似な，子~内容~用の~layoutの視野を設定し直す効果がある。
しかしながら， `foreignObject$e の子孫である `svg$e 要素は、
その子孫の~SVG要素を描画するため，~SVG文書片と~SVG表示域を確立するモノトスル。
◎
The ‘foreignObject’ element establishes a new CSS containing block for its child content. This has some effects similar to a new viewport, resetting the scope of layout for child content. However, in order to render SVG elements that are descendents of ‘foreignObject’, a new ‘svg’ element must establish an SVG document fragment and SVG viewport.
</p>

<p>
`image$e 要素は、
参照先の文書~用に新たな`文書~表示域＠~CSS2J#viewport$を作成する。
もちろん，参照先の文書は~SVG~fileである場合、
それは自前の~SVG表示域を確立することになる。
◎
 An ‘image’ creates a new document viewport for the referenced document. If the referenced document is a SVG file, it will of course establish its own SVG viewport.
</p>

<p>
新たな~SVG表示域が新たな切抜き~pathも追加的に確立するかどうかは、
当の~SVG表示域を確立した要素~上の `overflow$p ~propの値により決定される。
◎
Whether a new SVG viewport also establishes a new additional clipping path is determined by the value of the overflow property on the element that establishes the new SVG viewport.
</p>

	</section>
	<section id="Units">
<h2 title="Units">8.9. 単位</h2>

<p>
~SVGは、［
属性 ／ 呈示~属性 ／ ~CSS~prop
］用に
`css-values$r による共通な［
値と単位
］の記述と定義に従う。
各［
属性／~prop
］には、
利用する成分~値の型が指定されなければナラナイ。
［
~CSS~WG, または~SVG~WG
］が公表する［
後継の, または拡張する
］仕様は、［
基本~data型を拡張する, または新たな~data型を追加する
］こともある。
◎
SVG follows the description and definition of common values and units from the CSS Values and Units Module [css-values] for attributes, presentation attributes and CSS properties. Each attribute and property must specify the used component value type. Subsequent or extending specifications published by the CSS WG or SVG WG may extend basic data types or add new data types.
</p>

<p>
［
`percentage$t として表出され，`~SVG表示域$ %表示域 の~sizeに相対的になる
］ものと定義された %寸法 用に与えられた値は、
以下において［
%基準~横幅, %基準~縦幅
］は［
%表示域 に適用される `viewBox$a 属性が指定されているならば `~viewbox$の~size ／
~ELSE_ %表示域 の~size
］を利用元~単位で表すとするとき：
◎
For &lt;percentage&gt; values that are defined to be relative to the size of SVG viewport:
</p>

<ul>
	<li>
%寸法 が［
~x座標／横幅
］である場合、
値は， %基準~縦幅 に対する百分率を与えるモノトスル。
◎
For any x-coordinate value or width value expressed as a percentage of the SVG viewport, the value to use must be the percentage, in user units, of the width parameter of the ‘viewBox’ applied to that viewport. If no ‘viewBox’ is specified, then the value to use must be the percentage, in user units, of the width of the SVG viewport.
</li>
	<li>
%寸法 が［
~y座標／縦幅
］である場合、
値は， %基準~縦幅 に対する百分率を与えるモノトスル。
◎
For any y-coordinate value or height value expressed as a percentage of the SVG viewport, the value to use must be the percentage, in user units, of the height parameter of the ‘viewBox’ applied to that viewport. If no ‘viewBox’ is specified, then the value to use must be the percentage, in user units, of the height of the SVG viewport.
</li>
	<li id="Units_viewport_percentage">
%寸法 が他の長さである場合、
値は，次の~~式で計算される
`正規化-済み対角線長さ@
に対する百分率を与えるモノトスル
⇒
`sqrt^op( ( %基準~横幅 ~MUL %基準~横幅 ) ~PLUS ( %基準~縦幅 ~MUL %基準~縦幅 ) )
~DIV `sqrt^op( 2 )
◎
For any other length value expressed as a percentage of the SVG viewport, the percentage must be calculated as a percentage of the normalized diagonal of the ‘viewBox’ applied to that viewport. If no ‘viewBox’ is specified, then the normalized diagonal of the SVG viewport must be used. The normalized diagonal length must be calculated with sqrt((width)**2 + (height)**2)/sqrt(2).
</li>
</ul>

<div class="example">
<p>
下の例
`Units@xl
に、各 種別の単位~用の，いくつかの処理~規則を図解する。
◎
Example Units below illustrates some of the processing rules for different types of units.
</p>

<pre class="lang-xml">
&lt;?xml version="1.0" standalone="no"?&gt;
&lt;svg width="400px" height="200px" viewBox="0 0 4000 2000"
     xmlns="http://www.w3.org/2000/svg"&gt;
  &lt;title&gt;Example Units&lt;/title&gt;
  &lt;desc&gt;<span class="comment">
様々な単位~optionを図解する
◎
Illustrates various units options
</span>&lt;/desc&gt;

  &lt;!-- <span class="comment">
全体の枠線
◎
Frame the picture
</span> --&gt;
  &lt;rect x="5" y="5" width="3990" height="1990" 
        fill="none" stroke="blue" stroke-width="10"/&gt;

  &lt;g fill="blue" stroke="red" font-family="Verdana" font-size="150"&gt;
    &lt;!-- <span class="comment">
絶対~単位~指定子
◎
Absolute unit specifiers
</span> --&gt;
    &lt;g transform="translate(400,0)"&gt;
      &lt;text x="-50" y="300" fill="black" stroke="none"&gt;Abs. units:&lt;/text&gt;
      &lt;rect x="0" y="400" width="4in" height="2in" stroke-width=".4in"/&gt;
      &lt;rect x="0" y="750" width="384" height="192" stroke-width="38.4"/&gt;
      &lt;g transform="scale(2)"&gt;
        &lt;rect x="0" y="600" width="4in" height="2in" stroke-width=".4in"/&gt;
      &lt;/g&gt;
    &lt;/g&gt;

    &lt;!-- <span class="comment">
相対~単位~指定子
◎
Relative unit specifiers
</span> --&gt;
    &lt;g transform="translate(1600,0)"&gt;
      &lt;text x="-50" y="300" fill="black" stroke="none"&gt;Rel. units:&lt;/text&gt;
      &lt;rect x="0" y="400" width="2.5em" height="1.25em" stroke-width=".25em"/&gt;
      &lt;rect x="0" y="750" width="375" height="187.5" stroke-width="37.5"/&gt;
      &lt;g transform="scale(2)"&gt;
        &lt;rect x="0" y="600" width="2.5em" height="1.25em" stroke-width=".25em"/&gt;
      &lt;/g&gt;
    &lt;/g&gt;

    &lt;!-- <span class="comment">
百分率
◎
Percentages
</span> --&gt;
    &lt;g transform="translate(2800,0)"&gt;
      &lt;text x="-50" y="300" fill="black" stroke="none"&gt;Percentages:&lt;/text&gt;
      &lt;rect x="0" y="400" width="10%" height="10%" stroke-width="1%"/&gt;
      &lt;rect x="0" y="750" width="400" height="200" stroke-width="31.62"/&gt;
      &lt;g transform="scale(2)"&gt;
        &lt;rect x="0" y="600" width="10%" height="10%" stroke-width="1%"/&gt;
      &lt;/g&gt;
    &lt;/g&gt;
  &lt;/g&gt;
&lt;/svg&gt;
</pre>

<figure>
<p class="alt" hidden id="_dgm-Units">
可用な各種~optionのデモ
◎
Example Units — demonstrate available options
</p>
<figcaption>
例 `Units^xl
◎
Example Units
</figcaption></figure>

<ul>
	<li>
左列にある 3 個の矩形は、
絶対~単位~識別子 `in^u 単位（~inch）の利用をデモる。
~CSSは 1 `in^u は 96 `px^u に等しいものと定義するので、
`in^u 単位で指定された上段の矩形の~sizeは，【 `px^u 単位に等しい】利用元~単位で指定された中段の矩形と正確に同じになる。
下段の矩形は、
`in^u 単位で指定された値が拡縮されたとき何が起こるかを図解する。
◎
The three rectangles on the left demonstrate the use of one of the absolute unit identifiers, the "in" unit (inch). CSS defines 1 inch to be equal to 96 pixels. Therefore, the topmost rectangle, which is specified in inches, is exactly the same size as the middle rectangle, which is specified in user units such that there are 96 user units for each corresponding inch in the topmost rectangle. The bottom rectangle of the group illustrates what happens when values specified in inches are scaled.
</li>
	<li>
中央列にある 3 個の矩形は、
相対~単位~識別子 `em^u 単位の利用をデモる。
最外縁 `g$e 要素~上では `font-size$p ~propは `150^v に設定されているので、
各 `em^u 単位は 150 利用元~単位に等しくなる。
`em^u 単位で指定された上段の矩形の~sizeは、
利用元~単位で指定された中段の矩形と正確に同じになる。
下段の矩形は、
`em^u 単位で指定された値が拡縮されたとき何が起こるかを図解する。
◎
The three rectangles in the middle demonstrate the use of one of the relative unit identifiers, the "em" unit. Because the font-size property has been set to 150 on the outermost ‘g’ element, each "em" unit is equal to 150 user units. The topmost rectangle, which is specified in "em" units, is exactly the same size as the middle rectangle, which is specified in user units such that there are 150 user units for each corresponding "em" unit in the topmost rectangle. The bottom rectangle of the group illustrates what happens when values specified in "em" units are scaled.
</li>
	<li>
右列にある 3 個の矩形は、
百分率の利用をデモる。
~SVG表示域~要素（この事例では`最外縁の~svg要素$）用の利用元~座標系における
`~SVG表示域$の横幅, 縦幅は、
順に 4000, 2000 になることに注意
— `~viewbox$は，利用元~座標系に変形されるので。
百分率~単位で指定された上段の矩形は、
等価な利用元~単位で指定された中段の矩形と正確に同じ~sizeになる。
特に，中段の矩形における `stroke-width$p ~propは、
( ~SVG表示域の対角線長さ ~DIV `sqrt^op( 2 ) )
の 1%
— この事例では
.01 ~MUL `sqrt^op( (4000 ~MUL 4000 ~PLUS 2000 ~MUL 2000) ~DIV 2 )
（およそ 31.62 ） —
に設定されることに注意。
下段の矩形は、
百分率~単位で指定された値が拡縮されたとき，何が起こるかを図解する。
◎
The three rectangles on the right demonstrate the use of percentages. Note that the width and height of the SVG viewport in the user coordinate system for the SVG viewport element (in this case, the outermost svg element) are 4000 and 2000, respectively, because processing the ‘viewBox’ attribute results in a transformed user coordinate system. The topmost rectangle, which is specified in percentage units, is exactly the same size as the middle rectangle, which is specified in equivalent user units. In particular, note that the stroke-width property in the middle rectangle is set to 1% of the sqrt((actual-width)**2 + (actual-height)**2) / sqrt(2), which in this case is .01*sqrt(4000*4000+2000*2000)/sqrt(2), or 31.62. The bottom rectangle of the group illustrates what happens when values specified in percentage units are scaled.
</li>
</ul>
</div>

	</section>
	<section id="BoundingBoxes">
<h2 title="Bounding boxes">8.10. 限界~box</h2>

<p id="bounding-box">
要素の
`限界~box@
（ `bounding box^en, 略称 `bbox^en ）とは、
自身とその子孫~すべてを封入する, かつ
要素の利用元~座標系の軸に辺が平行な，最も狭い矩形である。
◎
bounding box
◎
The bounding box (or "bbox") of an element is the tightest fitting rectangle aligned with the axes of that element's user coordinate system that entirely encloses it and its descendants.
</p>

<p>
要素~用の限界~boxは、
次の 3 種類として算出され得る：
◎
Three kinds of bounding boxes can be computed for an element:
</p>

<dl>
	<dt>`~obj限界~box@</dt>
	<dd>
要素の幾何-図形のみを包含する限界~box。
これは、`基本~図形$に対しては，~fillされる区画になる。
他が指定されずに単に “限界~box” と記されたときは、
これを意味する。
◎
The object bounding box is the bounding box that contains only an element's geometric shape. For basic shapes, this is the area that is filled. Unless otherwise specified, this is what is meant by the unqualified term "bounding box".
</dd>

	<dt>`~stroke限界~box@</dt>
	<dd>
要素の［
幾何-図形, `~stroke図形$
］を包含する限界~box。
◎
The stroke bounding box is the bounding box that contains an element's geometric shape and its stroke shape.
</dd>

	<dt>`装飾d限界~box@</dt>
	<dd>
要素の［
幾何-図形, `~stroke図形$, `~marker＠~SVGpainting#Markers$
］を包含する限界~box。
◎
The decorated bounding box is the bounding box that contains an element's geometric shape, its stroke shape and its markers.
</dd>
</dl>

<p class="note">注記：
要素~上の次に挙げる~propの値は、
要素の限界~boxに対する効果は無いことに注意
⇒
`opacity$p,
`visibility$p,
`fill$p,
`fill-opacity$p,
`fill-rule$p,
`stroke-dasharray$p,
`stroke-dashoffset$p
◎
Note that the values of the opacity, visibility, fill, fill-opacity, fill-rule, stroke-dasharray and stroke-dashoffset properties on an element have no effect on the bounding box of an element.
</p>

<p>
曲線を含む図形~用の限界~boxは、
その端点
【図形を成す各`~path区分$の端点】
のみならず，図形を成す辺に沿うすべての部位を封入するモノトスル。
曲線を定義する制御-点（三次~Bezier~commandのそれなど）は、
限界~boxの寸法には寄与しないモノトスル
— それらは、どこにあろうが辺に沿う部位とはみなされないことに注意。
◎
For curved shapes, the bounding box must enclose all portions of the shape along the edge, not just end points. Note that control points for a curve which are not defined as lying along the line of the resulting curve (e.g., the second coordinate pair of a Cubic Bézier command) must not contribute to the dimensions of the bounding box (though those points may fall within the area of the bounding box, if they lie within the shape itself, or along or close to the curve). For example, control points of a curve that are at a further distance than the curve edge, from the non-enclosing side of the curve edge, must be excluded from the bounding box.
</p>

<figure>
<p class="alt" hidden id="_dgm-bbox01">
二次~Bezier曲線の~obj限界~box
◎
Image showing the object bounding box of a quadratic Bézier curve.
</p>
<figcaption>

<p>
~path
"`M20,50 L35,100 H120 V50 Q70,10 20,50^v"
は、薄い青で示されている。
左には~pathの正しい~obj限界~box（破線）が示されている。
それは曲線の制御-点（図の上端）は含まないが、
青い図形を成すすべてを含むことに注意
— 端点を含む最~小な凸多角形の外側にある部分も含め。
<!-- ＊the control points -->
◎
The path 'M20,50 L35,100 H120 V50 Q70,10 20,50' is shown in light blue. On the left, a correct object bounding box of the path is shown. Note that it does not include the top-most control point of the curve, but it does include all of the blue shape, even the parts that lie outside of the convex hull of the control points.
</p>

</figcaption></figure>

<p>
［
`defs$e 要素の中にある，その他諸々【省略する】
］に因り，`描画~tree$に含まれない要素にも、
限界~boxはある。
要素~上で `getBBox()$n を~callしたときは、
要素が描画されたとするときと同じ矩形を返すことになる。
しかしながら，そのような要素は、どの先祖の限界~boxにも寄与しない。
【したがって，そのような要素の子孫も要素の限界~boxには寄与しなくなるので、 “要素が描画されたとするとき” は “要素の子孫を除く要素のみが描画されたとするとき” を意味することになる。】
◎
Even if an element is not in the rendering tree – due to it being 'display: none', within a ‘defs’ element, not usually rendered like a ‘symbol’ element or not currently present in the document tree – it still has a bounding box. A call to getBBox on the element will return the same rectangle as if the element were rendered. However, an element that is not in the rendering tree does not contribute to the bounding box of any ancestor element.
</p>

<div class="example">
<p>
次の例は、いくつかの要素を定義する。
~IDを伴う各~要素~用に期待される`~obj限界~box$を下に示す。
◎
The following example defines a number of elements. The expected object bounding box for each element with an ID is shown below.
</p>

<pre class="lang-xml">
&lt;svg xmlns="http://www.w3.org/2000/svg"&gt;

  &lt;title&gt;Bounding Box Calculation&lt;/title&gt;
  &lt;desc&gt;<span class="comment">
要素の限界~boxが、
文脈に応じて異なる結果になる例。
◎
Examples of elements with different bounding box results based on context.
</span>&lt;/desc&gt;

  &lt;defs id="defs-1"&gt;
     &lt;rect id="rect-1" x="20" y="20" width="40" height="40" fill="blue" /&gt;
  &lt;/defs&gt;

  &lt;g id="group-1"&gt;
    &lt;use id="use-1" href="#rect-1" x="10" y="10" /&gt;

    &lt;g id="group-2" display="none"&gt;
      &lt;rect id="rect-2" x="10" y="10" width="100" height="100" fill="red" /&gt;
    &lt;/g&gt;
  &lt;/g&gt;
&lt;/svg&gt;
</pre>

<table><thead>
<tr><th>
要素~ID
◎
Element ID
<th>
結果の限界~box
◎
Bounding Box Result
<tbody>

<tr><td>`defs-1^l
<td>{0, 0, 0, 0}

<tr><td>`rect-1^l
<td>{20, 20, 40, 40}

<tr><td>`group-1^l
<td>{30, 30, 40, 40}

<tr><td>`use-1^l
<td>{30, 30, 40, 40}

<tr><td>`group-2^l
<td>{10, 10, 100, 100}

<tr><td>`rect-2^l
<td>{10, 10, 100, 100}
</table>
</div>

<p>
`~text内容~要素$用の限界~boxを計算する目的においては、
各~glyphは，別々な~graphics要素として扱うモノトスル
— すべての~glyphは`全部的~glyph~cell$を占めると見做す下で。
`全部的~glyph~cell@
の~sizeは、次のようになるモノトスル：
◎
For text content elements, for the purposes of the bounding box calculation, each glyph must be treated as a separate graphics element. The calculations must assume that all glyphs occupy the full glyph cell.＼
</p>

<ul>
	<li>
横書き~text用には、
横幅は横方向の送幅に等しく，縦幅は~EM~boxのそれに等しい。
◎
The full glyph cell must have width equal to the horizontal advance and height equal to the EM box for horizontal text.＼
</li>
	<li>
側転に植字される縦書き~text用には、
横幅は~EM~boxに等しく，縦幅は【横書きで描画されたときの】横方向の送幅に等しい。
◎
For vertical text that is typeset sideways, the full glyph cell must have width equal to the EM box and height equal to the horizontal advance.＼
</li>
	<li>
他の縦書き~text用には、
横幅は~EM~boxに等しく，縦幅は［
~font用に縦方向の送幅は定義されているならば その送幅 ／
~ELSE_ ~EM~boxの縦幅
］に等しい。
◎
For other vertical text, the full glyph cell must have width equal to the EM box and height equal to the vertical advance, or height equal to the height of the EM box if no vertical advance is defined in the font.＼
</li>
</ul>

<p>
例えば，横書き~text用の計算では、
各~glyphは［
縦方向には、~font用の~ascentから~descentまで全部的に占める
］と見做すモノトスル。
◎
For example, for horizontal text, the calculations must assume that each glyph extends vertically to the full ascent and descent values for the font.
</p>

<p>
<!-- Because declarative or scripted  -->
要素の［
図形, ~size, 位置
］は，~animationにより変化し得るので、限界~boxは変異-可能である。
したがって，要素~用の限界~boxは、
限界~boxが
— ~script~call, ［
宣言的／~link法
］構文の一部として，などにより —
要請された時点のそれを反映するモノトスル。
◎
Because declarative or scripted animation can change the shape, size, and position of an element, the bounding box is mutable. Thus, the bounding box for an element shall reflect the current values for the element at the snapshot in time at which the bounding box is requested, whether through a script call or as part of a declarative or linking syntax.
</p>

<p>
要素の横幅や縦幅が 0 であっても
（水平または垂直な線や `width$p または `height$p が 0 にされた `rect$e 要素など）、
限界~boxはある
— ~size 0 にされた寸法は，そのまま 0 にされて。
同様に、 `path$e 要素の下位path区分が［
横幅, 縦幅
］とも 0 であっても，その要素の限界~box用の幾何に含めるモノトスル。
◎
An element which has zero width, zero height, or both (such as a vertical or horizontal line, or a ‘rect’ element with a zero width or height) still has a bounding box, with a positive value for the positive dimension, or with '0' for both the width and height if no positive dimension is specified. Similarly, subpaths segments of a ‘path’ element with zero width and height must be included in that element's geometry for the sake of the bounding box.
</p>

<p>
位置が指定されていない要素
（ `path$e 要素のうち `d$p ~propが `none^v にされたものなど）は、
限界~boxを計算する目的においては，点 ( 0,0 ) に位置される。
◎
An element with no position specified (such as a ‘path’ element with a value of none for the d property) is positioned at the point (0,0) for the purposes of calculating a bounding box.
</p>

<p>
`SVGGraphicsElement$I ~objでない~DOM要素（~gradient要素など）には、
限界~boxは無いので，限界~boxを要請する~interfaceも無いことに注意。
◎
Note that elements whose DOM object does not derive from SVGGraphicsElement (such as gradient elements) do not have a bounding box, and thus have no interface to request a bounding box.
</p>

<p>
`描画~tree$内にある要素は、
未解決な資源を参照するものであっても，その限界~boxは［
要素の属性に指定された位置と寸法，あるいは属性が給されてなければ その属性~用の`初期~値$
］により定義されるモノトスル。
例えば，要素
`&lt;use href="#存在しないID" x="10" y="10"/&gt;^c
の限界~boxは、
( x, y ) は ( 10, 10 ),
( 横幅, 縦幅 ) は ( 0, 0 ) になる。
◎
Elements in the rendering tree which reference unresolved resources shall still have a bounding box, defined by the position and dimensions specified in their attributes, or by the initial value for those attributes if no values are supplied. For example, the element &lt;use href="#bad" x="10" y="10"/&gt; would have a bounding box with an x and y of 10 and a width and height of 0.
</p>

<p>
次の~algoは、
所与の要素~用の`限界~boxを算出する$方法を定義する。
この~algoに対する入力は：
◎
The following algorithm defines how to compute a bounding box for a given element. The inputs to the algorithm are:
</p>

<ul>
	<li>
%要素
— 限界~boxを算出している要素
◎
element, the element we are computing a bounding box for;
</li>
	<li>
%座標~空間
— 限界~boxは、
この座標~空間~内で算出されることになる
◎
space, a coordinate space in which the bounding box will be computed;
</li>
	<li>
%fill
— 限界~boxは %要素, その子孫の幾何を含むかどうかを指示する真偽値
◎
fill, a boolean indicating whether the bounding box includes the geometry of the element and its descendants;
</li>
	<li>
%stroke
— 限界~boxは %要素, その子孫の~strokeを含むかどうかを指示する真偽値
◎
stroke, a boolean indicating whether the bounding box includes the stroke of the element and its descendants;
</li>
	<li>
%markers
— 限界~boxは %要素, その子孫の~markerを含むかどうかを指示する真偽値
◎
markers, a boolean indicating whether the bounding box includes the markers of the element and its descendants; and
</li>
	<li>
%clipped
— 限界~boxは %要素, その子孫のに適用された切抜き~pathに影響されるかどうかを指示する真偽値。
◎
clipped, a boolean indicating whether the bounding box is affected by any clipping paths applied to the element and its descendants.
</li>
</ul>

<p>
`限界~boxを算出する@
~algoは、
%要素 の型に応じて，次に従う：
◎
The algorithm to compute the bounding box is as follows, depending on the type of element:
</p>

<dl class="switch">
	<dt>
`図形~要素$
◎
a shape
</dt>
	<dt>
`~text内容~要素$
◎
a text content element
</dt>
	<dt>
`~text内容~要素$の中の `a$e 要素
◎
an ‘a’ element within a text content element
</dt>
	<dd>
		<ol>
			<li>
%図形~集合 ~LET 空~集合
◎
↓</li>
			<li>
<p>
~IF［
%fill ~EQ ~T
］
⇒
%図形~集合 に［
次に与える図形 を %座標~空間 に換算した結果
］を追加する
⇒＃
%要素 は`図形~要素$ならば %要素 に`等価な~path$ ／
~ELSE_ %要素 の中の~textに対応している 各~glyph~cellをすべて含む図形
◎
Let box be a rectangle initialized to (0, 0, 0, 0).
◎
Let fill-shape be the equivalent path of element if it is a shape, or a shape that includes each of the glyph cells corresponding to the text within the elements otherwise.
◎
If fill is true, then set box to the tightest rectangle in the coordinate system space that contains fill-shape.
</p>

<p class="note">注記：
`fill$p ／ `fill-opacity$p ／ `fill-rule$p
~propの値は %~fill図形 には影響しない。
◎
The values of the fill, fill-opacity and fill-rule properties do not affect fill-shape.
</p>
			</li>
			<li>
<p>
~IF［
%stroke ~EQ ~T
］~AND［
%要素 の `stroke$p の値 ~NEQ `none^v
］
⇒
%図形~集合 に［
%要素 の`~stroke図形$を %座標~空間 に換算した結果
］を追加する
— %要素 には~dash~patternは無いと見做す下で
◎
If stroke is true and the element's stroke is anything other than none, then set box to be the union of box and the tightest rectangle in coordinate system space that contains the stroke shape of the element, with the assumption that the element has no dash pattern.
</p>

<p class="note">注記：
［
`stroke-opacity$p ／  `stroke-dasharray$p ／ `stroke-dashoffset$p
］の値は、
~stroke図形の計算には影響しない。
◎
The values of the stroke-opacity, stroke-dasharray and stroke-dashoffset do not affect the calculation of the stroke shape.
</p>
			</li>
			<li>
<p>
~IF［
%markers ~EQ ~T
］：
◎
If markers is true, then＼
</p>
				<ol>
					<li>
<p>
%要素 上に描画された
~EACH( %marker )
に対し：
◎
for each marker marker rendered on the element:
</p>
						<ol>
							<li>
%~marker要素 ~LET %marker を定義する `marker$e 要素
◎
↓</li>
							<li>
<p>
%~marker要素 の
~EACH( 子孫 %子孫 )
に対し：
◎
For each descendant graphics element child of the ‘marker’ element that defines marker's content:
</p>
								<ol>
									<li>
<p>
~IF［
~AND↓
］…
</p>
										<ul>
											<li>
%marker の内容を定義する`~graphics要素$である
</li>
											<li>
~AND↓ を満たす要素は無い
⇒
%~marker要素 の子孫である,
%子孫 の先祖である,
`display^p は `none^v をとる
</li>
											<li>
%子孫 は `条件付き処理~属性$により除外されていない
</li>
											<li>
%子孫 は［
`a$e ／ `g$e ／ `svg$e ／ `switch$e
］要素である
</li>
										</ul>
<p>
…ならば
⇒
%図形~集合 に次の結果を追加する
⇒
`限界~boxを算出する$( %子孫, %座標~空間, ~T, %stroke, %markers, %clipped )
</p>
◎
If child has an ancestor element within the ‘marker’ that is 'display: none', has a failing conditional processing attribute, or is not an ‘a’, ‘g’, ‘svg’ or ‘switch’ element, then continue to the next descendant graphics element.
◎
Otherwise, set box to be the union of box and the result of invoking the algorithm to compute a bounding box with child as the element, space as the target coordinate space, true for fill, stroke and markers, and clipped for clipped.
</li>
								</ol>
							</li>
						</ol>
					</li>
				</ol>
			</li>
			<li>
%~box ~LET ［
%図形~集合 は空でないならば
%図形~集合 を成すすべての図形の和領域を包含する最も狭い矩形 ／
~ELSE_ 矩形( 0, 0, 0, 0 )
］
◎
↑</li>
			<li>
<p>
~IF［
%clipped ~EQ ~T
］~AND［
%要素 上の `clip-path$p の値 ~NEQ `none^v
］
⇒
%~box ~SET
%~box と［
切抜き~pathを %座標~空間 に換算した結果
］との交差域を包含する最も狭い矩形
</p>
【交差域が無い場合にどうなるのかは、述べられていない。】
【元の図形と切抜き~pathの交差域は空になる場合でも、 %~box は面積 0 にならない場合がある。】

◎
If clipped is true and the value of clip-path on element is not none, then set box to be the tightest rectangle in coordinate system space that contains the intersection of box and the clipping path.
</li>
			<li>
~RET %~box
◎
Return box.
</li>
		</ol>
	</dd>
	<dt id="ContainerElementBoudingBoxComputation">
`容器~要素$
◎
a container element
</dt>
	<dt>`use$e</dt>
	<dd>
		<ol>
			<li>
%~box ~LET ( 0, 0, 0, 0 ) に初期化された矩形
◎
Let box be a rectangle initialized to (0, 0, 0, 0).
</li>
			<li>
%parent ~LET %要素 に応じて
⇒
`容器~要素$ならば %要素 ／
`use$e 要素ならば `~use要素の~shadow~tree$の根
◎
Let parent be the container element if it is one, or the root of the ‘use’ element's shadow tree otherwise.
</li>
			<li>
<p>
%parent の
~EACH( 子孫 %子孫 )
に対し：
◎
For each descendant graphics element child of parent:
</p>
				<ol>
					<li>
~IF［
%子孫 は`~graphics要素$でない
］~OR［
%子孫 は`描画されて＠~SVGrender#Rendered-vs-NonRendered$いない
］
⇒
~CONTINUE
◎
If child is not rendered then continue to the next descendant graphics element.
</li>
					<li>
%~box ~SET %~box と次の結果との和領域
⇒
`限界~boxを算出する$( %子孫, %座標~空間, %fill, %stroke, %markers, %clipped )
◎
Otherwise, set box to be the union of box and the result of invoking the algorithm to compute a bounding box with child as the element and the same values for space, fill, stroke, markers and clipped as the corresponding algorithm input values.
</li>
				</ol>
			</li>
			<li>
<p>
~IF［
%clipped ~EQ ~T
］：
◎
If clipped is true:
</p>
				<ul>
					<li>
~IF［
%要素 上の `clip-path$p ~propの値 ~NEQ `none^v
］
⇒
%~box ~SET %~box と［
`clip-path$p に指定された切抜き~pathを %座標~空間 に換算した結果
］との交差域を包含する最も狭い矩形
◎
If the value of clip-path on element is not none, then set box to be the tightest rectangle in coordinate system space that contains the intersection of box and the clipping path.
</li>
					<li>
~IF［
%要素 は `overflow$p ~propの適用-対象である
］~AND［
%要素 の `overflow$p ~propの値 ~NEQ `visible^v
］
⇒
%~box ~SET %~box と［
%要素 の~overflow限界域を %座標~空間 に換算した結果
］との交差域を包含する最も狭い矩形
◎
If the overflow property applies to the element and does not have a value of visible, then set box to be the tightest rectangle in coordinate system space that contains the intersection of box and the element's overflow bounds.
</li>
					<li>
~IF［
%要素 は `clip$p ~propの適用-対象である
］~AND［
%要素 の `clip$p ~propの値 ~NEQ `auto^v
］
⇒
%~box ~SET %~box と［
`clip$p に指定された矩形を %座標~空間 に換算した結果
］との交差域を包含する最も狭い矩形
◎
If the clip property applies to the element and does not have a value of auto, then set box to be the tightest rectangle in coordinate system space that contains the intersection of box and the rectangle specified by clip.
</li>
				</ul>
【原文は順序付き~listとして~mark-upされていないが、順序も有意になり得る。】

			</li>
			<li>
~RET %~box
◎
Return box.
</li>
		</ol>
	</dd>

	<dt>`foreignObject$e</dt>
	<dt>`image$e</dt>
	<dd>
		<ol>
			<li>
<p>
%~box ~LET ［
要素の［
`x^a, `y^a, `width^a, `height^a
］幾何-~propで定義される`位置決め矩形$を %座標~空間 に換算した結果
］を包含する最も狭い矩形
◎
Let box be the tightest rectangle in coordinate space space that contains the positioning rectangle defined by the ‘x’, ‘y’, ‘width’ and ‘height’ geometric properties of the element.
</p>

<p class="note">注記：
引数 %fill, %stroke, %markers は、
この~algoがこれらの要素~用に返す限界~boxには影響しない。
◎
The fill, stroke and markers input arguments to this algorithm do not affect the bounding box returned for these elements.
</p>
			</li>
			<li>
~IF［
%clipped ~EQ ~T
］~AND［
%要素 上の `clip-path$p の値 ~NEQ `none^v
］
⇒
%~box ~SET %~box と［
切抜き~pathを %座標~空間 に換算した結果
］との交差域を包含する最も狭い矩形
◎
If clipped is true and the value of clip-path on element is not none, then set box to be the tightest rectangle in coordinate system space that contains the intersection of box and the clipping path.
</li>
<!--
<li>If <var>clipped</var> is true and the value of <a>'overflow'</a> on <var>element</var> is not
<span class='prop-value'>visible</span>, then set <var>box</var> to be the tightest rectangle
in coordinate system <var>space</var> that contains the intersection of <var>box</var> and the element's <a>positioning rectangle</a>.</li>
 -->
			<li>
~RET %~box を包含する最も狭い矩形
◎
Return box.
</li>
		</ol>
	</dd>
</dl>

<p>
矩形( 0, 0, 0, 0 ) と空~図形との和領域は矩形( 0, 0, 0, 0 ) になる。
◎
The union box with a value of (0, 0, 0, 0) and an empty shape is box.
</p>

<div class="p">
<p>
%要素 の［
`~obj限界~box$ ／
`~stroke限界~box$ ／
`装飾d限界~box$
］は、次の結果を返す：
</p>

<ol>
	<li>
%stroke ~LET ［［
`~stroke限界~box$ ／ `装飾d限界~box$
］に対しては ~T ／
~ELSE_ ~F
］
</li>
	<li>
%markers ~LET ［
`装飾d限界~box$に対しては ~T ／
~ELSE_ ~F
］
</li>
	<li>
~RET `限界~boxを算出する$( %要素, %要素 の`利用元~座標系$, ~T, %stroke, %markers, ~F )
</li>
</ol>
◎
The object bounding box, stroke bounding box or decorated bounding box of an element is the result of invoking the bounding box computation algorithm above with the following arguments: element is the element itself; space is the element's user coordinate system; fill is true; stroke is true if we are computing the stroke bounding box or decorated bounding box, and false otherwise; markers is true if we are computing the decorated bounding box, and false otherwise; and clipped is false.
</div>

	</section>
	<section id="ObjectBoundingBoxUnits">
<h2 title="Object bounding box units">8.11. ~obj限界~box単位</h2>

<p id="ObjectBoundingBox">
次の表tの 1 列目に挙げる要素は、
座標~値と長さを
`~obj限界~box$の割合分として（および, 一部の事例では百分率として）表出する~optionを提供する
— 要素~上で［
同じ行の 2 列目に与える属性
］を `objectBoundingBox^v に設定することにより：
◎
The following elements offer the option of expressing coordinate values and lengths as fractions (and, in some cases, percentages) of the object bounding box, by setting a specified attribute to 'objectBoundingBox' on the given element:
</p>

<table><thead>
<tr><th>要素
<th>属性
<th>効果
— 以下における， “適用-先の要素” は、
所与の効果が適用される要素を指す
<tbody>

<tr><td>`linearGradient$e
<td>`gradientUnits$a
<td>
~gradient~vectorを指定する属性（
`x1$a, `y1$a, `x2$a, `y2$a
）は、
~gradientの適用-先の要素の限界~boxの［
割合分／百分率
］を表現することを指示する。
◎
Indicates that the attributes which specify the gradient vector (‘x1’, ‘y1’, ‘x2’, ‘y2’) represent fractions or percentages of the bounding box of the element to which the gradient is applied.

<tr><td>`radialGradient$e
<td>`gradientUnits＠~SVGpservers#RadialGradientElementGradientUnitsAttribute$a
<td>
中心（ `cx$a, `cy$a ),
半径（ `r$a ）,
焦点（ `fx$a, `fy$a ）
を指定する属性は、
~gradientの適用-先の要素の限界~boxの［
割合分／百分率
］を表現することを指示する。
◎
Indicates that the attributes which specify the center (‘cx’, ‘cy’), the radius (‘r’) and focus (‘fx’, ‘fy’) represent fractions or percentages of the bounding box of the element to which the gradient is applied.

<tr><td>`pattern$e
<td>`patternUnits$a
<td>
~patternを敷詰める方法を定義する属性（
`x$a, `y$a, `width$a, `height$a
）は、
~patternの適用-先の要素の限界~boxを利用して確立されることを指示する。
◎
Indicates that the attributes which define how to tile the pattern (‘x’, ‘y’, ‘width’, ‘height’) are established using the bounding box of the element to which the pattern is applied.

<tr><td>`pattern$e
<td>`patternContentUnits$a
<td>
~pattern内容~用の利用元~座標系は、
~patternの適用-先の要素の限界~boxを利用して確立されることを指示する。
◎
Indicates that the user coordinate system for the contents of the pattern is established using the bounding box of the element to which the pattern is applied.

<tr><td>`clipPath$e
<td>`clipPathUnits$a
<td>
`clipPath$e 要素の内容~用の利用元~座標系は、
切抜き~pathの適用-先の要素の限界~boxを利用して確立されることを指示する。
◎
Indicates that the user coordinate system for the contents of the ‘clipPath’ element is established using the bounding box of the element to which the clipping path is applied.

<tr><td>`mask$e
<td>`maskUnits$aM
<td>
~masking領域を定義する属性
（ `x$aM, `y$aM, `width$aM, `height$aM ）
は、~maskの適用-先の要素の限界~boxを利用して確立されることを指示する。
◎
Indicates that the attributes which define the masking region (‘x’, ‘y’, ‘width’, ‘height’) is established using the bounding box of the element to which the mask is applied.

<tr><td>`mask$e
<td>`maskContentUnits$aM
<td>
`mask$e 要素の内容~用の利用元~座標系は、
~maskの適用-先の要素の限界~boxを利用して確立されることを指示する。
◎
Indicates that the user coordinate system for the contents of the ‘mask’ element are established using the bounding box of the element to which the mask is applied.

<tr><td>`filter$e
<td>`filterUnits$aF
<td>
`~filter効果~領域＠~FILTERS#FilterPrimitiveSubRegion$を定義する属性
（ `x$aF, `y$aF, `width$aF, `height$aF ）は、
~filterの適用-先の要素の限界~boxの［
割合分／百分率
］を表現することを指示する。
◎
Indicates that the attributes which define the filter effects region (‘x’, ‘y’, ‘width’, ‘height’) represent fractions or percentages of the bounding box of the element to which the filter is applied.

<tr><td>`filter$e
<td>`primitiveUnits$aF
<td>
原始filterの中の様々な長さ値は、
~filterの適用-先の要素の限界~boxの［
割合分／百分率
］を表現することを指示する。
◎
Indicates that the various length values within the filter primitives represent fractions or percentages of the bounding box of the element to which the filter is applied.
</table>

<p>
［
~gradient／~pattern
］用の適用-先の要素は、その［
~gradient／~pattern
］を［
`fill$p または `stroke$p
］~propにより参照している`~graphics要素$が該当する（
`~text要素＠~SVGtext$を~~対象にする特別な規則については、
`§ ~obj限界~box単位と~text要素＠~SVGtext#ObjectBoundingBoxUnitsTextObjects$の論点を見よ）。
［
切抜き~path ／ ~mask ／ ~filter
］用の適用-先の要素は、［
`容器~要素$, `~graphics要素$
］のどちらも該当し得る。
◎
In the discussion that follows, the term applicable element is the element to which the given effect applies. For gradients and patterns, the applicable element is the graphics element which has its fill or stroke property referencing the given gradient or pattern. (For special rules concerning text elements, see the discussion of object bounding box units and text elements.) For clipping paths, masks and filters, the applicable element can be either a container element or a graphics element.
</p>

<p>
~keyword `objectBoundingBox^v が利用されたときの効果は、［
入子な変形n行列の~list
］に［
新たな利用元~座標系を作成する，補足的な変形n行列
］が挿入されたかのようになる：
◎
When keyword objectBoundingBox is used, then the effect is as if a supplemental transformation matrix were inserted into the list of nested transformation matrices to create a new user coordinate system.
</p>

<ul>
	<li>
新たな利用元~座標系~内の座標［
( 0, 0 ) ／ ( 1,1 )
］は、
適用-先の要素の`~obj限界~box$の［
( 最小~X値, 最小~Y値 ) ／ ( 最大~X値, 最大~Y値 )
］に対応付けられる。
◎
First, the (minx,miny) and (maxx,maxy) coordinates are determined by the extends of the object bounding box of the applicable element.
◎
Then, coordinate (0,0) in the new user coordinate system is mapped to the (minx,miny) corner of the tight bounding box within the user coordinate system of the applicable element and coordinate (1,1) in the new user coordinate system is mapped to the (maxx,maxy) corner of the tight bounding box of the applicable element.＼
</li>
	<li>
ほとんどの状況においては、
次の変形n行列が正しい効果を生産する
⇒
[ ( 最大~X値 ~MINUS 最小~X値 ) 0 0 ( 最大~Y値 ~MINUS 最小~Y値 ) ( 最小~X値 ) ( 最小~Y値 ) ]
◎
In most situations, the following transformation matrix produces the correct effect:
• [ (maxx-minx) 0 0 (maxy-miny) minx miny ]
</li>
</ul>

<p>
［
~gradient~vector／~pattern~tile／~filter領域／~masking領域
］を定義する属性に利用された百分率は、
対応する割合分（~~比率）と同じ値を表現する
（例： `50%^v は `0.5^v と同じを意味する）。
［
`pattern$e ／ `clipPath$e ／ `mask$e ／ `filter$e
］要素の内容に利用された百分率は、［
`単位$secにて定義した，百分率~用の処理~規則
］に則って扱われる。
◎
When percentages are used with attributes that define the gradient vector, the pattern tile, the filter region or the masking region, a percentage represents the same value as the corresponding decimal value (e.g., 50% means the same as 0.5). If percentages are used within the content of a ‘pattern’, ‘clipPath’, ‘mask’ or ‘filter’ element, these values are treated according to the processing rules for percentages as defined in Units.
</p>

<p>
~obj限界~box単位の［
割合分／百分率
］として表出される値~用には、
どの数量-値も指定できる。
特に，［
0 〜 1 に入らない割合分／
0% 〜 100% に入らない百分率
］も指定できる。
◎
Any numeric value can be specified for values expressed as a fraction or percentage of object bounding box units. In particular, fractions less than zero or greater than one and percentages less than 0% or greater than 100% can be specified.
</p>

<p>
~keyword `objectBoundingBox^v は、
適用-先の要素の幾何が［
横幅, 縦幅
］どちらかが 0 の場合には，利用されるベキでない
— 水平または垂直な線の事例など。
~stroke幅が 0 でないことに因り，そのような線が太さがあるように見えようが、
~stroke幅は限界~boxの計算では無視されるので。
そのような適用-先の要素に `objectBoundingBox^v を指定された場合、
所与の効果（例：~gradientや~filter）は，無視されることになる。
◎
Keyword objectBoundingBox should not be used when the geometry of the applicable element has no width or no height, such as the case of a horizontal or vertical line, even when the line has actual thickness when viewed due to having a non-zero stroke width since stroke width is ignored for bounding box calculations. When the geometry of the applicable element has no width or height and objectBoundingBox is specified, then the given effect (e.g., a gradient or a filter) will be ignored.
</p>

	</section>
	<section id="SizingSVGInCSS">
<h2 title="Intrinsic sizing properties of SVG content">8.12. ~SVG内容の生来な~sizing~prop</h2>

<p>
~CSSで整形された~host文書に~SVGが内包される所では、
その`具象-~obj~size$を，`既定の~sizing~algo$ `css-images-3$r を利用して計算するモノトスル
— 次の入力を与える下で：
◎
To enable inclusion of SVG in host documents formatted with CSS, a concrete object size must be calculated. The concrete object size must be calculated using the Default Sizing Algorithm defined in CSS Images 3 [css-images-3], with the following inputs:
</p>

<ul>
	<li>
以下における［
%横幅 ／ %縦幅
］は、内包される `svg$e 要素~上の［
`width$p ／ `height$p
］~sizing~prop用の使用~値を表すとする。
指定されてない［
`width$p ／ `height$p
］の使用~値は、
初期~値 `auto^v になる。
◎
↓</li>
	<li>
`指定d~size$は、［
%横幅, %縦幅
］から決定するモノトスル。
◎
The specified size must be determined from the used values for the width and height sizing properties of the ‘svg’ element.
</li>
	<li>
<p>
`生来な寸法$も、［
%横幅, %縦幅
］から決定するモノトスル。
`生来な寸法$の［
横幅／縦幅
］を決定するときには、［
`auto^v ／ 百分率~長さ
］は利用してはナラナイ
【既定の~sizing~algoにおいて、無いものと扱う】
。
◎
The intrinsic dimensions must also be determined from the width and height sizing properties. If either width or height are not specified, the used value is the initial value 'auto'. 'auto' and percentage lengths must not be used to determine an intrinsic width or intrinsic height.
</p>

<p class="note">注記：
~bitmap画像~形式に対しては
— `生来な寸法$は画像~file内に元々あるので —
指定d~sizeは，画像を拡縮する必要に応じて~host文書~内で定義される。
内来的に拡縮-可能である~SVGは、
`生来な寸法$を`指定d~size$から転用する。
したがって， `svg$e 要素の［
`width$p ／ `height$p
］~sizing~propに指定された長さは、［
`生来な寸法$, `指定d~size$
］とも制御し，~host文書~内に~SVG画像を配置するときに利用される。
◎
With bitmap image formats, the intrinsic dimensions are fixed in the image file, and the specified size is defined in the host document as needed to scale the image. SVG, being inherently scalable, adapts the intrinsic width and intrinsic height to be the width and height of the specified size. Therefore, when specified as a length, the width and height sizing properties of the ‘svg’ element control the intrinsic dimensions of the SVG image and the specified size that is used when placing the SVG image in a host document.
</p>
	</li>
	<li>
<p>
`生来な縦横比$は、
次の~algoを利用して計算するモノトスル
— 結果が ~NULL の場合、
生来な縦横比は無い：
◎
The intrinsic aspect ratio must be calculated using the following algorithm. If the algorithm returns null, then there is no intrinsic aspect ratio.
</p>

		<ol>
			<li>
~IF［［
%横幅, %縦幅
］とも絶対的【確定的】な値である
］
⇒
~RET %横幅 ~DIV %縦幅
◎
If the width and height sizing properties on the ‘svg’ element are both absolute values:
• return width / height
</li>
			<li>
~IF［
`~SVG~view＠~SVGlinking#LinksIntoSVG$が作動中である
］
⇒
~RET 作動中な~SVG~viewにより定義される~viewboxの ( 横幅 ~DIV 縦幅 )
◎
If an SVG View is active:
• let viewbox be the viewbox defined by the active SVG View
• return viewbox.width / viewbox.height
</li>
			<li>
~IF［
`svg$e 要素~上に `viewBox$a 属性は正しく指定されている
］
⇒
要素の`~viewbox$の ( 横幅 ~DIV 縦幅 )
◎
If the ‘viewBox’ on the ‘svg’ element is correctly specified:
• let viewbox be the viewbox defined by the ‘viewBox’ attribute on the ‘svg’ element
• return viewbox.width / viewbox.height
</li>
			<li>
~RET ~NULL
◎
return null
</li>
		</ol>
	</li>
	<li class="trans-note">【
既定の~sizing~algoは，`既定の~obj~size$も入力にとるが、
ここには言及されていない。
】</li>

</ul>

<p>
この節に定義する挙動は，~CSSに特有であるが、
他の~host文脈にも転用されてヨイ。
どの~host文脈も、
`~SVG表示域$を~sizeするときは，`生来な縦横比$を
— それが可用な所では —
尊重するモノトスル。
◎
The behaviour defined in this section is specific to CSS, but may be adapted to other host contexts. In all host contexts, the intrinsic aspect ratio, where available, must be respected when sizing the SVG viewport.
</p>

<div class="example">
<p>
例： `Intrinsic Aspect Ratio 1^xl
◎
Examples:
◎
Example: Intrinsic Aspect Ratio 1
</p>

<pre class="lang-xml">
&lt;svg xmlns="http://www.w3.org/2000/svg"
     width="10cm" height="5cm"&gt;
  ...
&lt;/svg&gt;
</pre>

<p>
この例では、
`~SVG表示域$の`生来な寸法$を成す［
縦横比は 2:1,
横幅は 10cm,
縦幅は 5cm
］になる。
◎
In this example the intrinsic aspect ratio of the SVG viewport is 2:1. The intrinsic width is 10cm and the intrinsic height is 5cm.
</p>
</div>

<div class="example">
<p>
例 `Intrinsic Aspect Ratio 2^xl
◎
Example: Intrinsic Aspect Ratio 2
</p>

<pre class="lang-xml">
&lt;svg xmlns="http://www.w3.org/2000/svg"
     width="100%" height="50%" viewBox="0 0 200 200"&gt;
  ...
&lt;/svg&gt;
</pre>

<p>
この例では、
最外縁の`~SVG表示域$の生来な縦横比は 1:1 になる。
この事例における縦横比の計算は、［
1 方向のみに拘束される~objを包含塊の中に埋込む
］ことを許容する。
◎
In this example the intrinsic aspect ratio of the outermost SVG viewport is 1:1. An aspect ratio calculation in this case allows embedding in an object within a containing block that is only constrained in one direction.
</p>
</div>

<div class="example">
<p>
例： `Intrinsic Aspect Ratio 3^xl
◎
Example: Intrinsic Aspect Ratio 3
</p>

<pre class="lang-xml">
&lt;svg xmlns="http://www.w3.org/2000/svg"
     width="10cm" viewBox="0 0 200 200"&gt;
  ...
&lt;/svg&gt;
</pre>

<p>
この事例では、
生来な縦横比は  1:1 になる。
◎
In this case the intrinsic aspect ratio is 1:1.
</p>
</div>

<div class="example">
<p>
例： `Intrinsic Aspect Ratio 4^xl
◎
Example: Intrinsic Aspect Ratio 4
</p>

<pre class="lang-xml">
&lt;svg xmlns="http://www.w3.org/2000/svg"
     width="75%" height="10cm" viewBox="0 0 200 200"&gt;
  ...
&lt;/svg&gt;
</pre>

<p>
この例では、
生来な縦横比は 1:1 になる。
◎
In this example, the intrinsic aspect ratio is 1:1.
</p>
</div>

<p class="issue">
新たな `auto^v 値~用にもっと例を追加するか？
例：
`David Vest^en 氏が供された
`いくつかの例＠https://docs.google.com/presentation/d/1POUiroOBbLmXYlQKf0pIR8zVkHWH9jRVN-w8A4aNsIk/$
など。
◎
Add more examples for the new auto value? E.g. some of the examples provided by David Vest.
</p>

	</section>
	<section id="VectorEffects">
<h2 title="Vector effects">8.13. ~vector効果</h2>

<div class="annotation svg2-requirement">
<p>
~SVG-2 要件:
~SVG-2は SVG 1.2 Tiny に基づく拘束付きの変形nを備える
（`~~参照先＠https://www.w3.org/Graphics/SVG/WG/wiki/SVG2_Requirements_Input#Constrained_Transformations$）。
◎
SVG 2 Requirement: SVG 2 will have constrained transformations based on SVG 1.2 Tiny.
</p>

<ul>
	<li>
解決:
~SVG 2仕様に~vector効果~拡張~提案を追加する
（`~~参照先＠https://www.w3.org/2014/04/09-svg-minutes.html#item06$）。
◎
Resolution: Add vector effects extension proposal to SVG 2 specification.
</li>
	<li>
目的：
~non-scaling特能を含める（~objの~non-scaling部分, ~non-scaling~obj全体）
◎
Purpose: To include non-scaling features (non-scaling part of the object, and non-scaling entire object
</li>
	<li>
`Owner: Satoru Takagi^en ( `3619$ACTION )
</li>
</ul>
</div>

<p>
ときには、~objに変形が適用されようが，~objの［
外形線の横幅を保つ ／ 元の位置を固定する
］ことが関心事になる。
例えば、ある地図において 2px 幅の線は道路を表現していて，利用者が地図の中へ~zoomしたときも道路の 2px 幅を保つことや、
~graphic図表~上の紹介文~内で【他は動かさずに】~panするのをアリにすることなど。
◎
Sometimes it is of interest to let the outline of an object keep its original width or to let the position of an object fix no matter which transforms are applied to it. For example, in a map with a 2px wide line representing roads it is of interest to keep the roads 2px wide even when the user zooms into the map, or introductory notes on the graphic chart in which panning is possible.
</p>

<p>
そのような効果を［
特別な座標~変形nと, ~graphic絵図
］に関して提供するため、
SVG Tiny 1.2 は `vector-effect$p ~propを導入した。
SVG Tiny 1.2 は `non-scaling-stroke^v の挙動のみを導入したが、
この~versionでは，いくつかの効果も追加的に導入する。
さらには、これらの効果は組合nでも指定できるので，より多様な効果を示す。
~SVG言語の将来~versionは、
この~propを通して，より強力な~vector効果を許容することになる。
◎
To offer such effects regarding special coordinate transformations and graphic drawings, SVG Tiny 1.2 introduced the vector-effect property. Although SVG Tiny 1.2 introduced only non-scaling stroke behavior, this version introduces a number of additional effects. Furthermore, since these effects can be specified in combination, they show more various effects. And, future versions of the SVG language will allow for more powerful vector effects through this property.
</p>

<p class="issue">
`vector-effect$p 用の［
`non-scaling-stroke^v, `none^v
］以外の値は、
実装の欠如に因り~SVG-2から落とされる~risk下にある。
それらを現在~指定されるものとして実装するときの実用性に関して，実装~期間にて実装者からの~feedbackが要請される。
◎
Values of vector-effect other than non-scaling-stroke and none are at risk of being dropped from SVG 2 due to a lack of implementations. Feedback from implementers is requested, regarding the practicality of implementing them as currently specified, during the implementation period.
</p>

<div>
◎名 `vector-effect@p
◎値 `none^v | `non-scaling-stroke^v | [ `non-scaling-size^v || `non-rotation^v || `fixed-position^v ]
◎初 `none^v
◎適 `~graphics要素$, `use$e 要素
◎継 されない
◎百 受容しない
◎算 指定されたとおり
◎ア 離散的
◎表終
◎
Name: 	vector-effect
Value: 	none | non-scaling-stroke | non-scaling-size | non-rotation | fixed-position
Initial: 	none
Applies to: 	graphics elements and ‘use’
Inherited: 	no
Percentages: 	N/A
Media: 	visual
Computed value: 	as specified
Animation type: 	discrete
</div>

<p class="trans-note">【
原文による値の構文は，以下の記述と整合していないので、
この訳では修正している。
】</p>

<dl>
	<dt>`none^v</dt>
	<dd>
~vector効果は適用しないものと指定する。
すなわち、~SVG-11による既定の描画の挙動
— 先ず図形の幾何を指定した塗りで~fillしてから，指定した塗りで外形線を~strokeする —
を利用する。
◎
Specifies that no vector effect shall be applied, i.e. the default rendering behaviour from SVG 1.1 is used which is to first fill the geometry of a shape with a specified paint, then stroke the outline with a specified paint.
</dd>
	<dt>`non-scaling-stroke^v</dt>
	<dd>
塗ngに対する~vector効果の`この記述＠~SVGpainting#non-scaling-stroke$を見よ。
【~stroke幅は、~CTMが変化しようが変化しない。】
◎
Please refer to this description of vector effect on painting.
</dd>

	<dt>`non-scaling-size^v</dt>
	<dd>
次の特性を備える拘束付き変形nにより，［
この要素とその子孫
］に向けて，特別な`利用元~座標系$を指定する。
`利用元~座標系$の拡縮率は、
`~host座標~空間$からの`~CTM$が変化しようが変化しない。
しかしながら，［
回転／斜傾
］の抑止は指定しない。
また、`利用元~座標系$の配置の固定化も指定しない。
`non-scaling-size^v は，`利用元~座標系$の拡縮を抑止するので、
`non-scaling-stroke^v の特性も備える。
次節にて，変形n公式と挙動の例を指示する。
◎
Specifies special user coordinate system toward this element and its descendant by constrained transformations with the following characteristics. The scale of the user coordinate system do not change in spite of change of CTMs from a host coordinate space. However, it does not specify the suppression of rotation and skew. Also, it does not specify the fixation of placement of user coordinate system. Since non-scaling-size suppresses scaling of user coordinate system, it also has the characteristic of non-scaling-stroke. The transformation formula and the example behavior are indicated to the following chapter.
</dd>

	<dt>`non-rotation^v</dt>
	<dd>
次の特性を備える拘束付き変形nにより，［
この要素とその子孫
］に向けて，特別な`利用元~座標系$を指定する。
`利用元~座標系$の［
回転／斜傾
］は、
`~host座標~空間$からの`~CTM$が変化しようが抑止される。
しかしながら，拡縮の抑止は指定しない。
また、`利用元~座標系$の配置の固定化も指定しない。
次節にて，変形n公式と挙動の例を指示する。
◎
Specifies special user coordinate system toward this element and its descendant by constrained transformations with the following characteristics. The rotation and skew of the user coordinate system is suppressed in spite of change of CTMs from a host coordinate space. However, it does not specify the suppression of scaling. Also, it does not specify the fixation of placement of user coordinate system. The transformation formula and the example behavior are indicated to the following chapter.
</dd>

	<dt>`fixed-position^v</dt>
	<dd>
次の特性を備える拘束付き変形nにより，［
この要素とその子孫
］に向けて，特別な`利用元~座標系$を指定する。
`利用元~座標系$の配置は、
`~host座標~空間$からの`~CTM$が変化しようが固定される。
しかしながら，［
回転／斜傾／拡縮
］の抑止は指定しない。
要素に `fixed-position^v 効果がある下で `transform$p ~propもある場合、
その~propは，この効果~用に消費される。
`transform$p ~propが表す行列の並進~成分［
%e, %f
］は、固定された`利用元~座標系$の原点を転送するために利用される。
次節にて，変形n公式と挙動の例を指示する。
◎
Specifies special user coordinate system toward this element and its descendant by constrained transformations with the following characteristics. The placement of user coordinate system is fixed in spite of change of CTMs from a host coordinate space. However, it does not specify the suppression of rotation, skew and scaling. When the element that has fixed-position effect and also has transform property, that property is consumed for this effect. The shift components e and f of matrix of transform property are used to transfer the origin of fixed user coordinate system. The transformation formula and the example behavior are indicated to the following chapter.
</dd>
</dl>

<p>
これらの値は併用でき、
それにより，それぞれの特性を同時に備える効果を指定できる。
◎
These values can be enumerated. Thereby, the effect which has these characteristics simultaneously can be specified.
</p>

<p>
`vector-effect$p 用の
`~host座標~空間@
は、`最も遠い先祖の~SVG表示域$の`表示域~座標系$である。
◎
The host coordinate space for vector-effect is the viewport coordinate system of the furthest ancestral SVG viewport.
</p>

<p class="note">注記：
~SVGの将来~versionは、
機器~座標系を指定する仕方を許容し得る。
◎
Note: Future versions of SVG may allow ways to specify the device coordinate system.
</p>

		<section id="VectorEffectsCalculation">
<h3 title="Computing the vector effects">8.13.1. ~vector効果の算出-法</h3>

<p>
この節では，~vector効果の挙動を明確化するため、
各種 値の組合nに関して，一連の変形n公式を示す
— ただし、明瞭な含意がある `non-scaling-stroke^v は除く。
◎
This section shows the list of transformation formulas regarding combinations of the values for clarification of the behavior of vector effects excluding non-scaling-stroke which has clear implications.
</p>

<p>
`~3D描画~文脈$内で遂行される変形nに対しては、
`vector-effect$p ~propによる効果は無い。
◎
The vector-effect property has no effect on transformations performed in a 3d rendering context.
</p>

<div>
<p>
以下に与える公式の中では、
所与の座標 %P ~EQ ( %x, %y ) は，次のように
z 座標が 1 にされた ~3D縦~vector（ 1 × 3 行列 ）を表すと解釈するものとする：
</p>

<div class="math">
%P ~EQ `Vxy^dgm
</div>

<p>
`利用元~座標系$から`表示域~座標系$への通常の変形nは、
次の公式に従う：
</p>

<div class="math">
%V ~EQ %~CTM ~DOT %U
</div>

<p>
ここで、
%U は 利用元~座標,
%V は 表示域~座標,
%~CTM は 前者の座標系から後者の座標系への`~CTM$を与える：
</p>

<div class="math">
%~CTM ~EQ `CTM^dgm
</div>

◎
The normal coordinate transformation formula from user coordinate system to viewport coordinate system is as follows.
</div>

<p>
`vector-effect$p が次の様に要素に追加されたとき：
◎
↓</p>

<pre class="lang-xml">
&lt;circle vector-effect="%値" transform="translate(%e %f)" cx="%Ux" cy="%Ux" r=".."/&gt;
</pre>

<div>
<p>
変形n公式は、
以下に従うように変化する
— 以下では、次の表記が用いられる：
</p>

<ul>
	<li>
%d は、［
%~CTM の行列式（ ~EQ %a ~MUL %d ~MINUS %b ~MUL %c ）
］の絶対~値の平方根
</li>
	<li>
<p>
%I0 は、次に与える 3 次~行列：
</p>
<div class="math">
%I0 ~EQ `ident^dgm
</div>
	</li>
	<li>
座標 %T ~EQ  ( %e, %f ) は、
要素~上の `transform$p 属性に与えられた変形n行列の ( %e, %f ) 成分
</li>
	<li>
座標 %O は、原点 ( 0, 0 )
</li>
</ul>

◎
When the vector-effect is added to an element like the above, the transformation formula for user coordinate to the device coordinate changes as follows. Here, xf and yf are user coordinate of the corresponding element and its descendant. And, xo and yo are matrix element e and f of the transform attribute which the corresponding element has. In addition, |det(CTM)| is absolute value of the determinants of CTM.＼
</div>

<p>
%d ~EQ 0 , かつ `non-scaling-size^v が値に含まれる場合、
`vector-effect$p は無効に，すなわち `none^v になる。
◎
When this value becomes 0 and non-scaling-size is appointed, vector-effect becomes invalidity namely none.
</p>

<p>
他の場合の変形n公式は、
`vector-effect$p の値に応じて：
◎
veValue｜Formula
</p>

<dl class="switch">
	<dt>`non-scaling-size^v</dt>
	<dd class="math">
%V
~EQ
%~CTM ~DOT %O
~PLUS
( 1 ~DIV %d ) ~MUL %~CTM ~DOT %I0 ~DOT %U
</dd>

	<dt>`non-rotation^v</dt>
	<dd class="math">
%V
~EQ
%~CTM ~DOT %O
~PLUS
%d ~MUL %I0 ~DOT %U
</dd>

	<dt>`non-scaling-size^v `non-rotation^v</dt>
	<dd class="math">
%V
~EQ
%~CTM ~DOT %O
~PLUS
%I0 ~DOT %U
</dd>

	<dt>`fixed-position^v</dt>
	<dd class="math">
%V
~EQ
%T
~PLUS
%~CTM ~DOT %I0 ~DOT %U
</dd>

	<dt>`fixed-position^v `non-scaling-size^v</dt>
	<dd class="math">
%V
~EQ
%T
~PLUS
( 1 ~DIV %d ) ~MUL %~CTM ~DOT %I0 ~DOT %U
</dd>

	<dt>`fixed-position^v `non-rotation^v</dt>
	<dd class="math">
%V
~EQ
%T
~PLUS
%d ~MUL %I0 ~DOT %U
</dd>

	<dt>`fixed-position^v `non-scaling-size^v `non-rotation^v</dt>
	<dd class="math">
%V
~EQ
%T
~PLUS
%d ~MUL %I0 ~DOT %U
</dd>
</dl>

		</section>
		<section id="NestedVectorEffectsCalculation">
<h3 title="Computing the vector effects for nested viewport coordinate systems">8.13.2. 入子な表示域~座標系~用の~vector効果の算出-法</h3>

【この節は未訳（ `vector-effect$p 用の追加的な値 `viewport^v, `screen^v に関する記述）。】

		</section>
		<section id="VectorEffectsExamples">
<h3 title="Examples of vector effects">8.13.3. ~vector効果の例</h3>

<div class="example">
<p>
`vector-effect$p `non-scaling-stroke^v による例：
◎
Below is an example of the non-scaling-stroke vector-effect.
</p>

<pre class="lang-xml">
&lt;?xml version="1.0"?&gt;
&lt;svg xmlns="http://www.w3.org/2000/svg"
     width="6cm" height="4cm" viewBox="0 0 600 400" 
     viewport-fill="rgb(255,150,200)"&gt;

  &lt;desc&gt;<span class="comment">
`non-scaling-stroke^v の例
◎
Example non-scaling stroke
</span>&lt;/desc&gt;
  &lt;rect x="1" y="1" width="598" height="398" fill="none" stroke="black"/&gt;
  
  &lt;g transform="scale(9,1)"&gt;
    &lt;line stroke="black" stroke-width="5" x1="10" y1="50" x2="10" y2="350"/&gt;
    &lt;line vector-effect="non-scaling-stroke" stroke="black" stroke-width="5" 
        x1="32" y1="50" x2="32" y2="350"/&gt;
    &lt;line vector-effect="none" stroke="black" stroke-width="5" 
        x1="55" y1="50" x2="55" y2="350"/&gt;
  &lt;/g&gt;

&lt;/svg&gt;
</pre>
</div>

<div class="example">
<p>
`non-scaling-stroke^v 以外の各種~vector効果, それらの組合nによる例を以下に示す。
先ず、これらに利用される~SVG~source~codeは：
◎
Below is an example of the none vector-effect (no vector effect).
◎
Before changing CTM
◎
After changing CTM
◎
Source code
</p>
<!-- 
_dgm-ve-initial-1
_dgm-ve-none
-->
<pre class="lang-xml">
&lt;svg xmlns="http://www.w3.org/2000/svg" viewBox="-50,-50,500,500" height="500" width="500"&gt;

  &lt;rect x="-50" y="-50" width="500" height="500" stroke="orange" stroke-width="3" fill="none"/&gt;

  &lt;!-- <span class="comment">
入子な利用元~座標系は、
この `transform$p 属性により変形される
◎
Nested user coordinate system is transformed by this transform attribute
</span> --&gt;
  &lt;g transform="matrix(2.117,0.3576,-0.3576,1.47,0,0) translate(-50,-50)"&gt;
    &lt;svg viewBox="-50,-50,500,500" height="500" width="500"&gt;
      &lt;!-- <span class="comment">
比較用の~~基準~格子を示す，この `svg^e の利用元~座標系~上の~graph-paper
◎
Graph paper on the this svg's base user coordinate system
</span> --&gt;
      &lt;g stroke="green" stroke-width="1" fill="none"&gt;
        &lt;!-- <span class="comment">順に：
~x軸, ~y軸,
座標系の原点を示す緑の小円,
~x軸の向きを示す緑の矢印,
格子の罫線
</span> --&gt;
        &lt;path d="M-100,000 h500 M000,-100 v500 "/&gt;
        &lt;circle cx="0" cy="0" r="10"/&gt;
        &lt;path fill="green" stroke="none" d="M0,-3 L30,-3 25,-10 50,0 25,10 30,3 0,3z"/&gt;
        &lt;path stroke-dasharray="5,5" d="
M-100,100 h500
M-100,200 h500
M-100,300 h500
M-100,400 h500
M-100,500 h500
M100,-100 v500
M200,-100 v500
M300,-100 v500
M400,-100 v500
M500,-100 v500"/&gt;
      &lt;/g&gt;
        &lt;!-- <span class="comment">
各種~vector効果を適用する赤い矢印の~~基準~格子における原点を示す緑の小円
</span> --&gt;
        &lt;circle cx="150" cy="150" r="7"/&gt;

      &lt;!-- <span class="comment">
~vector効果を備える図
◎
Figure having vector effect
</span> --&gt;
      &lt;!-- <span class="comment">
太く赤い右向き矢印と, その原点に置かれた小さな四角
◎
A thick red right arrow and small rectangle on this figure's nested user coordinate system origin
</span> --&gt;
      &lt;path
            id="ve"
            <mark>vector-effect="…"</mark>
            stroke="red" stroke-width="3" fill="none"
            transform="translate(150,150)"
            d="M-50,-50 L50,-50 50,-100 150,0 50,100 50,50 -50,50 -50,-50z M5 0 L0 -5 -5 0 0 5z"/&gt;
    &lt;/svg&gt;
  &lt;/g&gt;
&lt;/svg&gt;
</pre>

<p>
上の <mark>`vector-effect="…"^a</mark> に各種~値をあてがった場合の効果を以下に示す：
</p>

<table class="grid-table" id="_ex-ve-effect"><thead>
<tr><th>値
<th>~CTMが変更される前
<th>~CTMが変更された後
<tbody>

<tr><td>`none^v （~vector効果なし）
<td>
<p class="alt" hidden id="_dgm-ve-initial-1">
~vector効果による効果が発揮される前の外観
◎
Image showing appearance before the effect of the vector effect showing up
</p>
<td>
<p class="alt" hidden id="_dgm-ve-none">
~vector効果 `none^v による結果
◎
Image showing none vector effect
</p>

<tr><td>`non-scaling-size^v
◎
Below is an example of the non-scaling-size.
◎
Before changing CTM After changing CTM
<td>
<p class="alt" hidden id="_dgm-ve-initial-2">
~vector効果による効果が発揮される前の外観
◎
Image showing appearance before the effect of the vector effect showing up
</p>
<td>
<p class="alt" hidden id="_dgm-ve-nonScalingSize">
~vector効果 `non-scaling-size^v による結果
◎
Image showing non-scaling-size vector effect
</p>
<!-- 
&lt;path id="ve" vector-effect="non-scaling-size"
      stroke="red" stroke-width="3" fill="none"
      transform="matrix(1,0,0,1,150,150)"
      d="M-50,-50 L50,-50 50,-100 150,0 50,100 50,50 -50,50 -50,-50z M5 0 L0 -5 -5 0 0 5z"/&gt;
-->

<tr><td>`non-rotation^v
◎
Below is an example of the non-rotation.
◎
Before changing CTM After changing CTM
<td>
<p class="alt" hidden id="_dgm-ve-initial-3">
~vector効果による効果が発揮される前の外観
◎
Image showing appearance before the effect of the vector effect showing up
</p>
<td>
<p class="alt" hidden id="_dgm-ve-nonRotation">
~vector効果 `non-rotation^v による結果
◎
Image showing non-rotation vector effect
</p>
<tr><td>`non-scaling-size non-rotation^v
◎
Below is an example of the non-scaling-size non-rotation.
◎
Before changing CTM After changing CTM
<td>
<p class="alt" hidden id="_dgm-ve-initial-4">
~vector効果による効果が発揮される前の外観
◎
Image showing appearance before the effect of the vector effect showing up
</p>
<td>
<p class="alt" hidden id="_dgm-ve-nonScalingSize-nonRotation">
~vector効果 `non-scaling-size non-rotation^v による結果
◎
Image showing non-scaling-size non-rotation vector effect
</p>
<tr><td>`fixed-position^v
◎
Below is an example of the fixed-position.
◎
Before changing CTM After changing CTM
<td>
<p class="alt" hidden id="_dgm-ve-initial-5">
~vector効果による効果が発揮される前の外観
◎
Image showing appearance before the effect of the vector effect showing up
</p>
<td>
<p class="alt" hidden id="_dgm-ve-fixedPosition">
~vector効果 `fixed-position^v による結果
◎
Image showing fixed-position vector effect
</p>

<tr><td>`non-scaling-size fixed-position^v
◎
Below is an example of the non-scaling-size fixed-position.
◎
Before changing CTM After changing CTM
<td>
<p class="alt" hidden id="_dgm-ve-initial-6">
~vector効果による効果が発揮される前の外観
◎
Image showing appearance before the effect of the vector effect showing up
</p>
<td>
<p class="alt" hidden id="_dgm-ve-nonScalingSize-fixedPosition">
~vector効果 `non-scaling-size fixed-position^v による結果
◎
Image showing non-scaling-size fixed-position vector effect
</p>

<tr><td>`non-rotation fixed-position^v
◎
Below is an example of the non-rotation fixed-position.
◎
Before changing CTM After changing CTM
<td>
<p class="alt" hidden id="_dgm-ve-initial-7">
~vector効果による効果が発揮される前の外観
◎
Image showing appearance before the effect of the vector effect showing up
</p>
<td>
<p class="alt" hidden id="_dgm-ve-nonRotation-fixedPosition">
~vector効果 `non-rotation fixed-position^v による結果
◎
Image showing non-rotation fixed-position vector effect
</p>

<tr><td>`non-scaling-size non-rotation fixed-position^v
◎
Below is an example of the non-scaling-size non-rotation fixed-position.
◎
Before changing CTM After changing CTM
<td>
<p class="alt" hidden id="_dgm-ve-initial-8">
~vector効果による効果が発揮される前の外観
◎
Image showing appearance before the effect of the vector effect showing up
</p>
<td>
<p class="alt" hidden id="_dgm-ve-nonScalingSize-nonRotation-fixedPosition">
~vector効果 `non-scaling-size non-rotation fixed-position^v による結果
◎
Image showing non-scaling-size non-rotation fixed-position vector effect
</p>
</table>
</div>

		</section>
	</section>
	<section id="DOMInterfaces">
<h2 title="DOM interfaces">8.14. ~DOM~interface</h2>

		<section id="InterfaceSVGTransform">
<h3 title="Interface SVGTransform">8.14.1. ~interface `SVGTransform^I0</h3>

<p>
`SVGTransform$I ~interfaceは、
`transform$p ~prop, それ用の呈示~属性［
`transform^a ／ `gradientTransform$a ／ `patternTransform$a
］に現れる `transform-function$t 値を表現するために利用される。
`SVGTransform$I は、
変形~list内の単独の成分
— `scale(…)^v や `matrix(…)^v 値など —
を表現する。
◎
The SVGTransform interface is used to represent &lt;transform-function&gt; values that appear in the transform property and its presentation attributes ‘transform’, ‘gradientTransform’ and ‘patternTransform’. An SVGTransform represents a single component in a transform list, such as a single scale(…) or matrix(…) value.
◎
（読専 flag に集約）
An SVGTransform object can be designated as read only, which means that attempts to modify the object will result in an exception being thrown, as described below.
◎
（反映を継承する／関連な要素に集約）
An SVGTransform object can be associated with a particular element. The associated element is used to determine which element's ‘transform’ presentation attribute to update if the object reflects that attribute. Unless otherwise described, an SVGTransform object is not associated with any element.
◎
Every SVGTransform object operates in one of two modes. It can:
• reflect an element of a presentation attribute value (being exposed through the methods on the baseVal member of an SVGAnimatedTransformList),
• be detached, which is the case for SVGTransform objects created with createSVGTransform and createSVGTransformFromMatrix.
</p>
【！id=ReadOnlyTransform／TransformAssociatedElement】

<div class="p">
<p>
各 `SVGTransform$I ~objは、
次のものを内部的に保守する：
</p>

<dl class="def-list">
	<dt>`値@tF</dt>
	<dd>
`transform-function$t 値。
</dd>

	<dt>`行列~obj@</dt>
	<dd>
`DOMMatrix$I ~obj。
これは、 `matrix$m ~IDL属性から返され，常に~objの`値$tFに同期するよう保たれる。
</dd>
</dl>
◎
An SVGTransform object maintains an internal &lt;transform-function&gt; value, which is called its value. It also maintains a DOMMatrix object, which is called its matrix object, which is the object returned from the matrix IDL attribute. An SVGTransform object's matrix object is always kept synchronized with its value.
</div>

<pre class="idl">
[`Exposed$=Window]
interface SVGTransform {

  // Transform Types
  const unsigned short `SVG_TRANSFORM_UNKNOWN$m = 0;
  const unsigned short `SVG_TRANSFORM_MATRIX$m = 1;
  const unsigned short `SVG_TRANSFORM_TRANSLATE$m = 2;
  const unsigned short `SVG_TRANSFORM_SCALE$m = 3;
  const unsigned short `SVG_TRANSFORM_ROTATE$m = 4;
  const unsigned short `SVG_TRANSFORM_SKEWX$m = 5;
  const unsigned short `SVG_TRANSFORM_SKEWY$m = 6;

  readonly attribute unsigned short `type$m;
  [`SameObject$] readonly attribute `DOMMatrix$I `matrix$m;
  readonly attribute float `angle$m;

  undefined `setMatrix$m(optional `DOMMatrix2DInit$I %matrix = {});
  undefined `setTranslate$m(float %tx, float %ty);
  undefined `setScale$m(float %sx, float %sy);
  undefined `setRotate$m(float %angle, float %cx, float %cy);
  undefined `setSkewX$m(float %angle);
  undefined `setSkewY$m(float %angle);
};
</pre>

<p>
`SVGTransform$I 上に定義された数量-変形~種別~定数は、
`SVGTransform$I `値$tFの種別を表現するために利用される。
それらの意味は、次に従う：
◎
The numeric transform type constants defined on SVGTransform are used to represent the type of an SVGTransform's value. Their meanings are as follows:
</p>

<table>
<caption>変形~種別~定数~表t</caption>
<thead>
<tr><th>定数
<th>意味
<tbody>

<tr><td>`SVG_TRANSFORM_MATRIX@m
<td>`matrix(…)^v 値
<tr><td>`SVG_TRANSFORM_TRANSLATE@m
<td>`translate(…)^v 値
<tr><td>`SVG_TRANSFORM_SCALE@m
<td>`scale(…)^v 値
<tr><td>`SVG_TRANSFORM_ROTATE@m
<td>`rotate(…)^v 値
<tr><td>`SVG_TRANSFORM_SKEWX@m
<td>`skewX(…)^v 値
<tr><td>`SVG_TRANSFORM_SKEWY@m
<td>`skewY(…)^v 値
<tr><td>`SVG_TRANSFORM_UNKNOWN@m
<td>その他の種別を表す値
</table>

<!-- 
Constant	Meaning
SVG_TRANSFORM_MATRIX	A matrix(…) value.
SVG_TRANSFORM_TRANSLATE	A translate(…) value.
SVG_TRANSFORM_SCALE	A scale(…) value.
SVG_TRANSFORM_ROTATE	A rotate(…) value.
SVG_TRANSFORM_SKEWX	A skewX(…) value.
SVG_TRANSFORM_SKEWY	A skewY(…) value.
SVG_TRANSFORM_UNKNOWN	Some other type of value.
 -->

<p class="note">注記：
数量-変形~種別~定数の利用-は~anti-patternであり、［
上に挙げたもの以外の `SVGTransform$I が~supportする変形~種別
］用には，新たな定数~値は導入されない。
そのような変形~種別には、
種別 `SVG_TRANSFORM_UNKNOWN$m が利用される。
`SVGTransform$I の他の~propが，これらの種別の変形とどう演算するかの詳細は下を見よ。
◎
The use of numeric transform type constants is an anti-pattern and new constant values will not be introduced for any transform types supported by SVGTransform. If other types of transforms are supported and used, the SVGTransform uses the SVG_TRANSFORM_UNKNOWN type. See below for details on how the other properties of an SVGTransform operate with these types of transforms.
</p>

<dl class="idl-def">
	<dt>`type@m</dt>
	<dd>
`SVGTransform$I の`値$tFである変形~itemの種別を表現する。
◎
The type IDL attribute represents the type of transform item that the SVGTransform's value is.＼
</dd>
	<dd class="algo">
<p>
その取得子~手続きは：
◎
On getting type, the following steps are run:
</p>
		<ol>
			<li>
~IF［
コレの`値$tFは［
`matrix(…)^v ／
`translate(…)^v ／
`scale(…)^v ／
`rotate(…)^v ／
`skewX(…)^v ／
`skewY(…)^v
］関数である
］
⇒
~RET 上の変形~種別~表tにおける対応する定数~値
◎
If the SVGTransform's value is a matrix(…), translate(…), scale(…), rotate(…), skewX(…) or skewY(…) function, then return the corresponding constant value from the transform type table above.
</li>
			<li>
<p>
~ELSE
⇒
~RET `SVG_TRANSFORM_UNKNOWN$m
◎
Otherwise, return SVG_TRANSFORM_UNKNOWN.
</p>

<p class="note">注記：
例えば，［
`scaleX(…)^v ／ `translate3d(…)^v
］変形~用には、
`SVG_TRANSFORM_UNKNOWN$m 返すことになる。
◎
For example, for a scaleX(…) or translate3d(…) transform, SVG_TRANSFORM_UNKNOWN would be returned.
</p>
			</li>
		</ol>
	</dd>

	<dt>`matrix@m</dt>
	<dd>
変形を 4×4 斉次~行列として表現する。
◎
The matrix IDL attribute represents the transform as a 4x4 homogeneous matrix, and＼
</dd>
	<dd class="algo">
その取得子~手続きは、
コレの`行列~obj$を返す。
◎
on getting returns the SVGTransform's matrix object.＼
</dd>
	<dd>
`行列~obj$を最初に作成したときは、
各~成分をコレの`値$tF（変形~関数）に合致するように設定するものとする。
【！and is set to reflects the SVGTransform】
◎
When the matrix object is first created, its values are set to match the SVGTransform's transform function value, and is set to reflects the SVGTransform.
</dd>
	<dd class="note">注記：
各~種別の変形~関数が，どの行列~値に対応するかの記述は、
`css-transforms-1$r
`§ 変形-関数の数学的~記述＠~TRANSFORM#mathematical-description$を見よ。
◎
See the CSS Transforms specification for a description of how the different transform function types correspond to particular matrix values.
</dd>

	<dt>`angle@m</dt>
	<dd>
［
`rotate(…)^v ／ `skewX(…)^v ／ `skewY(…)^v
］変形~関数の `angle$t ~parameterを表現する。
◎
The angle IDL attribute represents the angle parameter of a rotate(…), skewX(…) or skewY(…) transform function.＼
</dd>
	<dd class="algo">
<p>
その取得子~手続きは：
◎
On getting, the following steps are run:
</p>
		<ol>
			<li>
~IF［
コレの`値$tFは［
`rotate(…)^v ／ `skewX(…)^v ／ `skewY(…)^v
］関数である
］
⇒
~RET 関数の `angle$t 引数を `deg$u 単位に~~換算した結果
◎
If the SVGTransform object's value is a rotate(…), skewX(…) or skewY(…) function, return its angle argument in degrees.
</li>
			<li>
~RET 0
◎
Otherwise, return 0.
</li>
		</ol>
	</dd>

	<dt>`setMatrix(matrix)@m</dt>
	<dd>
`SVGTransform$I の行列を所与の行列~値に設定するために利用される。
◎
The setMatrix method is used to set the SVGTransform to a given matrix value.＼
</dd>
	<dd class="algo">
<p>
その~method~手続きは：
◎
When setMatrix(matrix) is called, the following steps are run:
</p>
		<ol>
			<li>
~IF［
コレの`読専~flag$ ~EQ ~T
］
⇒
~THROW `NoModificationAllowedError$E
◎
If the SVGTransform object is read only, then throw a NoModificationAllowedError.
</li>
			<li>
`行列を辞書で初期化する$( コレの`行列~obj$, %matrix )
（例外が投出され得る）
◎
Let newMatrix be the result of DOMMatrixReadOnly.fromMatrix(matrix), including the validate and fix-up steps for missing values. If that method throws an error, then re-throw that error and abort these steps.
◎
If newMatrix.is2D() would return true, then set the SVGTransform object's value to a matrix(…) value that represents the same matrix as newMatrix.
◎
Otherwise, set the SVGTransform object's value to a matrix3d(…) value that represents the same matrix as newMatrix.
</li>
			<li>
`変形の値を行列に同期する$( コレ )
◎
In either case, matrix object gets synchronized to the SVGTransform object's value.
</li>
			<li>
`必要なら内容~属性を直列化し直す$( コレ )
◎
If the SVGTransform object reflects a presentation attribute value of an element, then reserialize the reflected attribute.
</li>
		</ol>
	</dd>

	<dt>`setTranslate()@m</dt>
	<dt>`setScale()@m</dt>
	<dt>`setRotate()@m</dt>
	<dt>`setSkewX()@m</dt>
	<dt>`setSkewY()@m</dt>
	<dd>
これらは、 `SVGTransform$I を新たな変形~関数~値に設定するために利用される。
◎
The setTranslate, setScale, setRotate, setSkewX and setSkewY methods are used to set the SVGTransform to a new transform function value.＼
</dd>
	<dd class="algo">
<p>
その~method~手続きは：
◎
When one of these methods is called, the following steps are run:
</p>
		<ol>
			<li>
~IF［
コレの`読専~flag$ ~EQ ~T
］
⇒
~THROW `NoModificationAllowedError$E
◎
If the SVGTransform object is read only, then throw a NoModificationAllowedError.
</li>
			<li>
<p>
コレの`値$tF ~SET どの~methodが~callされたかに応じて，次の表tに与える新たな変形~関数~値：
◎
Set the SVGTransform object's value to a new transform function value, depending on which method was called:
</p>

<table><thead>
<tr><th>~method
<th>変形~関数
<tbody>

<tr><td>`setTranslate(tx, ty)^m
<td><code class="value">translate(%tx, %ty)</code>
◎
the new transform function value is translate(tx, ty)

<tr><td>`setScale(sx, sy)^m
<td><code class="value">scale(%sx, %sy)</code>
◎
the new transform function value is scale(sx, sy)

<tr><td>`setRotate(angle, cx, cy)^m
<td><code class="value">rotate(%angle, %cx, %cy)</code>
◎
the new transform function value is rotate(angle, cx, cy)

<tr><td>`setSkewX(angle)^m
<td><code class="value">skewX(%angle)</code>
◎
the new transform function value is skewX(angle)

<tr><td>`setSkewY(angle)^m
<td><code class="value">skewY(%angle)</code>
◎
the new transform function value is skewY(angle)
</table>

			</li>
			<li>
コレの`行列~obj$の各~成分をコレの`値$tFに合致するように設定する
◎
Set the components of the SVGTransform object's matrix object to match the new transform function value.
</li>
			<li>
`必要なら内容~属性を直列化し直す$( コレ )
◎
If the SVGTransform object reflects an element of a presentation attribute value, then reserialize the reflected attribute.
</li>
		</ol>
	</dd>
</dl>

<p>
この仕様は、
`DOMMatrix$I ~objのうち，ある `SVGTransform$I ~obj %T の`行列~obj$ %M であるものの挙動に対し，
`geometry-1$r 仕様に述べられるものを超える追加的な要件を課す
— それらを，変形~値をとる呈示~属性を反映するために利用できるよう：
◎
This specification imposes additional requirements on the behavior of DOMMatrix objects beyond those described in the Geometry Interfaces specification, so that they can be used to reflect presentation attributes that take transform values.
◎
（反映を継承する／関連な要素に集約）
Every DOMMatrix object operates in one of two modes. It can:
• reflect an SVGTransform (being exposed through the matrix IDL attribute on an SVGTransform), or
• be detached, which is the case for DOMMatrix objects created using their constructor or with createSVGMatrix.
</p>

<ul>
	<li>
<p id="ReadOnlyMatrix">
［
%T の`読専~flag$ ~EQ ~T
］ならば、
%M を改変しようとするどの試み
— ~objの［
~IDL属性に値をアテガう／変異-可能な変形~methodを呼出す
］など —
に対しても，内部的な値を更新することなく
`NoModificationAllowedError$E 例外を投出するモノトスル。
◎
（SVGTransform の読専 flag に集約）
A DOMMatrix can be designated as read only, which means that attempts to modify the object will result in an exception being thrown. When assigning to any of a read only DOMMatrix's IDL attributes, or when invoking any of its mutable transform methods, a NoModificationAllowedError exception will be thrown instead of updating the internal value.
</p>

<p class="note">注記：
`DOMMatrixReadOnly$I ~interfaceは、
`transform$p を反映するために利用されない。
それらは元から読専なので，改変しようとするどの試みに対しても例外を投出する。
◎
Note that this applies only to the read-write DOMMatrix interface; the DOMMatrixReadOnly interface, which is not used for reflecting transform, will already throw an exception if an attempt is made to modify it.
</p>
	</li>
	<li>
<p>
%M の［
~IDL属性に値をアテガう／変異-可能な変形~methodを呼出す
］ことにより、
内部的な行列~値が更新されたときは，次の手続きを走らす：
◎
When assigning to any of a writable DOMMatrix's IDL attributes, or when invoking any of its mutable transform methods, the following steps are run after updating the internal matrix value:
◎
If the DOMMatrix reflects an SVGTransform, then:
</p>
		<ol>
			<li>
~Assert：
%T の`読専~flag$ ~EQ ~F
</li>
			<li>
`変形の値を行列に同期する$( %T )
◎
If the DOMMatrix would return true from its is2d method, then set the SVGTransform object's value to a matrix(…) value that represents the same matrix as the DOMMatrix.
◎
Otherwise, set the SVGTransform object's value to a matrix3d(…) value that represents the same matrix as the DOMMatrix.
</li>
			<li>
`必要なら内容~属性を直列化し直す$( %T )
◎
If the SVGTransform object reflects an element of a presentation attribute value, then reserialize the reflected attribute.
</li>
		</ol>
	</li>
</ul>

<div class="algo">
<p>
`変形の値を行列に同期する@
~algoは、
所与の
( `SVGTransform$I ~obj %T )
に対し
⇒
%T の`値$tF ~SET %M の`~2Dか$ に応じて
⇒＃
~T ならば %T の`行列~obj$と同じ行列を表現する `matrix(…)^v 値／
~F ならば %T の`行列~obj$と同じ行列を表現する `matrix3d(…)^v 値
</p>

<p class="trans-note">【
この手続きは、他所を簡潔に記すため，この訳に導入している。
】</p>
</div>

		</section>
		<section id="InterfaceSVGTransformList">
<h3 title="Interface SVGTransformList">8.14.2. ~interface `SVGTransformList^I0</h3>

<p>
`SVGTransformList$I ~interfaceは、
0 個以上の `SVGTransform$I ~objからなる`~list~interface$である。
`SVGTransformList$I ~objは、
`transform$p ~propがとり得る値
— すなわち， `transform-list$t または~keyword `none^v —
を表現する。
◎
The SVGTransformList interface is a list interface whose elements are SVGTransform objects. An SVGTransformList represents a value that the transform property can take, namely either a &lt;transform-list&gt; or the keyword none.
</p>

<pre class="idl">
[`Exposed$=Window]
interface `SVGTransformList^dfn {<!-- `SVGNameList^I1 -->
  readonly attribute unsigned long `length$m1;
  readonly attribute unsigned long `numberOfItems$m1;

  undefined `clear$m1();
  `SVGTransform$I `initialize$m1(`SVGTransform$I %newItem);
  getter `SVGTransform$I `getItem$m1(unsigned long %index);
  `SVGTransform$I `insertItemBefore$m1(`SVGTransform$I %newItem, unsigned long %index);
  `SVGTransform$I `replaceItem$m1(`SVGTransform$I %newItem, unsigned long %index);
  `SVGTransform$I `removeItem$m1(unsigned long %index);
  `SVGTransform$I `appendItem$m1(`SVGTransform$I %newItem);
  `setter$m1 undefined (unsigned long %index, `SVGTransform$I %newItem);

  /* <span class="comment">
他の~list~interfaceに共通しない追加的な~method
◎
Additional methods not common to other list interfaces.
</span> */
  `SVGTransform$I `createSVGTransformFromMatrix$m(optional `DOMMatrix2DInit$I %matrix = {});
  `SVGTransform$I? `consolidate$m();
};
</pre>

<dl class="idl-def">
	<dt>`createSVGTransformFromMatrix(matrix)@m</dt>
	<dd>
行列~objから新たな `SVGTransform$I ~objを作成するために利用される。
◎
The createSVGTransformFromMatrix method is used to create a new SVGTransform object from a matrix object.＼
</dd>
	<dd class="algo">
<p>
その~method~手続きは：
◎
When the createSVGTransformFromMatrix(matrix) method is called, the following steps are run:
</p>
		<ol>
			<li>
%transform ~LET 新たな `SVGTransform$I1 ~obj【！detached： 関連な要素 ~EQ ε】
◎
Let transform be a newly created SVGTransform object that is detached.
</li>
			<li>
%transform 上の `setMatrix(matrix)$m1 ~method手続きを遂行する
◎
Follow the steps that would be run if the setMatrix method on transform were called, passing matrix as its argument.
</li>
			<li>
~RET %transform
◎
Return transform.
</li>
		</ol>
	</dd>

	<dt>`consolidate()@m</dt>
	<dd>
変形~listを［
単独の変形~関数を利用している等価な変形n
］へ変換する。
◎
The consolidate method is used to convert the transform list into an equivalent transformation using a single transform function.＼
</dd>
	<dd class="algo">
<p>
その~method~手続きは：
◎
When the consolidate() method is called, the following steps are run:
</p>
		<ol>
			<li>
~IF［
コレの`読専~flag$ ~EQ ~T
］
⇒
~THROW `NoModificationAllowedError$E
◎
If the SVGTransformList object is read only, then throw a NoModificationAllowedError.
</li>
			<li>
%~list ~LET コレが表現する `SVGTransform^I ~list
</li>
			<li>
~IF［
%~list は空である
］
⇒
~RET ~NULL
◎
If the list is empty, return null.
</li>
			<li>
%~list 内の
~EACH( %~item )
に対し
⇒
`~itemを~listから~detachする$( %~item )
【！ and then remove 】
◎
Detach and then remove all elements in the list.
</li>
			<li>
%変形 ~LET 新たな `SVGTransform$I ~obj
◎
Let transform be a newly created SVGTransform object.
</li>
			<li>
%行列 ~LET 単位行列
</li>
			<li>
%~list 内の
~EACH( `SVGTransform$I %T )
に対し
⇒
%行列 に［
%T の`行列~obj$が表現する行列
］を`右から乗算する$
◎
Let matrix be the matrix value obtained by beginning with an identity matrix, and then post-multiplying the value of the matrix object for each SVGTransform in the list, in order.
</li>
			<li>
%変形 の`行列~obj$を成す各~成分を %行列 内の対応する成分~値に設定する
◎
Set the components of transform's matrix object to the component values in matrix.
</li>
			<li>
`変形の値を行列に同期する$( %変形 )
◎
If transform's matrix object would return true from its is2d method, then set transform's value to a matrix(…) value that represents the same matrix as the matrix object.
◎
Otherwise, set transform's value to a matrix3d(…) value that represents the same matrix as the matrix object.
</li>
			<li>
%~list を空にする
◎
↑</li>
			<li>
`~itemを~listに~attachする$( %変形, コレ )
◎
Attach transform to this SVGTransformList.
</li>
			<li>
%~list に %変形 を付加する
◎
Append transform to this list.
</li>
			<li>
`必要なら内容~属性を直列化し直す$( コレ )
◎
If the list reflects a presentation attribute, then reserialize the reflected attribute.
</li>
			<li>
~RET %変形
◎
Return transform.
</li>
		</ol>
	</dd>
</dl>

<p>
`SVGLengthList$I の他のすべての~interface~memberの挙動は、
`~list~interface$にて定義される。
◎
The behavior of all other interface members of SVGLengthList are defined in List interfaces.
</p>

		</section>
		<section id="InterfaceSVGAnimatedTransformList">
<h3 title="Interface SVGAnimatedTransformList">8.14.3. ~interface `SVGAnimatedTransformList^I0</h3>

<p>
`SVGAnimatedTransformList$I ~objは、
ある要素~上の `transform$p ~prop, それ用の呈示~属性
（要素に依存して，［
`transform^a, `gradientTransform$a, `patternTransform$a
］のいずれか）
を`反映する$ために利用される。
◎
An SVGAnimatedTransformList object is used to reflect the transform property and its corresponding presentation attribute (which, depending on the element, is ‘transform’, ‘gradientTransform’ or ‘patternTransform’).
</p>

<pre class="idl">
[`Exposed$=Window]
interface `SVGAnimatedTransformList^dfn {
  [`SameObject$] readonly attribute `SVGTransformList$I `baseVal$m;
  [`SameObject$] readonly attribute `SVGTransformList$I `animVal$m;
};
</pre>

<dl class="idl-def">
	<dt>`baseVal@m</dt>
	<dd>
コレが反映している呈示~属性の値を表現する。
◎
The baseVal and animVal IDL attributes represent the value of the reflected presentation attribute.＼
</dd>
	<dd class="algo">
その取得子~手続きは、
コレの`反映を継承する$ `SVGTransformList$I ~objを返す。
◎
On getting baseVal or animVal, an SVGTransformList object is returned that reflects the given presentation attribute.
</dd>

	<dt>`animVal@m</dt>
	<dd>
取得子は、
`baseVal$m 取得子と同じに挙動するが，結果の`読専~flag$も ~T にする。【！補完】
◎
↑</dd>
</dl>

		</section>
		<section id="InterfaceSVGPreserveAspectRatio">
<h3 title="Interface SVGPreserveAspectRatio">8.14.4. ~interface `SVGPreserveAspectRatio^I0</h3>

<p>
`SVGPreserveAspectRatio$I ~interfaceは、
`preserveAspectRatio$a 属性~用の値を表現するために利用される。
◎
The SVGPreserveAspectRatio interface is used to represent values for the ‘preserveAspectRatio’ attribute.
◎
読専 flag に集約
An SVGPreserveAspectRatio object can be designated as read only, which means that attempts to modify the object will result in an exception being thrown, as described below.
</p>

<p>
どの `SVGPreserveAspectRatio$I ~objにも，`関連な要素$は常に在る（どれも
 `SVGAnimatedPreserveAspectRatio$I1 の［
`baseVal$m1 ／ `animVal$m1
］属性を通して公開されるので）。
◎
Every SVGPreserveAspectRatio object reflects the base value of a reflected ‘preserveAspectRatio’ attribute (being exposed through the methods on the baseVal or animVal member of an SVGAnimatedPreserveAspectRatio).
</p>
【！id=PreserveAspectRatioMode／ReadOnlyPreserveAspectRatio】

<pre class="idl">
[`Exposed$=Window]
interface `SVGPreserveAspectRatio^dfn {

  // Alignment Types
  const unsigned short `SVG_PRESERVEASPECTRATIO_UNKNOWN$m = 0;
  const unsigned short `SVG_PRESERVEASPECTRATIO_NONE$m = 1;
  const unsigned short `SVG_PRESERVEASPECTRATIO_XMINYMIN$m = 2;
  const unsigned short `SVG_PRESERVEASPECTRATIO_XMIDYMIN$m = 3;
  const unsigned short `SVG_PRESERVEASPECTRATIO_XMAXYMIN$m = 4;
  const unsigned short `SVG_PRESERVEASPECTRATIO_XMINYMID$m = 5;
  const unsigned short `SVG_PRESERVEASPECTRATIO_XMIDYMID$m = 6;
  const unsigned short `SVG_PRESERVEASPECTRATIO_XMAXYMID$m = 7;
  const unsigned short `SVG_PRESERVEASPECTRATIO_XMINYMAX$m = 8;
  const unsigned short `SVG_PRESERVEASPECTRATIO_XMIDYMAX$m = 9;
  const unsigned short `SVG_PRESERVEASPECTRATIO_XMAXYMAX$m = 10;

  // Meet-or-slice Types
  const unsigned short `SVG_MEETORSLICE_UNKNOWN$m = 0;
  const unsigned short `SVG_MEETORSLICE_MEET$m = 1;
  const unsigned short `SVG_MEETORSLICE_SLICE$m = 2;

  attribute unsigned short `align$m;
  attribute unsigned short `meetOrSlice$m;
};
</pre>

<p>
`SVGPreserveAspectRatio$I に定義される数量-整列~種別~定数は、
`preserveAspectRatio$a がとり得る`整列~keyword$値を表現するために利用される。
各~定数に対応する~keywordは：
◎
The numeric alignment type constants defined on SVGPreserveAspectRatio are used to represent the alignment keyword values that ‘preserveAspectRatio’ can take. Their meanings are as follows:
</p>

<div>
<table>
<caption>整列~定数~表t</caption>
<thead>
<tr><th>定数
<th>対応する~keyword
<tbody>

<tr><td>`SVG_PRESERVEASPECTRATIO_NONE@m
<td>`none^v
<tr><td>`SVG_PRESERVEASPECTRATIO_XMINYMIN@m
<td>`xMinYMin^v
<tr><td>`SVG_PRESERVEASPECTRATIO_XMIDYMIN@m
<td>`xMidYMin^v
<tr><td>`SVG_PRESERVEASPECTRATIO_XMAXYMIN@m
<td>`xMaxYMin^v
<tr><td>`SVG_PRESERVEASPECTRATIO_XMINYMID@m
<td>`xMinYMid^v
<tr><td>`SVG_PRESERVEASPECTRATIO_XMIDYMID@m
<td>`xMidYMid^v
<tr><td>`SVG_PRESERVEASPECTRATIO_XMAXYMID@m
<td>`xMaxYMid^v
<tr><td>`SVG_PRESERVEASPECTRATIO_XMINYMAX@m
<td>`xMinYMax^v
<tr><td>`SVG_PRESERVEASPECTRATIO_XMIDYMAX@m
<td>`xMidYMax^v
<tr><td>`SVG_PRESERVEASPECTRATIO_XMAXYMAX@m
<td>`xMaxYMax^v
<tr><td>`SVG_PRESERVEASPECTRATIO_UNKNOWN@m
<td>なし（定数は何らかの他の種別を表す）
</table>

◎
Constant	Meaning
SVG_PRESERVEASPECTRATIO_NONE	The none keyword.
SVG_PRESERVEASPECTRATIO_XMINYMIN	The xMinYMin keyword.
SVG_PRESERVEASPECTRATIO_XMIDYMIN	The xMidYMin keyword.
SVG_PRESERVEASPECTRATIO_XMAXYMIN	The xMaxYMin keyword.
SVG_PRESERVEASPECTRATIO_XMINYMID	The xMinYMid keyword.
SVG_PRESERVEASPECTRATIO_XMIDYMID	The xMidYMid keyword.
SVG_PRESERVEASPECTRATIO_XMAXYMID	The xMaxYMid keyword.
SVG_PRESERVEASPECTRATIO_XMINYMAX	The xMinYMax keyword.
SVG_PRESERVEASPECTRATIO_XMIDYMAX	The xMidYMax keyword.
SVG_PRESERVEASPECTRATIO_XMAXYMAX	The xMaxYMax keyword.
SVG_PRESERVEASPECTRATIO_UNKNOWN	Some other type of value.
</div>

<p>
同様に， `SVGPreserveAspectRatio$I に定義される数量- ~meet-or-slice種別~定数は、
`preserveAspectRatio$a がとり得る `meetOrSlice$t ~keyword値を表現するために利用される。
各~定数に対応する~keywordは：
◎
Similarly, the numeric meet-or-slice type constants defined on SVGPreserveAspectRatio are used to represent the meet-or-slice keyword values that ‘preserveAspectRatio’ can take. Their meanings are as follows:
</p>

<div>
<table>
<caption>~meet-or-slice定数~表t</caption>
<thead>
<tr><th>定数
<th>対応する~keyword
<tbody>

<tr><td>`SVG_MEETORSLICE_MEET@m
<td>`meet^v

<tr><td>`SVG_MEETORSLICE_SLICE@m
<td>`slice^v

<tr><td>`SVG_MEETORSLICE_UNKNOWN@m
<td>なし（定数は何らかの他の種別を表す）
</table>

◎
Constant	Meaning
SVG_MEETORSLICE_MEET	The meet keyword.
SVG_MEETORSLICE_SLICE	The slice keyword.
SVG_MEETORSLICE_UNKNOWN	Some other type of value.
</div>

<dl class="idl-def">
	<dt>`align@m</dt>
	<dd>
<p>
`preserveAspectRatio$a 値の`整列~keyword$を成す部分を表現する。
◎
The align IDL attribute represents the alignment keyword part of the ‘preserveAspectRatio’ value.＼
</dd>
	<dd class="algo">
<p>
その取得子~手続きは：
◎
On getting, the following steps are run:
</p>
		<ol>
			<li>
%値 ~LET コレに`関連な要素$の `preserveAspectRatio$a 属性の`基底~値$
◎
Let value reflect the base value of a ‘preserveAspectRatio’ attribute. value is the current non-animated value of the attribute (using the attribute's initial value if it is not present or invalid).
</li>
			<li>
~RET %値 を成す`整列~keyword$に対応する，上の整列~定数~表tに指定される定数~値
◎
Return the constant value as specified in the alignment constant table above for the alignment keyword in value.
</li>
		</ol>
	</dd>
	<dd class="algo">
<p>
その設定子~手続きは：
◎
On setting align, the following steps are run:
</p>
		<ol>
			<li>
~IF［
コレの`読専~flag$ ~EQ ~T
］
⇒
~THROW `NoModificationAllowedError$E
◎
If the SVGPreserveAspectRatio is read only, then throw a NoModificationAllowedError.
</li>
			<li>
~IF［
所与の値 ~EQ `SVG_PRESERVEASPECTRATIO_UNKNOWN$m
］~OR［
所与の値は 上の整列~定数~表tに現れない
］
⇒
~THROW `TypeError$E
◎
If value is SVG_PRESERVEASPECTRATIO_UNKNOWN or does not have a corresponding entry in the alignment keyword table above, then throw a TypeError.
</li>
			<li>
コレに`関連な要素$の `preserveAspectRatio$a 属性の値
~SET 次を順に連結した結果の文字列
⇒＃
上の整列~定数~表t内の 所与の値に対応する~keyword,
文字 `0020^U SPACE,
コレの `meetOrSlice$m ~memberが返すことになる値に対応する上の ~meet-or-slice~keyword表t内の~keyword
◎
Let string be the corresponding keyword in the alignment keyword table above for value.
◎
Append a single U+0020 SPACE character to string.
◎
Let meet or slice be the value that would be returned from the meetOrSlice member on this SVGPreserveAspectRatio.
◎
Append to string the corresponding keyword in the meet-or-slice keyword table above for meet or slice.
◎
Set the reflected ‘preserveAspectRatio’ attribute to string.
</li>
		</ol>
	</dd>

	<dt>`meetOrSlice@m</dt>
	<dd>
`preserveAspectRatio$a 値の`整列~keyword$を成す部分を表現する。
◎
The meetOrSlice IDL attribute represents the alignment keyword part of the ‘preserveAspectRatio’ value.＼
</dd>
	<dd class="algo">
<p>
その取得子~手続きは：
◎
On getting, the following steps are run:
</p>
		<ol>
			<li>
~IF［
コレに`関連な要素$の `preserveAspectRatio$a 属性の`基底~値$に `meetOrSlice$t 成分は与えられている
］
⇒
~RET 上の~meet-or-slice定数~表tに指定される，その成分に対応する定数~値
◎
Let value be a ‘preserveAspectRatio’ value that reflects the base value of a ‘preserveAspectRatio’ attribute value is the current non-animated value of the attribute.
</li>
			<li>
~RET `SVG_MEETORSLICE_MEET$m
◎
If the meet-or-slice value is not present in value, then return SVG_MEETORSLICE_MEET.
◎
Otherwise, the meet-or-slice value is present. Return the constant value as specified in the meet-or-slice constant table above for the meet-or-slice keyword in value.
</li>
		</ol>
	</dd>
	<dd class="algo">
<p>
その設定子~手続きは：
◎
On setting meetOrSlice, the following steps are run:
</p>
		<ol>
			<li>
~IF［
コレの`読専~flag$ ~EQ ~T
］
⇒
~THROW `NoModificationAllowedError$E
◎
If the SVGPreserveAspectRatio is read only, then throw a NoModificationAllowedError.
</li>
			<li>
~IF［
所与の値 ~EQ `SVG_MEETORSLICE_UNKNOWN$m
］~OR［
所与の値は 上の~meet-or-slice~keyword表tに挙げた定数でない
］
⇒
~THROW `TypeError$E
◎
If value is SVG_MEETORSLICE_UNKNOWN or does not have a corresponding entry in the meet-or-slice keyword table above, then throw a TypeError.
</li>
			<li>
%整列~keyword ~LET 上の整列~定数~表t内の［
コレの `align$m ~memberが返すことになる値
］に対応する~keyword
◎
Let align be the value that would be returned from the align member on this SVGPreserveAspectRatio.
</li>
			<li>
コレに`関連な要素$の `preserveAspectRatio$a 属性の値
~SET 次を順に連結した結果の文字列
⇒＃
%整列~keyword,
文字 `0020^U `SPACE^cn,
上の~meet-or-slice~keyword表t内の 所与の値に対応する~keyword
◎
Let string be the corresponding keyword in the alignment keyword table above for align.
◎
Append a single U+0020 SPACE character to string.
◎
Append to string the corresponding keyword in the meet-or-slice keyword table above for value.
◎
Set the reflected ‘preserveAspectRatio’ attribute to string.
</li>
		</ol>
	</dd>
</dl>

		</section>
		<section id="InterfaceSVGAnimatedPreserveAspectRatio">
<h3 title="Interface SVGAnimatedPreserveAspectRatio">8.14.5. ~interface `SVGAnimatedPreserveAspectRatio^I0</h3>

<p>
`SVGAnimatedPreserveAspectRatio$I ~objは、
`preserveAspectRatio$a 属性を`反映する$ために利用される。
【 `SVGFitToViewBox$I1 を実装する要素の `preserveAspectRatio$m1 属性から返される。】
◎
An SVGAnimatedPreserveAspectRatio object is used to reflect the ‘preserveAspectRatio’ attribute.
</p>

<pre class="idl">
[`Exposed$=Window]
interface `SVGAnimatedPreserveAspectRatio^dfn {
  [`SameObject$] readonly attribute `SVGPreserveAspectRatio$I `baseVal$m;
  [`SameObject$] readonly attribute `SVGPreserveAspectRatio$I `animVal$m;
};
</pre>

<dl class="idl-def">
	<dt>`baseVal@m</dt>
	<dd>
コレが反映している `preserveAspectRatio$a 属性の現在の値を表現する。
◎
The baseVal and animVal IDL attributes represent the current non-animated value of the reflected ‘preserveAspectRatio’ attribute.＼
</dd>
	<dd class="algo">
その取得子~手続きは、
コレの`反映を継承する$ `SVGPreserveAspectRatio$I ~objを返す。
◎
On getting baseVal or animVal, an SVGPreserveAspectRatio object is returned that reflects the base value of the ‘preserveAspectRatio’ attribute on the SVG element that the object with the reflecting IDL attribute of type SVGAnimatedPreserveAspectRatio was obtained from.
</dd>

	<dt>`animVal@m</dt>
	<dd>
取得子は、
`baseVal$m 取得子と同じに挙動するが，結果の`読専~flag$も ~T にする。【！補完】
◎
↑</dd>
</dl>

		</section>
	</section>
</main>

