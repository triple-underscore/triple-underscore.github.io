<!DOCTYPE html><html lang="ja"><head><meta charset="utf-8">
<title>CSS Non-element Selectors Module Level 1 （日本語訳）</title>

<link rel="stylesheet" href="common.css" type="text/css" />
<link rel="stylesheet" href="common-css.css" type="text/css" />
<script src="common0.js" ></script>
<script src="common1.js" async></script>

<script>

Util.ready = function(){
	var source_data = {
		generate: expand
	};
	Util.switchWordsInit(source_data);

//	Util.del_j(); // checked 160322 spec
}


function expand(){
	var link_map = this.link_map;
	var class_map = {
		pe: 'pseudo',
		prod: 'production',
		v: 'value',
		t: 'type',
		p: 'property',
		e: 'element',
		a: 'attr',
		css: 'css',
	};

	var tag_map = {
		pe: 'code',
		prod: 'var',
		v: 'code',
		t: 'var',
		p: 'code',
		e: 'code',
		a: 'code',
		css: 'code',
		c: 'code',
	}

	return this.html.replace(
		/`(.+?)([$@\^])(\w*)/g,
		create_html
	);

	function create_html(match, key, indicator, klass){

var text = key;
var href = '';
var classname = class_map[klass];
var tag = tag_map[klass];

switch(klass){
case 'r': // ref
	text = '[' + key + ']';
	href = '#biblio-' + key.toLowerCase();
	break;
case 'pe': // pseudo-class
	text = '::' + key;
	break;
case 'prod': // production
	href = '#prod-' + key;
	break;
case 't': // typedef
	href = '#typedef-' + key;
	text = '&lt;' + key + '&gt;';
	break;
default:
}


if(tag) {
	text = '<' + tag + (
		classname ? ' class="' + classname + '"' : ''
	) + '>' + text + '</' + tag + '>';
}


if(indicator !== '^'){
	href = link_map[klass ? (klass + '.' + key) : key] || href;

	if(!href){
		console.log(match); // check error
		return match;
	}

	switch(indicator){
	case '$':
		text = '<a href="' + href + '">' + text + '</a>';
		break;
	case '@':
		text = '<dfn id="' + href.slice(1) + '">' + text + '</dfn>';
		break;
	default:
		console.log(match);
		return match;
	}
}

return text;

	}


}

</script>

<script type="text/plain" id="_source_data">


●●options

spec_date:2017-05-08
trans_update:2017-05-09
page_state_key:CSS
original_url:https://drafts.csswg.org/selectors-nonelement/
spec_status:ED
ref_id_prefix:biblio-
ref_id_lowercase:true
site_nav:selector,css
conformance:css
copyright:2017,use
trans_1st_pub:2017-05-09


●●original_id_map


●●words_table1


●●words_table



	●CSS
CSS:
box:::ボックス
生成-:generate::~
内容:content:~
言語:language:~
選択-:select::~
選択子:selector::~:セレクタ
stylesheet:::スタイルシート
	●
comment:::コメント
node:::ノード
属性:attribute::~
処理命令:processing instruction::~
文書:document::~
非要素:non-element::~
要素:element::~
疑似要素:pseudo-element::~
出自の:originating::~
木:tree:~::ツリー
名前空間:namespace::~
null:
合致-:match::~
照合-:match::~
query:::クエリ
型:type::~

	●構文
token:::トークン
名:name:~
名前:name:~
文字:character:~
接頭辞:prefix::~
構文:syntax::~
空白:whitespace:~
規則:rule:~
宣言-:declare::~
妥当:valid::~
省略-:omit:~
省略可の:optional:~

	●仕様
API:
Web:
browser:::ブラウザ
support:::サポート
host:::ホスト
環境:environment:~
自立的:standalone:~
有用:useful:~
標準:standard:~
	標準~化-:standardize
草案:draft:~
許容-:allow:~
	できるようにする:allow
一般的:general:~
仕様:spec:~
仕組み:mechanism:~
	利用-:use:~
存在-:exist:~
定義-:define:~
将来:future:~
意図-:intend:~
所与の:given:~
手段:means:~
拡張-:extend:~
供-:provide:~
表現-:represent:~
視野:scope::~
	普及:very popular
	~~望まれ:would like to
	序論:introduction

	●未分類
HTML:
XML:
library:::ライブラリ

翻訳可否:translatability:~
後続-:follow:~
先行-:precede:~
切替える:switch する:切り替える
	場合:in which case:~
	種類／種:kind:~
	新たに:newer
	ITS
	追加して:additional

	●指示語
	2 つの部分:divided into two halves
	まるごと／:entirely
	決して:never
	現在:currently
	等々:etc
	他の:other
	別々の:separate
	合間:between
	2 個の:two
	この:this
	その:that
	そのような:such
	もの:thing


●●link_map


pe.attr():#selectordef-attr
t.ident:~CSSVAL#typedef-ident
t.na-name:#typedef-na-name
t.na-prefix:#typedef-na-prefix
t.namespace-attr:#typedef-namespace-attr
属性~node選択子:#attribute-node-selector

出自の要素:~SELECTORS#originating-element
疑似要素:~SELECTORS#pseudo-element

名前空間~接頭辞:~CSSNS#namespace-prefix
~null名前空間:~CSSNS#null-namespace
宣言-済み:~CSSNS#declaration


●●spec_metadata



最新発行バージョン
	https://www.w3.org/TR/selectors-nonelement-1/

編集者草案
	https://drafts.csswg.org/selectors-nonelement/

以前のバージョン
	https://www.w3.org/TR/2014/WD-selectors-nonelement-1-20140603/

編集
	<a href="mailto:jirka@kosek.cz">Jirka Kosek</a> (Invited Expert)
	<a href="http://xanthir.com/contact/">Tab Atkins Jr.</a> (Google)

最新の課題
	<a href="https://github.com/w3c/csswg-drafts/labels/selectors-nonelement-1">GitHub Issues</a>


●●ref_normative
[CSS-NAMESPACES-3]
    Elika Etemad. CSS Namespaces Module Level 3. URL: https://www.w3.org/TR/css-namespaces-3/ 
[CSS-VALUES-3]
    Tab Atkins Jr.; Elika Etemad. CSS Values and Units Module Level 3. URL: https://www.w3.org/TR/css-values-3/ 
[RFC2119]
    S. Bradner. Key words for use in RFCs to Indicate Requirement Levels. March 1997. Best Current Practice. URL: https://tools.ietf.org/html/rfc2119 
[SELECTORS-4]
    Selectors Level 4 URL: https://www.w3.org/TR/selectors4/ 
[SELECTORS4]
    Elika Etemad; Tab Atkins Jr.. Selectors Level 4. 2 May 2013. WD. URL: https://www.w3.org/TR/selectors4/


●●ref_informative
[CSS3SYN]
    Tab Atkins Jr.; Simon Sapin. CSS Syntax Module Level 3. URL: https://www.w3.org/TR/css-syntax-3/ 
[SELECTORS-API]
    Anne van Kesteren; Lachlan Hunt. Selectors API Level 1. 21 February 2013. REC. URL: https://www.w3.org/TR/selectors-api/


●●trans_metadata
<p>
~THIS_PAGEは、~W3Cにより編集者草案として公開された
<a href="~SPEC_URL">CSS Non-element Selectors Module Level 1</a>
を日本語に翻訳したものです。
~PUB
</p>

</script>

</head><body>

<header>
	<hgroup>
<h1>Non-element Selectors Module Level 1</h1>
	</hgroup>
</header>


<div id="MAIN" style="display:none;">

	<section id="abstract">
<h2 title="Abstract">要約</h2>

<p>
Non-element Selectors
— 非要素~選択子 —
は、 `SELECTORS4$r を拡張して，要素~以外の種類の文書~内~nodeも選択できるようにする。
これは、選択子が，一般的な文書~query言語として利用されるときに有用になる。
非要素~選択子には、~CSSにおける利用は意図されてはいない
— 他の~host環境における~query言語としてに限られる。
◎
Non-element Selectors extends [SELECTORS4] and allow selecting other kinds of document nodes than elements. This is useful when selectors are used as a general document query language. Non-element Selectors are not intended to be used in CSS, but only as a separate query language in other host environments.
</p>

~CSSisaLANG

	</section>
	<section id="status">
<h2 title="Status of this document">この文書の位置付け</h2>

<p>
これは編集者草案の公開の複製です…
【以下，この節の他の内容は <a href="css-common-ja.html#status">CSS 日本語訳 共通ページ</a>に委譲。】
</p>

	</section>

<main id="MAIN0">

	<section id="intro">
<h2 title="Introduction">1. 序論</h2>


<p>
選択子は、
~HTML／~XML
内容~内のものを選択するために普及している仕組みである。
それらは、~CSS `CSS3SYN$r における利用のみならず，［
<a href="http://jquery.com/">jQuery</a> などの~library ／
`SELECTORS-API$r の様な新たに標準~化された~browser~API ／
<a href="https://www.w3.org/TR/its20/">ITS 2.0</a>
の様な他の~Web標準
］においても，自立的な~query言語として利用される。
◎
Selectors are a very popular mechanism for selecting things in HTML and XML content. They are not used only in CSS [CSS3SYN] but also as a standalone query language in libraries like jQuery, in newer standardized browser APIs like [SELECTORS-API] and in other Web standards like ITS 2.0.
</p>


<p>
`SELECTORS4$r 仕様が定義している選択子は，文書から要素~nodeを選択するものに限られているが、他の型の~nodeを選択する選択子が~~望まれることもある。
この仕様は、文書~木~内の非要素~nodeを選択するための選択子を追加して，
`SELECTORS4$r を拡張する。
◎
The [SELECTORS4] specification only defines selectors for selecting element nodes from the document, but some uses of Selectors would like to select other types of nodes as well. This specification extends [SELECTORS4] with additional selectors that can be used for selecting non-element nodes in a document tree.
</p>


<p class="note">注記：
現在、この草案は属性~nodeを［
選択する／照合する
］ための手段しか定義していないが、将来には
~comment／処理命令などの
他種の~nodeも~supportするかもしれない。
◎
Note: Currently the draft only defines means for selecting and matching attribute nodes, but other kinds of nodes, such as comments or processing instructions, might be supported in the future.
</p>

	</section>
	<section id="non-element-selectors">
<h2 title="Non-element Selectors">2. 非要素 選択子</h2>

		<section id="attribute-node-selectors">
<h3 title="Attribute node selector">2.1. 属性~node選択子</h3>

<p>
`属性~node選択子@
は、文書~木~内の属性~nodeを表現する。
その構文は：
◎
An attribute node selector represents an attribute node in a document tree. Its syntax is:
</p>


<pre class="prod">
`attr()@pe = ::attr( `namespace-attr$t? )
`namespace-attr@t = [ `na-prefix$t? '|' ]? `na-name$t
`na-prefix@t = `ident$t | '*'
`na-name@t = `ident$t | '*'
</pre>

<p>
`namespace-attr$t を成す~tokenたちの合間には、空白は許容されない。
◎
No whitespace is allowed between the tokens of &lt;namespace-attr&gt;.
</p>

<div >
<p>
`namespace-attr$t は、順に，次の 2 つの部分からなる：
</p>

<ol><li>文字 '`|^css' に先行する接頭辞（省略可の `na-prefix$t ）
</li><li>後続する属性~名（ `na-name$t ）
</li></ol>

◎
&lt;namespace-attr&gt; is divided into two halves: an optional prefix preceding a '|' character, and an attribute name following it.
</div>

<div >
<p>
選択子は、`疑似要素$の構文を利用する。
選択子が合致するのは、`出自の要素$が有する属性~nodeのうち：
</p>

<ul>
	<li>
`namespace-attr$t がまるごと省略されている場合、どの属性~nodeにも合致する。
</li>
	<li>
<p>
他の場合、属性~nodeに関して次の両者とも満たされるとき，合致する：
</p>
		<ul>
			<li>
<p>
`na-prefix$t に応じて，次のいずれかが満たされる：
</p>

<ul><li>文字 `*^css である。
</li><li>省略されていて，属性は`~null名前空間$に属する。
</li><li>`ident$t として供されていて，それはある`宣言-済み$の`名前空間~接頭辞$に合致していて、属性は その接頭辞に対応付けられた名前空間に属する。
（合致する宣言-済みの`名前空間~接頭辞$がない場合、選択子は何にも合致しないことになる。）
【接頭辞が宣言されている~stylesheetはどれでもよいのか？ 複数の~stylesheetが同じ接頭辞を宣言しつつ，異なる名前空間に対応付けている場合はどうなる？】
</li></ul>

			</li>
			<li>
<p>
`na-name$t に応じて，次のいずれかが満たされる：
</p>

<ul><li>文字 `*^css である。
</li><li>`ident$t として供されていて，それは属性の名前に合致する。
</li></ul>

			</li>
		</ul>
	</li>
</ul>


◎
If the &lt;na-prefix&gt; is provided as an &lt;ident&gt;, it must match a declared namespace prefix, in which case the selector only matches attributes in that namespace; if it doesn’t match a declared namespace prefix, the selector matches nothing. If the &lt;na-prefix&gt; is provided as a * character, the selector matches attributes in any namespace. If the &lt;na-prefix&gt; is omitted, the selector only matches attributes in no namespace.
◎
If the &lt;na-name&gt; is an &lt;ident&gt;, the selector matches attributes with that name. If the &lt;na-name&gt; is a * character, the selector matches attributes with any name.
◎
If the &lt;namespace-attr&gt; is omitted entirely, the selector matches any attribute in any namespace.
◎
The selector matches an attribute node with the given namespace and name on the originating element, if such an attribute exists.
◎
The selector uses pseudo-element syntax.
</div>

<div class="example">

<p>
次の ITS 規則は、属性~node選択子を利用して，
`abbr^e 要素の `title^a 属性に対する翻訳可否を否に切替える。
◎
The following ITS rules use an attribute node selector to switch off translatability of title attribute on abbr elements.
</p>


<pre>
&lt;rules xmlns="http://www.w3.org/2005/11/its"
       version="2.0"
       queryLanguage="css"&gt;
  &lt;translateRule selector="abbr::attr(title)" translate="no"/&gt;
&lt;/rules&gt;
</pre>

</div>

<p>
`属性~node選択子$は、~CSSの視野~内で利用されても まったく妥当であるが，それが~boxを生成することは決してない。
◎
Although entirely valid in Selectors used in the scope of CSS, attribute node selectors never generate boxes.
</p>

		</section>
	</section>

</main></div><!-- MAIN -->

