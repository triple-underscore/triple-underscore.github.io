<!DOCTYPE html><html lang="ja"><head><meta charset="utf-8">
<title>User Timing Level 2 — （日本語訳）</title>

<link rel="stylesheet" href="common.css" type="text/css" />
<link rel="stylesheet" href="common-w3c.css" type="text/css" />
<style type="text/css">

</style>

<script src="common0.js" ></script>
<script src="common1.js" async></script>


<script>

Util.ready = function(){
	const source_data = {
		generate: expand,
	};
	Util.switchWordsInit(source_data);
}

function expand(){

	const class_map = {
//		l: 'literal',
		E: 'error',
		css: 'css',
	};

	const tag_map = {
		I: 'code',
		E: 'code',
		m: 'code',
		c: 'code',
	};

	const link_map = this.link_map;

	return this.html.replace(
		/%[\w~一-鿆]+|`(.+?)([$@\^])(\w*)/g,
		create_html
	);

	function create_html(match, key, indicator, klass){

if(!key) {//%
	return '<var>' + match.slice(1) + '</var>';
}

let text = key;
let href = '';
let classname = class_map[klass];
let tag = tag_map[klass];

switch(klass){
case 'r': // ref
	text = '[' + key + ']';
	href = '#bib-' + key;
	break;
case 'l': // literal
	text = '"<code class="literal">' + text + '</code>"'
	break;
case 'm': // IDL member
	const n = text.indexOf('(');
	if(n > 0){
		key = text.slice(0, n);
		text = key + text.slice(n).replace(/\w+/g, '<var>$&</var>');
	}
	break;
}

if(tag) {
	text = '<' + tag + (
		classname ? ' class="' + classname + '"' : ''
	) + '>' + text + '</' + tag + '>';
}


if(indicator !== '^'){
	href = link_map[klass ? (klass + '.' + key) : key] || href;
	if(!href){
		console.log(match); // check error
		return match;
	}

	switch(indicator){
	case '$':
		text = '<a href="' + href + '">' + text + '</a>';
		break;
	case '@':
		text = '<dfn id="' + href.slice(1) + '">' + text + '</dfn>';
		break;
	}
}

return text;


	}
}



</script>



<script type="text/plain" id="_source_data">


●●options

spec_title:User Timing Level 2
spec_date:2018-07-09
trans_update:2018-07-15
source_checked:180222
page_state_key:TIMING
original_url:http://w3c.github.io/user-timing/
spec_status:ED
ref_id_prefix:bib-
conformance:w3c
copyright:2018,permissive
trans_1st_pub:2016-02-24


●●original_id_map


time-value:
time-duration:


●●words_table1


NAV-TIMING:navigation-timing-ja.html


●●words_table


entry:::エントリ
buffer:::バッファ
mark:::マーク
時列線:timeline::~:タイムライン
処理能:performance::~:パフォーマンス
処理能時列線:Performance Timeline::~:パフォーマンスタイムライン
時間:time::~
時刻印:timestamp:~::タイムスタンプ
時刻:time::~
所要時間:duration::~
始端:start::~
終端:end::~
	始端~時刻:startTime
	終端~時刻:endTime
計時:timing::~
測定:measure:~
	測定~名:measure name:~
	計測:measure::~
単調増加-:monotonic に increase:~
近過去:recent::~
記録-:record::~
格納-:store:~
	格納-済み:stored
遅延:latency::~
精度:precision:~
高精度:high precision:~
高分解能:high-resolution:~
高分解能な:high-resolution:~
計量:metric:~
通知:notification:~
受取る:receive する:受け取る
queue:::キュー
追加-:add:~
設定-:set:~


	●IDL
interface:::インタフェース
method:::メソッド
obj:object::オブジェクト
辞書:dictionary::デイクショナリ
空:empty:~
属性:attribute:~
文書:document:~
新たな:new:~

list:::リスト
名前:name:~
名:name:~
文字列:string:~
値:value:~
型:type:~
識別子:identifier:~
公開-:expose:~
作成-:create:~
投出-:throw:~
	例外:exception:~
構築子:constructor:~
被呼出時:被 invoke 時:~
呼出した:invoke した:呼び出した

投出:throw:~
属性:attribute:~
適合性:conformance:~
引数:argument:~

	値:value:~
	返り値:~

	●他
JS:JavaScript
algo:::アルゴリズム
code:::コード
log:::ログ
data:::データ
access:::アクセス
生成元:origin:~::オリジン
関係-:relate:~
除去-:remove:~
活動:activity:~
	感知:sensitive:~
大域:global::~:グローバル
	アルゴリズム:algorithm
app:application::アプリケーション
web:::ウェブ
script:::スクリプト
保安:security::~:セキュリティ
privacy:::プライバシー
	バージョン:version

page:::ページ
platform:::プラットフォーム
	クリア:clear
UA:user agent:UA::ユーザエージェント
利用者:user:~
現在の:current:~
文書:document:~
	内容:content:~

検索取得-:retrieve:取得
	retrieval
手続き:steps:~
走って:run して:~
走らす:run する:~
走らせ:run し:~
読取れる:read できる:読み取れる
読専:read only:~
変換-:convert:~
	所与の:given
	その:that
	返す:return
	結果:result
	利用-:use#1
	この:this
	他の:other
	−:subtracting
	今や:now
	あり続ける:remain

	●仕様
	discouraged:::~
support:::サポート
UA:user agent:UA
app:application::アプリ
version:::バージョン
web::::ウェブ
仕様:spec:~
定義-:define:~
定義:definition:~
	導入-:introduce:~
拡張-:extend:~
拡張:extension:~
供-:provide:~
開発者:developer:~
情報:information:~
結付けら:associate さ:結び付けら
結付けて:associate して:結び付けて
指定-:specify:~
依存-:depend:~
設計:design:~
共有:sharing:~
制約:restriction:~
特性:characteristics:~
理解-:understand:~
拡張:extension:~
拡張-:extend:~
特定0の:particular:ある特定の
可用:available:~
	適する best suited
最適化-:optimize:~
統合:integration:~
処理:processing:~
明確化:clarifications:~
考慮点:considerations:~
設計-:design:~
不変則:invariant:~
見なさ:consider さ:~
廃用に:obsolete:~
後方互換:backwards compatible:~
機能性:functionality:~
能:ability:~
拡張-:extend:~
将来:future:~
計画:plan:~
仕組み:mechanism:~
意図-:intend:~
	取って代わる:supersede

●●link_map

E.InvalidAccessError:~WEBIDL#invalidaccesserror
E.SyntaxError:~WEBIDL#syntaxerror
I.Window:~WINDOW#window
I.Performance:~HRTIME#dfn-performance
	#extensions-performance-interface
DOMString:~WEBIDL#idl-DOMString

I.PerformanceMark:#dom-performancemark
I.PerformanceMeasure:#dom-performancemeasure
I.PerformanceObserver:~TIMELINE#the-performanceobserver-interface
I.DOMHighResTimeStamp:~HRTIME#dom-domhighrestimestamp
	#dom-domhighrestimestamp
I.PerformanceEntry:~TIMELINE#dom-performanceentry

	＊level 1
I.PerformanceTiming:~NAV-TIMING#dom-performancetiming
I.PerformanceNavigationTiming:~NAV-TIMING#dom-performancenavigationtiming

m.navigationStart:~NAV-TIMING#dom-performancetiming-navigationstart
m.mark:#dom-performance-mark
m.clearMarks:#dom-performance-clearmarks
m.measure:#dom-performance-measure
m.clearMeasures:#dom-performance-clearmeasures
m.now:~HRTIME#dom-performance-now
m.getEntries:~TIMELINE#dom-performance-getentries
m.getEntriesByType:~TIMELINE#dom-performance-getEntriesbytype

	name
	entryType
	startTime
	duration

処理能~entry~buffer:~TIMELINE#dfn-performance-entry-buffer
処理能~entryを~queueする:~TIMELINE#dfn-queue-a-performanceentry

現在の高分解能~時刻:~HRTIME#dfn-current-high-resolution-time
	Standard Mark Name:#ut-standard-mark-names

処理能時列線:~TIMELINE#dfn-performance-timeline
	#performance-timeline

時刻~値:#time-value
所要時間:#time-duration
名前を時刻印に変換する:#dfn-convert-a-name-to-a-timestamp

大域~obj:~WAPI#global-object
読専:~WEBIDL#dfn-read-only


●●ref_normative

[HR-TIME-2]
    High Resolution Time Level 2. Ilya Grigorik; James Simonsen; Jatinder Mann. W3C. 1 March 2018. W3C Candidate Recommendation. URL: https://www.w3.org/TR/hr-time-2/
[HTML51]
    HTML 5.1 2nd Edition. Steve Faulkner; Arron Eicholz; Travis Leithead; Alex Danilo. W3C. 3 October 2017. W3C Recommendation. URL: https://www.w3.org/TR/html51/
[NAVIGATION-TIMING]
    Navigation Timing. Zhiheng Wang. W3C. 17 December 2012. W3C Recommendation. URL: https://www.w3.org/TR/navigation-timing/
[NAVIGATION-TIMING-2]
    Navigation Timing Level 2. Ilya Grigorik; Tobin Titus; Jatinder Mann; Arvind Jain. W3C. 5 December 2017. W3C Working Draft. URL: https://www.w3.org/TR/navigation-timing-2/
[PERFORMANCE-TIMELINE-2]
    Performance Timeline Level 2. Ilya Grigorik; Jatinder Mann; Zhiheng Wang. W3C. 8 December 2016. W3C Candidate Recommendation. URL: https://www.w3.org/TR/performance-timeline-2/
[RFC2119]
    Key words for use in RFCs to Indicate Requirement Levels. S. Bradner. IETF. March 1997. Best Current Practice. URL: https://tools.ietf.org/html/rfc2119
[WEBIDL]
    Web IDL. Cameron McCormack; Boris Zbarsky; Tobie Langel. W3C. 15 December 2016. W3C Editor's Draft. URL: https://heycam.github.io/webidl/
[WORKERS]
    Web Workers. Ian Hickson. W3C. 24 September 2015. W3C Working Draft. URL: https://www.w3.org/TR/workers/

●●ref_informative

[ECMA-262]
    ECMAScript Language Specification. Ecma International. URL: https://tc39.github.io/ecma262/
[USER-TIMING]
    User Timing. Jatinder Mann; Zhiheng Wang; Anderson Quach. W3C. 12 December 2013. W3C Recommendation. URL: https://www.w3.org/TR/user-timing/


●●trans_metadata

<p>
~THIS_PAGEは、~W3Cにより編集者草案として公開された
<a href="~SPEC_URL">User Timing</a>
を日本語に翻訳したものです。
~PUB
</p>


●●spec_metadata

最新発行バージョン
	https://www.w3.org/TR/user-timing-2/

編集者草案
	https://w3c.github.io/user-timing/

テスト一式
	https://wpt.fyi/results/user-timing

実装報告
	https://wpt.fyi/results/user-timing

編集
	<a href="igrigorik@gmail.com">Ilya Grigorik</a> (Google)

前任編集者
	Jatinder Mann, Microsoft Corp. (Until February 2014)
	Zhiheng Wang, Google Inc. (Until July 2013)
	Anderson Quach, Microsoft Corp. (until March 2011)

Participate:
	<a href="https://github.com/w3c/user-timing/">GitHub w3c/user-timing</a>
	<a href="https://github.com/w3c/user-timing/issues/">File a bug</a>
	<a href="https://github.com/w3c/user-timing/commits/gh-pages/index.html">Commit history</a>
	<a href="https://github.com/w3c/user-timing/pulls/">Pull requests</a>

実装
	<a href="http://caniuse.com/#feat=user-timing">Can I use User Timing?</a>

Mailing list
	<a href="https://lists.w3.org/Archives/Public/public-web-perf/">public-web-perf@w3.org</a> (<a href="public-web-perf-request@w3.org">subscribe</a>, <a href="https://lists.w3.org/Archives/Public/public-web-perf/">archives</a>)


</script>

</head>
<body>

<header>


	<hgroup>
<h1>User Timing — 利用者計時</h1>
	</hgroup>
</header>


<div id="MAIN" style="display:none;">

	<section id="abstract">
<h2 title="Abstract">要約</h2>

<p>
この仕様は、高精度な時刻印への~accessを与えることにより，~web開発者による自身の~appの処理能の測定を支援するための~interfaceを定義する。
◎
This specification defines an interface to help web developers measure the performance of their applications by giving them access to high precision timestamps.
</p>
	</section>

	<section id="sotd">
<h2 title="Status of This Document">この文書の位置付け</h2>

<p>
これは編集者草案の公開の複製です…
<!-- 
この節では、発行時点における…
-->
【以下、この節の他の内容は <a href="w3c-common-ja.html#status" >W3C 日本語訳 共通ページ</a>に委譲。】
</p>

<p>
User Timing Level 2 は、最初の~version `USER-TIMING$r に取って代わることを意図する。
また、次を含む：
◎
User Timing Level 2 is intended to supersede the first version of [USER-TIMING] and includes:
</p>

<ul>
	<li>
`HR-TIME-2$r との統合を介して
Web Workers `WORKERS$r における
`PerformanceMark$I, `PerformanceMeasure$I 
を~supportする。
◎
Support for PerformanceMark and PerformanceMeasure in Web Workers [WORKERS] via integration with [HR-TIME-2];
</li>
	<li>
`NAVIGATION-TIMING$r に定義される
`PerformanceTiming$I ~interfaceを参照する~mark名に対する処理の明確化。
◎
Processing clarifications for mark names that reference PerformanceTiming interface defined in [NAVIGATION-TIMING].
</li>
</ul>

<p>
この文書は
<a href="https://www.w3.org/webperf/">Web PerformanceWorking Group</a>
により編集者草案として発行されました。
◎
This document was published by the Web Performance Working Group as an Editor's Draft.
以下省略
</p>

	</section>

<main id="MAIN0">

	<section id="introduction">
<h2 title="Introduction">1. 序論</h2>

~INFORMATIVE


<p>
~web開発者は、~appの処理能~特性について，~accessし, 理解する能を必要とする。
~JS `ECMA-262$r は，~appの遅延を測定する仕組み（ `Date.now()^m ~methodで現在の時刻印を検索取得する）を供するが、この時刻印の精度は~UAによってまちまちである。
◎
Web developers need the ability to assess and understand the performance characteristics of their applications. While JavaScript [ECMA-262] provides a mechanism to measure application latency (retrieving the current timestamp from the Date.now() method), the precision of this timestamp varies between user agents.
</p>

<p>
この文書は、高精度かつ単調増加する時刻印を公開する［
`PerformanceMark$I, `PerformanceMeasure$I
］~interfaceを定義し，
`Performance$I ~interfaceを拡張して、開発者が~appの処理能をより良く測定できるようにする。
◎
This document defines the PerformanceMark and PerformanceMeasure interfaces, and extensions to the Performance interface, which expose a high precision, monotonically increasing timestamp so that developers can better measure the performance characteristics of their applications.
</p>

<div class="example">
<p>
次の~scriptに，開発者が~scriptに関係する計時~dataを得るために、この文書で定義される~interfaceを利用する例を示す：
◎
Example 1
◎
The following script shows how a developer can use the interfaces defined in this document to obtain timing data related to developer scripts.
</p>

<pre>
async function run() {
  performance.mark("startTask1");
  await doTask1(); /* <span class="comment">
何らかの開発者~code
◎
Some developer code
</span> */
  performance.mark("endTask1");

  performance.mark("startTask2");
  await doTask2(); /* <span class="comment">
何らかの開発者~code
◎
Some developer code
</span> */
  performance.mark("endTask2");

  /* <span class="comment">
~logに出す
◎
Log them out
</span> */
  const %entries = performance.getEntriesByType("mark");
  for (const %entry of %entries) {
    console.table(%entry.toJSON());
  }
}
run();
</pre>
</div>


<div class="p">
<p>
`PERFORMANCE-TIMELINE-2$r は、記録された計量を検索取得するときに利用できる 2 つの仕組みを定義する：
</p>

<ul>
	<li>
`getEntries()$m, `getEntriesByType()$m
~methodは、ある時点の特定0の計量を名前で検索取得するときに適する。
</li>
	<li>
`PerformanceObserver$I ~interfaceは、新たな計量が可用になり次第，その通知を受取る場合に最適化されている。
</li>
</ul>

◎
[PERFORMANCE-TIMELINE-2] defines two mechanisms that can be used to retrieve recorded metrics: getEntries() and getEntriesByType() methods, and the PerformanceObserver interface. The former is best suited for cases where you want to retrieve a particular metric by name at a single point in time, and the latter is optimized for cases where you may want to receive notifications of new metrics as they become available.
</div>

	</section>
	<section id="conformance">

<h2 title="Conformance">2. 適合性</h2>

<p class="trans-note">【
この節の内容は
<a href="w3c-common-ja.html#conformance" >W3C 日本語訳 共通ページ</a>
に委譲
】</p>
<!-- 
 As well as sections marked as non-normative, all authoring guidelines, diagrams, examples, and notes in this specification are non-normative. Everything else in this specification is normative.

The key words MAY and MUST are to be interpreted as described in [RFC2119].

Some conformance requirements are phrased as requirements on attributes, methods or objects. Such requirements are to be interpreted as requirements on user agents.

The IDL fragments in this specification MUST be interpreted as required for conforming IDL fragments, as described in the Web IDL specification. [WebIDL]

-->

	</section>
	<section id="_conventions">
<h3>【この訳に固有の表記規約】</h3>

<p>
この訳の，~algoや定義の記述に利用されている各種記号（ ~LET, ~EQ, ~IF, ~EACH (…), ~RET, 等々）の意味や定義の詳細は、~SYMBOL_DEF_REFを~~参照されたし。
</p>

<p>
次の非公式な用語を導入する：
</p>

<ul>
	<li>
`時刻~値@ ／ `所要時間@
と記されたときは、何らかの
時刻 ／ 時間~差
を表現する `DOMHighResTimeStamp$I 型の値を表すとする。
`HR-TIME-2$r
</li>
</ul>

	</section>
	<section id="user-timing">
<h2 title="User Timing">3. 利用者~計時</h2>

		<section id="extensions-performance-interface">
<h3 title="Extensions to the Performance Interface">3.1. `Performance^I ~interfaceに対する拡張</h3>

<p>
`Performance$I ~interfaceは、`HR-TIME-2$r にて定義される。
◎
The Performance interface is defined in [HR-TIME-2].
</p>

<pre class="idl">
partial interface `Performance$I {
  void `mark$m(DOMString %markName);
  void `clearMarks$m(optional DOMString %markName);

  void `measure$m(
      `DOMString$ %measureName,
      optional `DOMString$ %startMark,
      optional `DOMString$ %endMark
  );
  void `clearMeasures$m(optional `DOMString$ %measureName);
};
</pre>


<dl>
	<dt id="mark-method">
`mark(markName)@m
◎
3.1.1 mark() method
</dt>
	<dd>
この~methodは、時刻印に所与の名前（ “~mark” ）を結付けて格納する。
◎
Stores a timestamp with the associated name (a "mark").＼
</dd>
	<dd>
<p>
被呼出時には、次を走らせ~MUST：
◎
It MUST run these steps:
</p>
		<ol>
			<li>
~IF［
`大域~obj$は `Window$I ~objである
］~AND［
%markName は
`PerformanceTiming$I ~interface内のある`読専$属性の名前である
］
⇒
~THROW `SyntaxError$E
◎
If the global object is a Window object and markName uses the same name as a read only attribute in the PerformanceTiming interface, throw a SyntaxError.
</li>
		    <li>
%~entry ~LET 各種~属性が次のように設定された新たな `PerformanceMark$I ~obj
⇒＃
`name^m ~SET %markName,
`entryType^m ~SET `mark^l,
`startTime^m ~SET `現在の高分解能~時刻$,
`duration^m ~SET 0
◎
Create a new PerformanceMark object (entry).
• Set entry's name attribute to markName.
• Set entry's entryType attribute to DOMString "mark".
• Set entry's startTime attribute to the value that would be returned by the Performance object's now() method.
• Set entry's duration attribute to 0.
</li>
			<li>
`処理能~entryを~queueする$( %~entry )
◎
Queue entry.
</li>
			<li id="stored_mark">
%~entry を`処理能~entry~buffer$に追加する
◎
Add entry to the performance entry buffer.
◎
Return undefined.
</li>
		</ol>
	</dd>

	<dt id="clearmarks-method">
`clearMarks(markName)@m
◎
3.1.2 clearMarks() method
</dt>
	<dd>
この~methodは、格納-済み時刻印のうち，所与の名前が結付けられたものを除去する。
◎
Removes the stored timestamp with the associated name.＼
</dd>
	<dd>
被呼出時には、`処理能~entry~buffer$から，次を満たす `PerformanceMark$I ~objすべてを除去し~MUST
⇒
%markName は与えられていないならば無条件 ／
~ELSE_ `name^m ~EQ %markName なるもの
◎
It MUST run these steps:
◎
If markName is omitted, remove all PerformanceMark objects from the performance entry buffer.
◎
Otherwise, remove all PerformanceMark objects listed in the performance entry buffer whose name matchesmarkName.
◎
Return undefined.
</dd>

	<dt id="measure-method">
`measure(measureName, startMark, endMark)@m
◎
3.1.3 measure() method
</dt>
	<dd>
この~methodは、
2 つの~markの間の`所要時間$（ “測定” ）に所与の名前を結付けて格納する。
◎
Stores the DOMHighResTimeStamp duration between two marks along with the associated name (a "measure").＼
</dd>
	<dd>
<p>
被呼出時には、次を走らせ~MUST：
◎
It MUST run these steps:
</p>
		<ol>
			<li>
%終端~時刻 ~LET ［
%endMark は与えられていないならば`現在の高分解能~時刻$ ／
~ELSE_ `名前を時刻印に変換する$( %endMark ) の結果
］
◎
Let end time be 0.
◎
If endMark is omitted, let end time be the value that would be returned by the Performance object's now() method. Otherwise:
• If endMark has the same name as a read only attribute in the PerformanceTiming interface, let end time be the value returned by running the convert a name to a timestamp algorithm with name set to the value of endMark.
• Otherwise let end time be the value of the startTime attribute from the most recent occurrence of a PerformanceMark object in the performance entry buffer whose name matches the value of endMark. If no matching entry is found, throw a SyntaxError.
</li>
			<li>
%始端~時刻 ~LET ［
%startMark は与えられていないならば 0 ／
~ELSE_ `名前を時刻印に変換する$( %startMark ) の結果
］
◎
If startMark is omitted, let start time be 0. Otherwise:
• If startMark has the same name as a read only attribute in the PerformanceTiming interface, let start time be the value returned by running the convert a name to a timestamp algorithm with name set to startMark.
• Otherwise let start time be the value of the startTime attribute from the most recent occurrence of a PerformanceMark object in the performance entry buffer whose name matches the value of startMark. If no matching entry is found, throw a SyntaxError.
</li>
			<li>
%~entry ~LET 各種~属性が次のように設定された新たな `PerformanceMeasure$I ~obj
⇒＃
`name^m ~SET %measureName,
`entryType^m ~SET `measure^l,
`startTime^m ~SET %始端~時刻,
`duration^m ~SET %終端~時刻 − %始端~時刻 （負にもなり得る）
◎
Create a new PerformanceMeasure object (entry).
• Set entry's name attribute to measureName.
• Set entry's entryType attribute to DOMString "measure".
• Set entry's startTime attribute to start time.
• Set entry's duration attribute to the duration from start time to end time. The resulting duration value MAY be negative.
</li>
			<li>
`処理能~entryを~queueする$( %~entry )
◎
Queue entry.
</li>
		    <li id="stored_measure">
`処理能~entry~buffer$に %~entry を追加する
◎
Add entry to the performance entry buffer.
◎
Return undefined.
</li>
		</ol>
	</dd>

	<dt id="clearmeasures-method">
`clearMeasures(measureName)@m
◎
3.1.4 clearMeasures() method
</dt>
	<dd>
この~methodは、所与の名前が結付けられた，格納-済み時刻印を除去する。
◎
Removes stored timestamp with the associated name.＼
</dd>
	<dd>
被呼出時には、`処理能~entry~buffer$から，次を満たす `PerformanceMeasure$I ~objすべてを除去し~MUST
⇒
%measureName は与えられていないならば無条件 ／
~ELSE_ `name^m ~EQ %measureName なるもの
◎
It MUST run these steps:
◎
If measureName is omitted, remove all PerformanceMeasure objects in the performance entry buffer.
◎
Otherwise remove all PerformanceMeasure objects listed in the performance entry buffer whose name matches measureName.
◎
Return undefined.
</dd>
</dl>

		</section>
		<section id="performancemark">
<h3 title="The PerformanceMark Interface">3.2. `PerformanceMark^I ~interface</h3>

<p>
`PerformanceMark$I ~interfaceは、
`mark()$m ~methodを介して作成された~markも`処理能時列線$に公開する。
◎
The PerformanceMark interface also exposes marks created via the performance.mark method to the Performance Timeline.
</p>

<pre class="idl">
[Exposed=(Window,Worker)]
interface `PerformanceMark@I : `PerformanceEntry$I {
};
</pre>


<p>
`PerformanceMark$I ~interfaceは `PerformanceEntry$I ~interfaceの次の属性を拡張する：
◎
The PerformanceMark interface extends the following attributes of the PerformanceEntry interface:
</p>

<dl>
	<dt>`name^m</dt>
	<dd>
~mark名を返さ~MUST。
◎
The name attribute must return the mark's name.
</dd>

	<dt>`entryType^m</dt>
	<dd>
文字列 `mark^l を返さ~MUST。
◎
The entryType attribute must return the DOMString "mark".
</dd>

	<dt>`startTime^m</dt>
	<dd>
~markの`時刻~値$を返さ~MUST。
◎
The startTime attribute must return a DOMHighResTimeStamp with the mark's time value.
</dd>

	<dt>`duration^m</dt>
	<dd>
`所要時間$ 0 を返さ~MUST。
◎
The duration attribute must return a DOMHighResTimeStamp of value 0.
</dd>

</dl>

		</section>
		<section id="performancemeasure">
<h3 title="The PerformanceMeasure Interface">3.3 `PerformanceMeasure^I ~interface</h3>

<p>
`PerformanceMeasure$I ~interfaceは、 `measure()$m ~methodにより作成された測定も`処理能時列線$に公開する。
◎
The PerformanceMeasure interface also exposes measures created via the performance.measure method to the Performance Timeline.
</p>

<pre class="idl">
[Exposed=(Window,Worker)]
interface `PerformanceMeasure@I : `PerformanceEntry$I {
};
</pre>

<p>
`PerformanceMeasure$I ~interfaceは、
`PerformanceEntry$I ~interfaceの次の属性を拡張する：
◎
The PerformanceMeasure interface extends the following attributes of the PerformanceEntry interface:
</p>

<dl>
	<dt>`name^m</dt>
	<dd>
測定の名前を返さ~MUST。
◎
The name attribute must return the measure's name.
</dd>

	<dt>`entryType^m</dt>
	<dd>
文字列 `measure^l を返さ~MUST。
◎
The entryType attribute must return the DOMString "measure".
</dd>

	<dt>`startTime^m</dt>
	<dd>
測定の始端~markの`時刻~値$を返さ~MUST。
◎
The startTime attribute must return a DOMHighResTimeStamp with the measure's start mark.
</dd>

	<dt>`duration^m</dt>
	<dd>
測定の`所要時間$を返さ~MUST。
◎
The duration attribute must return a DOMHighResTimeStamp with the duration of the measure.
</dd>
</dl>

		</section>
	</section>
	<section id="processing">
<h2 title="Processing">4. 処理</h2>

<p id="convert-a-name-to-a-timestamp">
`名前を時刻印に変換する@
ときは、所与の
( 文字列 %名前 )
に対し，次の手続きを走らす：
◎
4.1. Convert a name to a timestamp
◎
To convert a name to a timestamp given a name＼
</p>

<ol>
	<li>
<p>
~IF［
%名前 は `PerformanceTiming$I ~interface内のある`読専$属性の名前である
］：
◎
that is a read only attribute in the PerformanceTiming interface, run these steps:
</p>
		<ol>
			<li>
~IF［
`大域~obj$は `Window$I ~objでない
］
⇒
~THROW `SyntaxError$E
◎
If the global object is not a Window object, throw a SyntaxError.
</li>
			<li>
~IF［
%名前 ~EQ `navigationStart^l
］
⇒
~RET 0
◎
If name is navigationStart, return 0.
</li>
			<li>
%始端~時刻 ~LET
`PerformanceTiming$I ~interfaceの `navigationStart$m 値
◎
Let startTime be the value of navigationStart in the PerformanceTiming interface.
</li>
			<li>
%終端~時刻 ~LET
`PerformanceTiming$I ~interfaceの %名前 属性の値
◎
Let endTime be the value of name in the PerformanceTiming interface.
</li>
			<li>
~IF［
%終端~時刻 ~EQ 0
］
⇒
~THROW `InvalidAccessError$E
◎
If endTime is 0, throw an InvalidAccessError.
</li>
			<li>
~RET %終端~時刻 − %始端~時刻
◎
Return result of subtracting startTime from endTime.
</li>
		</ol>

<p class="note">
`NAVIGATION-TIMING$r にて定義される `PerformanceTiming$I ~interfaceは、今や廃用にされたものと見なされている。
`PerformanceTiming$I ~interfaceからの名前の利用は，後方互換であり続けるよう~supportされるが、将来に，この機能性を `NAVIGATION-TIMING-2$r に定義される `PerformanceNavigationTiming$I （あるいは他の~interface）内の名前にまで拡張する計画は無い。
◎
The PerformanceTiming interface was defined in [[NAVIGATION-TIMING]] and is now considered obsolete. The use of names from the PerformanceTiming interface is supported to remain backwards compatible, but there are no plans to extend this functionality to names in the PerformanceNavigationTiming interface defined in [[NAVIGATION-TIMING-2]] (or other interfaces) in the future.
</p>

	</li>
	<li>
<p>
~IF［
`処理能~entry~buffer$内の `PerformanceMark$I ~objに［
その `name^m 属性の値 ~EQ %名前
］なるものはある
］
⇒
~RET それらの~objの `startTime^m 属性~値のうち，最も近過去を指す値
</p>

<p class="trans-note">【
記述を集約するため、この訳では，この手続きを利用している他所の記述を この段と次の段に移動している。
】</p>
<!-- 
let .+time be the value of the startTime attribute from the most recent occurrence of a PerformanceMark object in the performance entry buffer whose name matches the value of .+Mark. If no matching entry is found, throw a SyntaxError.
 -->
	</li>
	<li>
~THROW `SyntaxError$E
</li>
</ol>

	</section>
	<section id="privacy-security">
<h2 title="Privacy and Security">5. ~privacyと保安</h2>

~INFORMATIVE

<p>
この仕様に定義される~interfaceは、~page上の特定の~JS活動を感知し得る計時~情報を公開する。
高分解能な計時~情報を公開する際の~privacyと保安の考慮点については
`HR-TIME-2$r を~~参照されたし。
◎
The interfaces defined in this specification expose potentially sensitive timing information on specific JavaScript activity of a page. Please refer to [HR-TIME-2] for privacy and security considerations of exposing high-resolution timing information.
</p>

<p>
~web~platformは、同じ~pageに含められれた どの~scriptも，それら~scriptの生成元（ origin ）に関わらず 同じ~accessを有する、という不変則の下に設計されているので、この仕様に定義される~interfaceは，［
計時~情報を記録する ／ 記録された計時~情報を検索取得する
］ときに制約を課すものではない。
すなわち、~pageに含められた~scriptにより記録された利用者~計時~markや測定は、同じ~pageで走っている他のどの~scriptからも，その生成元に関わらず読取れる。
◎
Because the web platform has been designed with the invariant that any script included on a page has the same access as any other script included on the same page, regardless of the origin of either scripts, the interfaces defined by this specification do not place any restrictions on recording or retrieval of recorded timing information - i.e. a user timing mark or measure recorded by any script included on the page can be read by any other script running on the same page, regardless of origin.
</p>

	</section>

</main></div><!-- MAIN -->

	<section id="acknowledgements">
<h2 title="Acknowledgements">謝辞</h2>

<p>
この仕事に協力された次の方々に感謝する：
</p>

<p lang="en-x-a0">
Thanks to

James Simonsen,
Jason Weber,
Nic Jansma,
Philippe Le Hegaret,
Karen Anderson,
Steve Souders,
Sigbjorn Vik,
Todd Reifsteck, and
Tony Gentilcore

for their contributions to this work.
</p>

	</section>
