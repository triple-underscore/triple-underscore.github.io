<!DOCTYPE html><html lang="ja"><head><meta charset="utf-8">
<title>CSS 2.2 — Collapsing margins （日本語訳）</title>

<link rel="stylesheet" href="common.css" type="text/css" />
<link rel="stylesheet" href="common-css.css" type="text/css" />

<style>

#box-example0 .plain0 {
	padding: 0.2em 1.5em 1.5em;
	position: relative;
	border: solid black 1px;
}

#box-example0 .anchor0 {
	position: absolute;
	width: 0;
	bottom: 0;
	right: 0;
	left: auto;
}
#box-example0 .label0 {
	position: absolute;
	white-space: nowrap;
	font-size: small;
	background: #FFF;
	text-align: left;
	bottom: 0;
	left: 3px;
}

#box-example0 .label1 {
	position: absolute;
	text-align:center;
	color: red;
	position:absolute;
	left: 0;
	right:0;
}

#box-example0 .label2 {
	color: red;
}

#box-example1 {
	margin: 1em;
}
#box-example1 > figure {
	display: inline-block;
	margin: 0;
	padding: 0 0 3em;
}

#box-example1 > figure > div {
	display: inline-block;
	width: 18.7em;
	position:relative;
}

#box-example1 ul {
	background: yellow;
	margin: 1.5em 12px;
	padding: 1.5em 12px;
}

#box-example1 ul > li {
	background: blue;
	color: white;
	margin: 1.5em 12px;
	padding: 1.5em 0px 1.5em 12px;
	position: relative;
	list-style: none;
}

#box-example1 .plain1 {
	position: absolute;
	top: 1.5em;
	bottom: 1.5em;
	left: 12px;
	right: 12px;
	border: none;
}

#box-example1 .edge1 {
	position: absolute;
	border: solid #DDD 1px;
	top: 0;
	bottom: 0;
	left: 0;
	right: 0;
}

#box-example1 .label1 {
	position: absolute;
	bottom: 2px;
	left: 4px;
	font-size: small;
}

#box-example1 .ruler1 {
	position: absolute;
	left:0;
	right:0;
	border: solid red 1px;
	border-style: none solid;
	text-align: center;
}

#box-example1 .ruler1 > div {
	position: absolute;
}

</style>

<script src="common0.js" ></script>
<script src="common1.js" async></script>

<script>
Util.ready = function(){
	const source_data = {
		generate: expand
	};
	Util.switchWordsInit(source_data);
}

function expand(){
	const class_map = this.class_map;
	const tag_map = this.tag_map;
	const link_map = this.link_map;

	return this.html.replace(
		/`(.*?)([$@^])(\w*)/g,
		create_html
	);

	function create_html(match, key, indicator, klass){

let text = key;
let href = '';

switch(klass){
case 'r':
	text = `[${key}]`;
	href = `#biblio-${key.toLowerCase()}`;
	break;
case 't':
	text = `&lt;${key}&gt;`;
	break;
case 'en':
	return `<span lang="en-x-a0">${key}</span>`;
	break;
}

let tag = tag_map[klass];
if(tag) {
	let classname = class_map[klass];
	classname = classname ? ` class="${classname}"` : '';
	text = `<${tag}${classname}>${text}</${tag}>`;
}

if(indicator !== '^'){
	href = link_map[ klass ? `${klass}.${key}` : key ] || href;
	if(!href){
		console.log(match); // check error
		return match;
	}

	switch(indicator){
	case '$':
		text = `<a href="${href}">${text}</a>`;
		break;
	case '@':
		text = `<dfn id="${href.slice(1)}">${text}</dfn>`;
		break;
	}
}

return text;

	}
}
</script>

<script type="text/plain" id="_source_data">


●●options

spec_date:2020-03-18
trans_update:2018-05-16
source_checked:180427
page_state_key:CSS
original_url:https://drafts.csswg.org/css2/box.html
	original_url:https://www.w3.org/TR/CSS22/box.html
spec_status:ED
site_nav:layout,css
trans_1st_pub:2015-06-07


●●class_map
p:property
css:css
t:type
e:element
v:value

●●tag_map
p:code
t:var
css:code
c:code
e:code
v:code
V:var

●●original_id_map


content-box:x10
padding-box:x12
border-box:x14
margin-box:x17
collapse:x26
collapsed-margin:x27
adjoining:x28
collapse-through:x29

●●mdn_urls

●●link_map

p.height:~CSS2VISUDET#propdef-height
p.min-height:~CSS2VISUDET#propdef-min-height
p.overflow:~CSS2VISUFX#propdef-overflow

連接して:#adjoining
相殺-:#collapse
相殺され:#collapse
相殺された~margin:#collapsed-margin
挟むように相殺-:#collapse-through

浮動-:~CSS2VISUREN#floats
浮動体:~CSS2VISUREN#floats
絶対的に位置され:~CSS2VISUREN#absolutely-positioned
~border:~CSSBOX#border
~padding:~CSSBOX#padding
~clearance:~CSS2VISUREN#clearance
塊~levelの~box:~CSS2VISUREN#block-boxes
塊~level:~CSS2VISUREN#block-boxes
塊~整形~文脈:~CSS2VISUREN#block-formatting

	●補完
行l~box:~CSS2VISUREN#line-box
~flow内:~CSS2VISUREN#in-flow
行内-塊:~CSS2VISUREN#valdef-display-inline-block

●●words_table1

●●words_table

	●レイアウト
辺:edge::~
幅:width:~
横方向:horizontal::~
縦方向:vertical::~
相殺:collapsing::~
相殺-:collapse::~
	相殺-法:collapsing

連接-:adjoin::~
隣接な:adjacentな:隣接する
clearance:::
	~flow内:in-flow
浮動-:float::~
浮動体:float::~
結合-:combine:~

	後続する:following

	●仕様
	said
	~refer

	●未分類
分離-:separate:~
差引かれ:deductされ:差し引かれ

	し得る:possible
	一部を成す:taking part
	certain
	次:next


●●trans_metadata
<p>
~THIS_PAGEは、~W3Cにより編集者草案として公開された
<a href="~SPEC_URL">CSS Level 2.2 Box model</a>
章の
<a href="~SPEC_URL#collapsing-margins">§ Collapsing margins</a>
を日本語に翻訳したものです。
（以前までこのページにあった，その章を成す他の内容の日本語訳は、それを包摂する
<a href="css-box-ja.html">CSS Box Model Module Level 4 の日本語訳</a>
に伴い，除去しました。）
~PUB
</p>

</script>

</head>
<body>

<header>
	<hgroup>
<h1 id="box-model">CSS 2.2 — マージンの相殺法</h1>
<h2>Collapsing margins</h2>
	</hgroup>
</header>

<main id="MAIN" hidden>

		<section id="collapsing-margins">
<h3 title="Collapsing margins">8.3.1. ~marginの相殺-法</h3>

<p>
CSS においては、二つ以上の（互いに同胞†でないこともある）~boxの いくつかの~marginが互いに`連接して$いるときには、単独の~marginを形成するように結合され得る。
~marginをこの仕方で結合することを，
`相殺-@（ `collapse^en ）
するという††。
結合された結果の~margin【または, それを成す~marginたち】は、
`相殺された~margin@（ `collapsed margin^en ）
と呼ばれる。
◎
In CSS, the adjoining margins of two or more boxes (which might or might not be siblings) can combine to form a single margin. Margins that combine this way are said to collapse, and the resulting combined margin is called a collapsed margin.
</p>

<p class="trans-note">【†
同じ親を共有する子
】【††
すなわち、~margin区画のみ互いに重なり得る下で，可能な限り互いの間を詰める。
】
</p>

<p>
次の場合を除き、`連接して$いる縦方向~marginは，`相殺され$る：
◎
Adjoining vertical margins collapse, except:
</p>

<ul>
	<li>
根~要素により生成される~boxの~marginは、他と`相殺され$ることはない。
◎
Margins of the root element's box do not collapse.
</li>
	<li>
`~clearance$を伴う要素の 上端~marginと下端~marginが`連接して$いる場合、それらの~marginは，それに`連接して$いる［
後続する同胞の~margin
］とは`相殺され$るが、その結果の~marginは、親~塊の下端~marginとは`相殺され$ない。
◎
If the top and bottom margins of an element with clearance are adjoining, its margins collapse with the adjoining margins of following siblings but that resulting margin does not collapse with the bottom margin of the parent block.
</li>
</ul>

<p>
横方向~marginどうしが`相殺され$ることは、決してない。
◎
Horizontal margins never collapse.
</p>

<p id="what-is-adjoining">
２つの~marginは、次のいずれも満たされるとき, そのときに限り，
`連接して@
いる（ `adjoining^en ）とされる：
◎
Two margins are adjoining if and only if:
</p>

<ul>
	<li>
当の~marginを有する両~boxとも、同じ`塊~整形~文脈$に関与する，`~flow内$にある`塊~levelの~box$である。
◎
both belong to in-flow block-level boxes that participate in the same block formatting context
</li>
	<li>
両~marginを分離するような［
`行l~box$／`~clearance$／`~padding$／`~border$
］は無い。
<span class="note">（
この目的においては
<a href="~CSS2VISUREN#phantom-line-box">ある種の縦幅 0 である行l~box</a>は、無視されることに注意（
<a href="~CSS2VISUREN#inline-formatting">§ 9.4.2</a>
を見よ）。
）</span>
◎
no line boxes, no clearance, no padding and no border separate them (Note that certain zero-height line boxes (see 9.4.2) are ignored for this purpose.)
</li>
	<li>
<p>
両~marginとも，縦方向に隣接な~box辺に属する
— すなわち、両者は，以下に挙げるいずれかの~pairを成す：
◎
both belong to vertically-adjacent box edges, i.e. form one of the following pairs:
</p>

<ul>
	<li>
~boxの上端~marginと,
~boxの最初の［
`~flow内$にある子
］の上端~margin
◎
top margin of a box and top margin of its first in-flow child
</li>
	<li>
~boxの下端~marginと,
~boxの次の［
`~flow内$にある後続する同胞
］の上端~margin
◎
bottom margin of box and top margin of its next in-flow following sibling
</li>
	<li>
［
`height$p の算出d値が `auto^v である
］ような~boxの下端~marginと,
~boxの最後の［
`~flow内$にある子
］の下端~margin。
◎
bottom margin of a last in-flow child and bottom margin of its parent if the parent has 'auto' computed height
</li>
	<li>
<p >
次のすべてを満たす~boxの，上端~marginと, 下端~margin：
</p>
		<ul>
			<li>
新たな塊~整形~文脈を確立しない, かつ
</li>
			<li>
`min-height$p の算出d値は 0, かつ
</li>
			<li>
`height$p の算出d値は 0 または `auto^v , かつ
</li>
			<li>
`~flow内$にある子を持たない。
</li>
		</ul>
◎
top and bottom margins of a box that does not establish a new block formatting context and that has zero computed 'min-height', zero or 'auto' computed 'height', and no in-flow children
</li>
		</ul>
	</li>
</ul>

<p>
`相殺された~margin$は、それを成す~margin成分のいずれかが，別の~marginと`連接して$いるならば、その別の~marginとも`連接して$いるものと見なされる。
◎
A collapsed margin is considered adjoining to another margin if any of its component margins is adjoining to that margin.
</p>

<p class="note">注記：
`連接して$いる~marginたちは、同胞や先祖の関係にない要素たちから生成されることもある。
◎
Note. Adjoining margins can be generated by elements that are not related as siblings or ancestors.
</p>

<div class="note">

<p>注記：
上の規則は、次を含意する：
◎
Note the above rules imply that:
</p>

<ul>
	<li>
［
`浮動-$された ／
`絶対的に位置され$た ／
`行内-塊$
］~boxの~marginは、（~box自身の`~flow内$にある子も含め，）他のどの~boxの~marginとも`相殺され$ない。
◎
Margins between a floated box and any other box do not collapse (not even between a float and its in-flow children).
◎
Margins of elements that establish new block formatting contexts (such as floats and elements with 'overflow' other than 'visible') do not collapse with their in-flow children.
◎
Margins of absolutely positioned boxes do not collapse (not even with their in-flow children).
◎
Margins of inline-block boxes do not collapse (not even with their in-flow children).
</li>
	<li>
新たな塊~整形~文脈を確立する要素（`浮動体$や［
`overflow$p が非 `visible^v にされた要素
］など）の~marginは、その`~flow内$にあるどの子~boxの~marginとも`相殺され$ない。
◎
↑</li>
	<li>
［
`~flow内$にある`塊~level$の要素
］の下端~marginと, 要素の次の［
`~flow内$にある`塊~level$の同胞
］の上端~marginとは、常に`相殺され$る
— その同胞が`~clearance$を持たない限り。
◎
The bottom margin of an in-flow block-level element always collapses with the top margin of its next in-flow block-level sibling, unless that sibling has clearance.
</li>
	<li>
［
`~flow内$にある塊~要素
］の上端~marginと, 要素の最初の［
`~flow内$にある`塊~level$の子
］の上端~marginとは、要素が［
上端~border, 上端~padding
］を持たない, かつ
子は`~clearance$を持たない
ならば、`相殺され$る。
◎
The top margin of an in-flow block element collapses with its first in-flow block-level child's top margin if the element has no top border, no top padding, and the child has no clearance.
</li>
	<li>
<p>
`~flow内$にある塊~boxの下端~marginと, その~boxの最後の［
`~flow内$にある`塊~level$の子
］の下端~marginとは、次がすべて満たされるならば，`相殺され$る：
◎
The bottom margin of an in-flow block box with a 'height' of 'auto' and a 'min-height' of zero collapses with its last in-flow block-level child's bottom margin if＼
</p>
		<ul>
			<li>
~boxの `height$p は `auto^v にされ， `min-height$p は 0 にされている。
◎
↑</li>
			<li>
~boxは［
下端~padding, 下端~border
］を持たない。
◎
the box has no bottom padding and no bottom border and＼
</li>
			<li>
子の下端~marginと,
`~clearance$を持つものの上端~marginとは、`相殺され$ていない。
◎
the child's bottom margin does not collapse with a top margin that has clearance.
</li>
		</ul>
	</li>
	<li>
<p>
~boxの上端~marginと, 下端~marginとは、次のすべてが満たされるならば，`相殺され$る：
</p>
		<ul>
			<li>
`min-height$p 値は 0 。
</li>
			<li>
~boxは、
上端／下端
~borderも
上端／下端
~paddingも持たない。
</li>
			<li>
~boxの `height$p 値は 0 または `auto^v 。
</li>
			<li>
~boxは、`行l~box$を包含しない。
</li>
			<li>
~boxの`~flow内$にある子たち（もしあれば）すべての~marginは，`相殺され$ている。
</li>
		</ul>
◎
A box's own margins collapse if the 'min-height' property is zero, and it has neither top or bottom borders nor top or bottom padding, and it has a 'height' of either 0 or 'auto', and it does not contain a line box, and all of its in-flow children's margins (if any) collapse.
</li>
</ul>

</div>

<p>
二つ以上の~marginが`相殺され$るときの結果の~margin幅は、各`相殺された~margin$幅の最大になる。
負な~marginが混じっている場合、それらの絶対~値の最大が，正な~marginの最大（正な~marginが無ければ 0 ）から差引かれる。
◎
When two or more margins collapse, the resulting margin width is the maximum of the collapsing margins' widths. In the case of negative margins, the maximum of the absolute values of the negative adjoining margins is deducted from the maximum of the positive adjoining margins. If there are no positive margins, the maximum of the absolute values of the adjoining margins is deducted from zero.
</p>

<p id="collapsed-through">
ある~boxの上端~marginと下端~marginとが`連接して$いる場合、他の~marginたちが，その~marginを
`挟むように相殺-@
する（ `collapse through^en ）ことも起こり得る。
この場合の~boxの位置は、［
【その~boxを生成した要素と】
`相殺された~margin$を成す他の要素
］との関係性に依存する：
◎
If the top and bottom margins of a box are adjoining, then it is possible for margins to collapse through it. In this case, the position of the element depends on its relationship with the other elements whose margins are being collapsed.
</p>

<ul>
	<li>
要素の~marginと, その親の上端~marginとが`相殺され$ている場合、要素の~boxの上端~border辺は，親のそれと同じ位置になるものと定義される。
◎
If the element's margins are collapsed with its parent's top margin, the top border edge of the box is defined to be the same as the parent's.
</li>
	<li>
他の場合、要素の親の~marginのうち，~margin相殺の一部を成すものは、ないか, または下端~marginのみ，のいずれかになる。
この場合の要素の上端~border辺の位置は、要素の下端~borderが 0 でなかったとき
【すなわち，要素の上端~marginと下端~marginとが連接してなく，相殺されなかったとき】
と同じになる。
◎
Otherwise, either the element's parent is not taking part in the margin collapsing, or only the parent's bottom margin is involved. The position of the element's top border edge is the same as it would have been if the element had a non-zero bottom border.
</li>
</ul>

<p>
要素の~marginが`挟むように相殺-$されている場合、その位置が，［
その~marginを挟んでいる他の~margin
］を持つ要素の位置に効果が及ぶことはないことに注意
— 要素の上端~border辺の位置が要求されるのは、これらの要素の子孫を~lay-outするときに限られる。
◎
Note that the positions of elements that have been collapsed through have no effect on the positions of the other elements with whose margins they are being collapsed; the top border edge position is only required for laying out descendants of these elements.
</p>

		</section>
</main>
