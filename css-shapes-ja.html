<!DOCTYPE html><html lang="ja"><head><meta charset="utf-8">
<title>CSS Shapes Module Level 1 （日本語訳）</title>

<link rel="stylesheet" href="common.css" type="text/css" />
<link rel="stylesheet" href="common-css.css" type="text/css" />
<script src="common0.js" ></script>
<script src="common1.js" async></script>

<script>

Util.ready = function(){
	const source_data = {
		collectParts: Util.collectParts,
		generate: expand,
	};
	Util.switchWordsInit(source_data);
}

function expand(){
	const class_map = this.class_map;
	const tag_map = this.tag_map;
	const link_map = this.link_map;

	return this.html.replace(
		/`(.*?)([$@^])(\w*)/g,
		create_html
	);

	function create_html(match, key, indicator, klass){

let text = key;
let href = '';

switch(klass){
case 'r':
	text = `[${key}]`;
	href = `#biblio-${key.toLowerCase()}`;
	break;
case 't':
	text = `&lt;${key}&gt;`;
	break;
case 'f':
	text = `${key}()`;
	break;
case 'vt': // css values
	text = `&lt;${key}&gt;`;
	break;
case 'tp': // property value type
	text = `&lt;'<code class="property">${key}</code>'&gt;`;
	href = link_map[`p.${key}`];
	break;
case 'l':
	text = `"<code class="literal">${text}</code>"`;
	break;
case 'en':
	return `<span lang="en-x-a0">${key}</span>`;
	break;
case 'dgm':
	return `<a id="_dgm-${key}"></a>`;
	break;
}

let tag = tag_map[klass];
if(tag) {
	let classname = class_map[klass];
	classname = classname ? ` class="${classname}"` : '';
	text = `<${tag}${classname}>${text}</${tag}>`;
}

if(indicator !== '^'){
	href = link_map[ klass ? `${klass}.${key}` : key ] || href;
	if(!href){
		console.log(match); // check error
		return match;
	}

	switch(indicator){
	case '$':
		text = `<a href="${href}">${text}</a>`;
		break;
	case '@':
		text = `<dfn id="${href.slice(1)}">${text}</dfn>`;
		break;
	default:
		console.log(match);
		return match;
	}
}

return text;

	}
}
</script>

<script type="text/plain" id="_source_data">


●●options

spec_title:CSS Shapes Module Level 1
spec_date:2019-10-14
trans_update:2019-10-15
source_checked:180621
page_state_key:CSS
original_url:https://drafts.csswg.org/css-shapes-1/
spec_status:ED
ref_id_prefix:biblio-
ref_id_lowercase:true
site_nav:layout,css
conformance:css
copyright:2019,permissive
trans_1st_pub:2015-11-04


●●class_map
p:property
css:css
e:element
v:value
vt:type
f:func
t:type
tp:type

●●tag_map
p:code
t:var
vt:var
css:code
e:code
v:code
f:code
c:code
tp:var
V:var
i:i

●●original_id_map


●●words_table1


border-radius:'<code class="property">border-radius</code>'


●●link_map


p.shape-image-threshold:#propdef-shape-image-threshold
p.shape-margin:#propdef-shape-margin
p.shape-outside:#propdef-shape-outside
p.margin:~CSSBOX#propdef-margin
p.background-clip:~CSSBG#propdef-background-clip
p.border-radius:~CSSBG#propdef-border-radius
	p.fill-rule:~SVG11/painting.html#FillRuleProperty
p.fill-rule:~SVGpainting#FillRuleProperty
p.clip-path:~MASKING1#propdef-clip-path

v.border-box:#valdef-shape-box-border-box
v.content-box:#valdef-shape-box-content-box
v.padding-box:#valdef-shape-box-padding-box
v.margin-box:#valdef-shape-box-margin-box

v.closest-side:#closest-side
v.farthest-side:#farthest-side

v.none:#valdef-shape-outside-none
vt.image:#valdef-shape-outside-image
vt.length-percentage:#valdef-shape-margin-length-percentage
	vt.number:#valdef-shape-image-threshold-number

v.evenodd:~MASKING1#valdef-clip-rule-evenodd
v.nonzero:~MASKING1#valdef-clip-rule-nonzero
vt.basic-shape:#valdef-shape-outside-basic-shape
	vt.fill-rule:~MASKING1#valdef-path-fill-rule
	vt.string:~MASKING1#valdef-path-string

t.basic-shape:#typedef-basic-shape
t.fill-rule:#typedef-fill-rule
t.shape-box:#typedef-shape-box
t.shape-radius:#typedef-shape-radius
t.alpha-value:~CSSCOLOR#typedef-alpha-value
t.box:~CSSBG#typedef-box
t.image:~CSSIMAGE#typedef-image
t.number:~CSSVAL#number-value
t.length:~CSSVAL#length-value
t.percentage:~CSSVAL#percentage-value
t.length-percentage:~CSSVAL#typedef-length-percentage
t.position:~CSSVAL#typedef-position
t.string:~CSSVAL#string-value

f.path:#funcdef-path
f.circle:#funcdef-circle
f.ellipse:#funcdef-ellipse
f.inset:#funcdef-inset
f.polygon:#funcdef-polygon
f.calc:~CSSVAL#funcdef-calc


基準box:#reference-box
浮動-区画:#float-area
空の浮動-区画:#empty-float-area
回込んで:#wrap
回込める:#wrap
回込む:#wrap
回込み:#wrap
回込ませる:#wrap

	●他
関数記法:~CSSVAL#functional-notation
値~定義~構文:~CSSVAL#value-defs
曲げ:~CSSBG#corner-shaping
	~TR/html5/infrastructure.html#cors-enabled-fetch

時計回りに設定する:~CSSBG#setup-clockwise
側方:~CSS2VISUREN#_next-to
排他体:~CSSEXCLUSION#exclusion-box
排他~区画:~CSSEXCLUSION#exclusion-area
浮動体:~CSS2VISUREN#floats
置換d要素:~CSSDISP#replaced-element

内容~box:~CSSBOX#content-box
	~padding~box:~CSSBOX#padding-box
	~border~box:~CSSBOX#border-box
~margin~box:~CSSBOX#margin-box
内容~辺:~CSSBOX#content-edge
~padding辺:~CSSBOX#padding-edge
~border辺:~CSSBOX#border-edge
~margin辺:~CSSBOX#margin-edge

行内~size:~CSSWM#inline-size

i.移動する:~SVGpaths#PathDataMovetoCommands
i.~pathを閉じる:~SVGpaths#PathDataClosePathCommand

~CORSになり得る要請を作成する:~HTMLurl#create-a-potential-cors-request
st.Anonymous:~HTMLurl#attr-crossorigin-anonymous
rq.行先:~FETCH#concept-request-destination

	"Animation of property types":~TR/css-transitions-1/#animatable-types
	CSS:http://www.w3.org/TR/CSS/
	December 13th 2011:http://www.w3.org/TR/2011/WD-css3-exclusions-20111213/
	December 3rd 2013:http://www.w3.org/TR/2013/WD-css-shapes-1-20131203/
	February 11th 2014:http://www.w3.org/TR/2014/WD-css-shapes-1-20140211/
	GIF:http://www.w3.org/Graphics/GIF/spec-gif89a.txt
	June 20th 2013:http://www.w3.org/TR/2013/WD-css-shapes-1-20130620/
	March 20th 2014:http://www.w3.org/TR/2014/CR-css-shapes-1-20140320/
	May 3rd 2012:http://www.w3.org/TR/2012/WD-css3-exclusions-20120503/
	Value Definition Syntax:~CSSVAL#value-defs


●●words_table

	●幾何
inset:
	inset:内方への~offset
	-bounding
三次元版:3D version:~
中心:center:~

上端:top::~
	1 〜 4 個の 〜 引数:top, right, bottom and left offsets
丸め:rounding:~
丸めら:roundさ:~
側:side:~
脇:side:~
	内縁:inside
	外縁:outside
	入らない:outside
基準box:reference box::基準 box:基準ボックス
図形:shape::~
形状付け:shaping::~
外方:outward:~
	外方:outward in the perpendicular direction from
方向:direction:~
横方向:horizontal::~
縦方向:vertical::~
曲げ:curvature::~

多角形:polygon::~
多角形な:polygonalな::多角形の
三角形な:triangularな::三角形の
楕円:ellipse::~
正方形:square::~
真円:circle::~
矩形:rectangle::~
矩形でな:rectangularでな::~

比率:ratio:~
	狭め:reduce
閾値:threshold:~
短縮-:shorten:~
軸:axis::~
辺:edge::~
隅:corner::~
封入-:enclose:~
	enclosing
	-:sharp な
幾何:geometry:~
幾何的:geometric:~
座標:coordinate::~
座標系:coordinate system::~
拡幅:expanding:~

拡げる:increaseする:~
内方:inward::~
半径:radius::~

切取られ:clipされ::切り取られ
原点:origin::~
左上:top-left:~
変形n:transformation::変形
頂点:vertex::~
距離:distance::~
内域:interior::~
閉じる:closeする::~
閉な:closed::閉じた
loop::::ループ
	移動する:move to
	~pathを閉じる:closepath
	最も近い:closest
	最も遠い:farthest
	~~周り／:around
	~~重な:intersection
	空けるように:open
	重なる:overlay
	以内の地点すべてを含むような，最小の …take all points on the circle centered at the point

	-:shrink-wrap
	面積ゼロ:with no extent ／ no area

	●色／塗り
alpha:::アルファ
不透明度:opacity::~
影:shadow::~
輝度:luminance::~
背景:background::~
raster::::ラスター
破線:dotted line:~

	藤色:mauve
	水色:blue
	黄色:yellow
	黒色:black
	濃い水色:darker blue
	薄い水色:lighter blue

	●layout
位置決め:positioning::~
浮動体:float::~
浮動-:float::~
	浮動-区画:float area
左浮動:left-floated::~
右浮動:right-floated::~
左:left:~
右:right:~

回込み:wrapping around::回り込み
回込んで:wrap aroundして::回り込んで
回込める:wrap aroundできる::回り込める
回込む:wrap aroundする::回り込む
	回込み:wrap
回込ませ:wrap aroundさせ::回り込ませ
包装-:wrap::~
	塊:block::ブロック
排他:exclusion::~
排他体:exclusion::~
堆積-:stack::~

	●CSS
画素:pixel::~
補間-:interpolate:~
補間:interpolation:~
関数記法:functional notation:~
展開-:expand:~
式:expression:~

	●仕様
省略可:optional:~
類似的:similar:~
省略:omitting:~
給-:supply:~
認可:approval:~

	この~module:CSS Shapes
	あり得る:possible
	~~代用:stand in
	選ぶ:choosing

	●未分類
space::::スペース
comma::::カンマ
log::::ログ
logo::::ロゴ
空白区切りの:space-separated:~
連結-:join:~
切替n:switch:切り替え
切詰めた:clampした:切り詰めた
切詰めら:clampさ:切り詰めら
簡約-:reduce:~
command::::命令


	URL:URI
	~~元の:underlying
	animationを伴う:animated
	数:number
	負の:negative
	無い:absence
	現れ:show up
	並び:sequence
	基準に:refer to
	全く:perfectly
	転換-:turn into

	:Complex CSS Box Model Edges
	~level:Level
	〜とも:apiece
	変えずに:changing
	向き:running to
	`shape-radius^t 引数:rx／:ry
	-:in the shrink-wrap sense
	まま:stay
	-:arranged
	-:filling rule
	-:"Anonymous" mode, set the referrer source...
	-:respective
	-:written in
	~~意味:comes up
	無い:not present

	●指示語
	全:fully
	章:chapter
	のみであり，:only ever
	より大きい:greater
	より大きい:larger
	より小さい:smaller
	以下の:least
	最も小さい:smallest
	残り:rest



●●ref_normative

[CSS-COLOR-4]
    Tab Atkins Jr.; Chris Lilley. CSS Color Module Level 4. 5 March 2019. WD. URL: https://www.w3.org/TR/css-color-4/ 
[CSS-MASKING]
    Dirk Schulze; Brian Birtles; Tab Atkins Jr.. CSS Masking Module Level 1. 26 August 2014. CR. URL: https://www.w3.org/TR/css-masking-1/ 
[CSS-VALUES-3]
    Tab Atkins Jr.; Elika Etemad. CSS Values and Units Module Level 3. 6 June 2019. CR. URL: https://www.w3.org/TR/css-values-3/ 
[CSS-VALUES-4]
    Tab Atkins Jr.; Elika Etemad. CSS Values and Units Module Level 4. 31 January 2019. WD. URL: https://www.w3.org/TR/css-values-4/ 
[CSS-WRITING-MODES-4]
    Elika Etemad; Koji Ishii. CSS Writing Modes Level 4. 30 July 2019. CR. URL: https://www.w3.org/TR/css-writing-modes-4/ 
[CSS2]
    Bert Bos; et al. Cascading Style Sheets Level 2 Revision 1 (CSS 2.1) Specification. 7 June 2011. REC. URL: https://www.w3.org/TR/CSS2/ 
[CSS3-IMAGES]
    Elika Etemad; Tab Atkins Jr.. CSS Image Values and Replaced Content Module Level 3. 17 April 2012. CR. URL: https://www.w3.org/TR/css3-images/ 
[CSS3BG]
    Bert Bos; Elika Etemad; Brad Kemper. CSS Backgrounds and Borders Module Level 3. 17 October 2017. CR. URL: https://www.w3.org/TR/css-backgrounds-3/ 
[CSS3BOX]
    Elika Etemad. CSS Box Model Module Level 3. 18 December 2018. WD. URL: https://www.w3.org/TR/css-box-3/ 
[HTML5]
    Ian Hickson; et al. HTML5. 27 March 2018. REC. URL: https://www.w3.org/TR/html5/ 
[RFC2119]
    S. Bradner. Key words for use in RFCs to Indicate Requirement Levels. March 1997. Best Current Practice. URL: https://tools.ietf.org/html/rfc2119 

●●ref_informative

[CSS3-EXCLUSIONS]
    Rossen Atanassov; Vincent Hardy; Alan Stearns. CSS Exclusions Module Level 1. 15 January 2015. WD. URL: https://www.w3.org/TR/css3-exclusions/ 
[CSS3-TRANSITIONS]
    David Baron; et al. CSS Transitions. 11 October 2018. WD. URL: https://www.w3.org/TR/css-transitions-1/ 


●●trans_metadata
<p>
~THIS_PAGEは、~W3Cにより編集者草案として公開された
<a href="~SPEC_URL">CSS Shapes Module Level 1</a>
を日本語に翻訳したものです。
~PUB
</p>


●●spec_metadata

最新発行バージョン
	https://www.w3.org/TR/css-shapes/
編集者草案
	https://drafts.csswg.org/css-shapes/
以前のバージョン
	http://www.w3.org/TR/2014/CR-css-shapes-1-20140320/
テスト一式
	http://test.csswg.org/suites/css-shapes-1_dev/nightly-unstable/
編集
	<a href="mailto:vhardy@adobe.com">Vincent Hardy</a> (Adobe Systems, Inc.)
	<a href="mailto:ratan@microsoft.com">Rossen Atanassov</a> (Microsoft Corporation)
	<a href="mailto:stearns@adobe.com">Alan Stearns</a> (Adobe Systems, Inc.)
Suggest an Edit for this Spec
	<a href="https://github.com/w3c/csswg-drafts/blob/master/css-shapes-1/Overview.bs">GitHub Editor</a>
最新の課題
	<a href="https://github.com/w3c/csswg-drafts/labels/css-shapes-1">GitHub Issues</a>

</script>

</head>
<body>



<!--%resource pool -->
<div id="_persisted_parts" hidden>
<img
	id="_dgm-hand-funnel"
	src="css-shapes/hand-funnel.png"
	alt="Using the shape-outside property with floats"
>
<img
	id="_dgm-float-side-example"
	src="css-shapes/float-side-example.png"
	alt="wrapping around right side of a left-float float area"
>

<img
	id="_dgm-float-margin-example"
	src="css-shapes/float-margin-example.png"
	alt="Adding margin-top to a float with a small shape-outside"
>

<img
	id="_dgm-stacked-float-example"
	src="css-shapes/stacked-float-example.png"
	alt="Stacking two floats with a small shape-outside"
>
<img
	id="_dgm-shape-outside-image"
	src="css-shapes/shape-outside-image.png"
	alt="A float shape around an image using its alpha-channel"
>
<img
	id="_dgm-box-edges-simple"
	src="css-shapes/box-edges-simple.png"
	alt="Colored boxes representing simple box edges"
>
<img
	id="_dgm-box-edges-complex"
	src="css-shapes/box-edges-complex.png"
	alt="Colored boxes representing complex box edges"
>
<img
	id="_dgm-normal-wrap"
	src="css-shapes/normal-wrap.png"
	alt="Text wrapping around float with no shape"
>
<img
	id="_dgm-margin-box-wrap"
	src="css-shapes/margin-box-wrap.png"
	alt="Text wrapping around float with margin-box shape"
>
<img
	id="_dgm-nepal-flag-shape"
	src="css-shapes/nepal-flag-shape.png"
	alt="Example of a shape-margin offset"
>
<img
	id="_dgm-shape-outside-image-with-margin"
	src="css-shapes/shape-outside-image-with-margin.png"
	alt="A float shape around an image using its alpha-channel with a 35 pixels shape-margin"
>

</div>

<header>
	<hgroup>
<h1 id="title">CSS Shapes Module Level 1</h1>
	</hgroup>

</header>


<div id="MAIN" hidden>


	<section id="abstract">
~ABSTRACT

<p>
この~module（ CSS Shapes ）は、~CSSにて利用するための幾何的~図形について述べる。
この~moduleの~level 1 は、`浮動体$に適用できる。
例えば，浮動体に真円~図形が指定された場合、周りの行内~内容は
— 浮動体の`~margin~box$に代えて —
その真円~図形を`回込む$ようになる。
◎
CSS Shapes describe geometric shapes for use in CSS. For Level 1, CSS Shapes can be applied to floats. A circle shape on a float will cause inline content to wrap around the circle shape instead of the float’s bounding box.
</p>

~CSSisaLANG

	</section>
	<section id="status">
~STATUSofTHIS

<p>
これは編集者草案の公の複製です…
【以下，この節の他の内容は <a href="css-common-ja.html#status">~CSS日本語訳 共通ページ</a>に委譲。】
</p>

	</section>

<main id="MAIN0">

	<section id="intro">
<h2 title="Introduction">1. 序論</h2>

~INFORMATIVE

<p>
図形（ `shape^en ）は、~CSS値として利用できる任意な幾何を定義する。
この仕様は、要素の`浮動-区画$の幾何を制御する，各種~propを定義する。
`shape-outside$p ~propは、図形~値を利用して，`浮動体$用の`浮動-区画$を定義する。
◎
Shapes define arbitrary geometries that can be used as CSS values. This specification defines properties to control the geometry of an element’s float area. The shape-outside property uses shape values to define the float area for a float.
</p>

<p class="note">注記：
この~moduleの将来~levelでは、浮動体でない要素~上での図形の利用も許容することになる。
`CSS-MASKING$r, `CSS3-EXCLUSIONS$r
などの他の~CSS~moduleも図形を用立て得る。
◎
Note: Future levels of CSS Shapes will allow use of shapes on elements other than floats. Other CSS modules can make use of shapes as well, such as CSS Masking [CSS-MASKING] and CSS Exclusions [CSS3-EXCLUSIONS].
</p>

<p class="note">注記：
この~moduleと `CSS3-EXCLUSIONS$r の両者とも実装する~UAでは、
`shape-outside$p ~propが`排他体$用の`排他~区画$を定義する。
◎
Note: If a user agent implements both CSS Shapes and CSS Exclusions, the shape-outside property defines the exclusion area for an exclusion.
</p>

<p class="note">注記：
この~moduleの将来~levelでは、要素の中で内容を包装する図形を定義するような，
`shape-inside^p ~propが定義されることになる。
◎
Note: A future level of CSS Shapes will define a shape-inside property, which will define a shape to wrap content within the element.
</p>



		<section id="module-interactions">
<h3 title="Module Interactions">1.1. ~module間の相互作用</h3>

<p>
この~moduleは、
`CSS2$r
9 章に定義される`浮動体$の特能を拡張する。
◎
This module extends the float features defined in [CSS2] chapter 9.
</p>

		</section>
		<section id="values">
<h3 title="Values">1.2. 値</h3>
<h3 id="animations" title="Animated Values">1.3. 値の~animation</h3>

<p class="trans-note">【
これらの節の内容は
<a href="css-common-ja.html#values">~CSS日本語訳 共通ページ</a>
に委譲。
】</p>

<!-- 
~TR/css-transitions-1/#animatable-types">"Animation of property types"

It is expected that CSS will include ways to animate transitions between styles. (The section "Animation of property types" of the CSS Transitions module [CSS3-TRANSITIONS] is expected to define how different kinds of values are interpolated during a transition.) In anticipation of that, this module includes a line "Animatable" for each property, which specifies whether and how values of the property can be animated.
-->


		</section>
		<section id="terminology">
<h3 title="Terminology">1.4. 各種用語</h3>

<dl>
	<dt>`回込む@ （ `wrap^en する／ `wrap around^en ）</dt>
	<dd>
この仕様で利用する用語 `回込む$は、
`CSS2$r 9 章に定義されるように，内容が`浮動-区画$の脇に~flowすることを~~意味する。
内容は、左浮動~boxに対しては その右~脇に，右浮動~boxに対しては その左~脇に`回込む$。
この`回込み$により、`浮動体$の`側方$に来る各~行l~boxは，`浮動-区画$と~~重ならないよう，必要に応じて短縮されることになる。
◎
This specification uses the term wrap to refer to flowing content around the sides of a float area, defined in [CSS2] chapter 9. Content wraps around the right side of a left-floated box, and content wraps around the left side of a right-floated box. One result of this wrapping is that line boxes next to a float are shortened as necessary to avoid intersections with the float area.
</dd>

	<dt>`浮動-区画@ （ `float area^en ）</dt>
	<dd>
`浮動体$の~~周りに内容が`回込む$ときに利用される区画。
浮動体の挙動~用の規則にて，内容がどこへ~flowするかを決定するときは、`浮動-区画$の各~側が利用される。
既定では、`浮動-区画$は，浮動体の`~margin~box$になる（注意：
`margin-box$v 値による`浮動-区画$は、 `border-radius$p による`曲げ$も含むので， これとは異なり得る）。
この仕様の `shape-outside$p ~propを利用すれば、矩形でない任意な`浮動-区画$を定義できる。
◎
The area used for wrapping content around a float element. The rules for float behavior use the sides of the float area to determine where content flows. By default, the float area is the float element’s margin box (note this can be different than the float area produced by the margin-box value, which includes border-radius curvature). This specification’s shape-outside property can be used to define an arbitrary, non-rectangular float area.
</dd>

</dl>



		</section>
	</section>
	<section id="relation-to-box-model-and-float-behavior">
<h2 title="Relation to the box model and float behavior">2. ~box~modelと浮動体の挙動との関係</h2>

<p>
行内~flow内容を`浮動体$の外側に`回込ませる$ために利用する境界は、図形を利用して定義できるが、実際の~box~modelを変更することはない。
要素に指定されている［
~margin ／ ~border ／ ~padding
］は、`CSS3BOX$r ~moduleに則って算出され, 描画されることになる。
また、`浮動-区画$を図形で定義しても，`浮動体$の位置決めと堆積-法は影響されない。
◎
While the boundaries used for wrapping inline flow content outside a float can be defined using shapes, the actual box model does not change. If the element has specified margins, borders or padding they will be computed and rendered according to the [CSS3BOX] module. Also, float positioning and stacking are not affected by defining a float area with a shape.
</p>

<p>
`浮動-区画$を定義する図形は，`浮動体$の`~margin~box$で切取られる。
言い換えれば、図形は【既定の】`浮動-区画$を狭めるのみであり，拡げることはない。
`浮動-区画$が狭められる結果、通常では浮動体により短縮される行l~boxが，短縮されなくなることも起こり得る。
`空の浮動-区画@
（面積ゼロの区画）に対しては、どの行l~boxも短縮されなくなる
【すなわち、浮動体は空間を排他的に占めなくなる】
。
◎
When a shape is used to define a float area, the shape is clipped to the float’s margin box. In other words, a shape can only ever reduce a float area, not increase it. A reduced float area may have no effect on some line boxes that would normally be affected by the float. An empty float area (where the shape encloses no area) has no effect on line boxes.
</p>

<p>
`浮動-区画$を図形で定義することにより、通常の`浮動-区画$をすべての側で狭めることが可能になるが、内容が浮動体の両~脇に`回込む$ことを許容するものではない。
`浮動体$が `shape-outside$p を伴っていても、内容が`回込める$のは，左~浮動体に対しては右~脇のみ, 右~浮動体に対しては左~脇のみに限られる。
◎
A float area defined by a shape may reduce the normal float area on all sides, but this does not allow content to wrap on both sides of a float. Left floats with a shape-outside still only allow content wrapping on the right side, and right floats only allow wrapping on the left.
</p>

<div class="example">

<p>
次の例では、左／右へ浮動する各 `img^e 要素には、
`shape-outside$p ~propを利用して三角形な図形が指定されている。
◎
In the following example the left and right floating img elements specify a triangular shape using the shape-outside property.
</p>


<pre class="lang-ml">
&lt;img class="left" src="hand.svg"/&gt;
&lt;img class="right" src="hand.svg"/&gt;
&lt;p&gt;
  Sometimes a web page’s text content appears to be
  funneling your attention towards a spot on the page
  to drive you to follow a particular link. Sometimes
  you don’t notice.
&lt;/p&gt;

&lt;style type="text/css"&gt;
  .left {
    shape-outside: polygon(0 0, 100% 100%, 0 100%);
    float: left;
    width: 40%;
    height: 12ex;
    transform: scaleX(-1);
  }

  .right {
    shape-outside: polygon(100% 0, 100% 100%, 0 100%);
    float: right;
    width: 40%;
    height: 12ex;
  }

  p {
    text-align: center;
  }
&lt;/style&gt;
</pre>

<figure>`hand-funnel^dgm</figure>

</div>

<div class="example">

<p>
どの図形も`浮動体$の`~margin~box$で切取られるので、上の左~浮動体に次の図形を追加しても，結果の描画は同じになる。
◎
Since shapes are clipped to the float’s margin box, adding this shape to the left float above would result in the same rendering.
</p>

<pre class="lang-css">
shape-outside: polygon(0 0, 500% 500%, 0 500%);
</pre>

</div>

<div class="example">

<p>
面積ゼロの図形に対しては、`空の浮動-区画$が作成されることになる。
`回込み$において考慮されるのは，`浮動-区画$のみなので、浮動体に次の図形どちらが適用されても，行内~内容は浮動体の~box全体に重なるように~flowすることも許容されることになる。
◎
A shape with no extent will create a float area with no extent. Because wrapping only considers the float area, either shape below applied to a float will allow inline content to flow through all of the float’s box.
</p>

<pre class="lang-css">
shape-outside: inset(50% 50% 50% 50%);
shape-outside: inset(150% 150% 0% 0%);
</pre>

</div>

<div class="example">

<p>
`shape-outside$p により，`浮動-区画$の 左／右 両~脇を~~空けるように区画を作成できる。
次の事例では、内容が`回込める$のは，依然として浮動体の片方の脇のみになる。
図では、図形は水色に, 図形の外側の内容~区画は藤色に描画されている。
◎
A shape-outside can create open areas on both the left and right of a float area. Content still wraps only on one side of a float in this case. In the picture, the shape is rendered in blue, and the content area outside the shape in mauve.
</p>

<pre class="lang-css">
shape-outside: polygon(50px 0px, 100px 100px, 0px 100px);
</pre>

<figure>`float-side-example^dgm</figure>

</div>

<div class="example">

<p>
次の~style付けは、浮動体の内容~区画よりずっと小さい図形を作成し，浮動体に上端~marginを追加している。
図では、［
図形は水色,
図形の外側の内容~区画は藤色,
浮動-~boxの~margin区画は黄色
］に描画されている。
行内~内容は、図形のみを`回込む$ようになり，残りの~margin区画に重なる。
◎
The following styling creates a shape much smaller than the float’s content area, and adds a margin-top to the float. In the picture, the shape is rendered in blue, the content area outside the shape in mauve, and the margin area of the float box in yellow. The inline content only wraps around the shape, and otherwise overlays the rest of the float margin box.
</p>

<pre class="lang-css">
.float-left {
  shape-outside: polygon(0% 50%, 50% 100%, 0 100%);
  float: left;
  width: 100px;
  height: 100px;
  margin-top: 20px;
}
</pre>

<figure>`float-margin-example^dgm</figure>

<p>
次の図は、 2 つの浮動体が互いに`側方$に堆積された場合にあり得る結果を示す。
各~浮動体は、`浮動-区画$ではなく，自身の`~margin~box$を利用して位置されることに注意。
◎
The next picture shows a possible result if two of these floats were stacked next to each other. Note that the floats are positioned using their margin boxes, not the float area.
</p>

<figure>`stacked-float-example^dgm</figure>

</div>


	</section>
	<section id="basic-shape-functions">
<h2 title="Basic Shapes">3. 基本~図形</h2>

<p>
`basic-shape@t
型は、下に述べる基本~図形~関数を利用して指定できる。
この構文を利用して図形を定義するときの
`基準box@
は、 `basic-shape$t 値を利用する各~propにて定義される。
図形~用の座標系の原点は、`基準box$の左上~隅になる
— ここで， x-軸は~~右向き, y-軸は~~下向きである。
百分率で表出されるすべての長さは、`基準box$の使用~sizeから解決される。
◎
The &lt;basic-shape&gt; type can be specified using basic shape functions. When using this syntax to define shapes, the reference box is defined by each property that uses &lt;basic-shape&gt; values. The coordinate system for the shape has its origin on the top-left corner of the reference box with the x-axis running to the right and the y-axis running downwards. All the lengths expressed in percentages are resolved from the used dimensions of the reference box.
</p>

		<section id="supported-basic-shapes">
<h3 title="Supported Shapes">3.1. ~supportされる図形</h3>

<p>
次の図形が~supportされる。
すべての `basic-shape$t 値は、`関数記法$を利用し，`値~定義~構文$を利用して，ここに定義される。
◎
The following shapes are supported. All &lt;basic-shape&gt; values use functional notation and are defined here using the Value Definition Syntax.
</p>

<dl class="valdef">
	<dt>`inset@f = inset( `length-percentage$t{1,4} [round `border-radius$tp]? )</dt>
	<dd>
<p>
内方へ~offsetされた矩形を定義する。
◎
Defines an inset rectangle.
</p>
		<ul>
			<li>
1 〜 4 個の `length-percentage$t 引数は、［
`基準box$の各~側からの~inset（内方への~offset）
］を`時計回りに設定する$。
◎
When all of the first four arguments are supplied they represent the top, right, bottom and left offsets from the reference box inward that define the positions of the edges of the inset rectangle. These arguments follow the syntax of the margin shorthand, that let you set all four insets with one, two or four values.
</li>
			<li>
`border-radius$tp 引数（省略可）は、
`border-radius$p 略式~prop構文を利用して，~offsetされた矩形の各~隅の丸めを定義する。
◎
The optional &lt;‘border-radius’&gt; argument(s) define rounded corners for the inset rectangle using the border-radius shorthand syntax.
</li>
		</ul>
</dd>
	<dd>
いずれかの次元において、両側の［
内方への~offset
］の合計が`基準box$の使用~size以上になる場合（左, 右とも 75% など）、図形は面積ゼロになり，結果は`空の浮動-区画$になる。
◎
A pair of insets in either dimension that add up to more than the used dimension (such as left and right insets of 75% apiece) define a shape enclosing no area. For this specification, this results in an empty float area.
</dd>

	<dt>`circle@f = circle( `shape-radius$t? [at `position$t]? )</dt>
	<dd>
<p>
真円を定義する。
◎
↓</p>
		<ul>
			<li>
`shape-radius^t 引数は、真円の半径を表現する。
負の値は無効。
半径 0 の場合、図形は面積ゼロになり，結果は`空の浮動-区画$になる。
百分率~値は、`基準box$の使用［
横幅, 縦幅
］から，式［
√( 横幅の 2 乗 + 縦幅の 2 乗 ) ÷ √ 2
］を基準に解決される。
◎
The shape-radius argument represents r, the radius of the circle. Negative values are invalid. A radius of zero defines a shape enclosing no area, which results in an empty float area. A percentage value here is resolved from the used width and height of the reference box as sqrt(width2+height2)/sqrt(2).
</li>
			<li>
`position$t 引数は、真円の中心を定義する。
省略-時の既定は `center^v （`基準box$の中心）になる。
◎
The position argument defines the center of the circle. This defaults to center if omitted.
</li>
		</ul>
	</dd>

	<dt>`ellipse@f = ellipse( [ `shape-radius$t{2} ]? [at `position$t]? )</dt>
	<dd>
<p>
楕円を定義する。
</p>
		<ul>
			<li>
2 個の `shape-radius^t 引数は、順に，楕円の［
x-軸, y-軸
］半径を表現する。
いずれも，負の値は無効。
半径 0 の場合、図形は面積ゼロになり，結果は`空の浮動-区画$になる。
各~引数に対する百分率~値は、順に，`基準box$の使用［
横幅, 縦幅
］に対し解決される。
◎
The shape-radius arguments represent rx and ry, the x-axis and y-axis radii of the ellipse, in that order. Negative values for either radius are invalid. If either radius is zero this defines a shape enclosing no area, which results in an empty float area. Percentage values here are resolved against the used width (for the rx value) and the used height (for the ry value) of the reference box.
</li>
			<li>
`position^t 引数は、楕円の中心を定義する。
省略-時の既定は `center^v （`基準box$の中心）になる。
◎
The position argument defines the center of the ellipse. This defaults to center if omitted.
</li>
		</ul>
	</dd>

	<dt>`polygon@f = polygon( `fill-rule$t?, [`length-percentage$t `length-percentage$t]# )</dt>
	<dd>
<p>
多角形を定義する。
</p>
		<ul>
			<li>
`fill-rule@t
引数は、多角形の内域を決定する規則に利用される
— 詳細は、~SVGの `fill-rule$p ~propを見よ。
アリな値は
`nonzero$v, `evenodd$v
であり、省略された場合， `nonzero$v が既定の値になる。
◎
&lt;fill-rule&gt; - The filling rule used to determine the interior of the polygon. See fill-rule property in SVG for details. Possible values are nonzero or evenodd. Default value when omitted is nonzero.
</li>
			<li>
~list内の各［
`length-percentage$t 引数~pair
］は、多角形の各~頂点を順々に与える［
x, y
］座標を表現する。
◎
Each pair argument in the list represents xi and yi - the x and y axis coordinates of the i-th vertex of the polygon.
</li>
		</ul>
	</dd>
	<dd>
~UAは、この~listの最後の頂点から最初の頂点へ接続して多角形を閉じるモノトスル。
◎
The UA must close a polygon by connecting the last vertex with the first vertex of the list.
</dd>
	<dd>
面積ゼロの
— すなわち，内域が空になる（例えば頂点が 2 個以下の） —
多角形に対する結果は、`空の浮動-区画$になる。
◎
At least three vertices are required to define a polygon with an area. This means that (for this specification) polygons with less than three vertices (or with three or more vertices arranged to enclose no area) result in an empty float area.
</dd>

	<dt>`path@f = path( [`fill-rule$t,]? `string$t )</dt>
	<dd>
<p>
~pathによる図形を定義する。
</p>
		<ul>
			<li>
<dfn id="valdef-path-fill-rule">`fill-rule$t</dfn>
引数は、~pathの内域を決定するために利用される
— 詳細は、~SVGの `fill-rule$p ~propを見よ。
アリな値は
`nonzero$v, `evenodd$v
であり、省略された場合， `nonzero$v が既定の値になる。
◎
&lt;fill-rule&gt; - The filling rule used to determine the interior of the path. See fill-rule property in SVG for details. Possible values are nonzero or evenodd. Default value when omitted is nonzero.
</li>
			<li>
<dfn id="valdef-path-string">`string$t</dfn>
は、<a href="~SVGpaths#PathData">~SVG~path~data文字列</a>を表現する。
【！~SVG11/paths.html#PathData】
~path~data文字列は、~SVG 1.1 の文法と構文解析~規則
【<a href="~SVGpaths#PathDataBNF">参照</a>】
に適合しなければナラナイ。
初期~位置は ~path文字列~内の最初の `移動する$i ~commandにて定義され、初期~方向は ~SVG 1.1 に従う【これは何のための記述？】。
◎
The &lt;string&gt; represents an SVG Path data string. The path data string must be conform to the grammar and parsing rules of SVG 1.1. The initial position is defined by the first “move to” argument in the path string. For the initial direction follow SVG 1.1.
</li>
</ul>

<p>
~UAは、閉な~loopを要求する~prop（ `shape-outside$p や `clip-path$p など）において，文字列~内に `~pathを閉じる$i ~command（ "z" ／ "Z" ）が無い場合には、暗黙的なそれで~pathを閉じるモノトスル。
◎
The UA must close a path with an implicit closepath command ("z" or "Z") if it is not present in the string for properties that require a closed loop (such as shape-outside and clip-path).
</p>
	</dd>
</dl>

<p>
上で定義されていない各~引数は、次で定義される：
◎
The arguments not defined above are defined as follows:
</p>

<dl class="valdef">
	<dt>`shape-radius@t = `length-percentage$t | `closest-side$v | `farthest-side$v</dt>
	<dd>
<p>
真円／楕円
用の半径を定義する。
省略-時の既定の値は， `closest-side^v 。
◎
Defines a radius for a circle or ellipse. If omitted it defaults to closest-side.
</p>


		<dl class="valdef">
			<dt>`closest-side@v</dt>
			<dd>
図形の中心から `基準box$の最も近い側までの長さを利用する。
真円~用には、両~次元にて最も近い側になる。
楕円~用には、各~半径に対し，当の次元にて最も近い側になる。
◎
closest-side uses the length from the center of the shape to the closest side of the reference box. For circles, this is the closest side in any dimension. For ellipses, this is the closest side in the radius dimension.
</dd>
			<dt>`farthest-side@v</dt>
			<dd>
図形の中心から `基準box$の最も遠い側までの長さを利用する。
真円~用には、両~次元にて最も遠い側になる。
楕円~用には、各~半径に対し，当の次元にて最も遠い側になる。
◎
farthest-side uses the length from the center of the shape to the farthest side of the reference box. For circles, this is the farthest side in any dimension. For ellipses, this is the farthest side in the radius dimension.
</dd>
		</dl>
	</dd>
</dl>


		</section>
		<section id="basic-shape-computed-values">
<h3 title="Computed Values of Basic Shapes">3.2. 基本~図形の算出d値</h3>

<p>
`basic-shape$t 関数の算出d値は、次の例外を除いて指定d値のままになる：
◎
The values in a &lt;basic-shape&gt; function are computed as specified, with these exceptions:
</p>

<ul>
	<li>
省略-時の値は含まれ、その既定の値に算出される。
◎
Omitted values are included and compute to their defaults.
</li>
	<li>
`circle$f ／ `ellipse$f
における `position$t 値は、左上 原点からの~offset~pair（横方向, 縦方向の順）に算出され、それぞれは，絶対~長さと百分率の組合nとして与えられる。
◎
A &lt;position&gt; value in circle() or ellipse() is computed as a pair of offsets (horizontal then vertical) from the top left origin, each given as a combination of an absolute length and a percentage.
</li>
	<li>
`inset$f における `border-radius$tp 値は、 8 個すべての［
`length$t ／ `percentage$t
］値に展開された~listとして算出される。
◎
A &lt;‘border-radius’&gt; value in inset() is computed as an expanded list of all eight &lt;length&gt; or percentage values.
</li>
</ul>

		</section>
		<section id="basic-shape-serialization">
<h3 title="Serialization of Basic Shapes">3.3. 基本~図形の直列化</h3>

<div class="p">
<p>
`basic-shape$t 関数を直列化するときは、個々の文法に従う
— その際には：
</p>

<ul ><li>文法による順序を利用して、
</li><li>アリな所では `calc$f 式を避け、
</li><li>`calc$f 変形nを避け【下の例を見よ】、
</li><li>意味を変えずに省略できる所では 成分を省略して、
</li><li>空白区切りの~tokenは各区切りを 1 個の~spaceで連結して、
</li><li>直列化される各~commaには 1 個の~spaceを後続させる。
</li></ul>

◎
To serialize the &lt;basic-shape&gt; functions, serialize as per their individual grammars, in the order the grammars are written in, avoiding calc() expressions where possible, avoiding calc() transformations, omitting components when possible without changing the meaning, joining space-separated tokens with a single space, and following each serialized comma with a single space.
</div>

<div>
<p>
`ellipse$f ／ `circle$f 内の `position$t 値（省略-時の既定も含む）を直列化するときは：
</p>

<ul ><li>その 2-値~形または 4-値~形のみに直列化し、
</li><li>`calc^f なしに表出できるときは 2-値~形が選好され、
</li><li>原点は、左上が選好され，長さ 0 よりも 0% が選好される。
</li></ul>

◎
The &lt;position&gt; values (including the defaults) in ellipse() and circle() serialize to their 2- and 4-value forms only, preferring the 2-value form when it can be expressed without calc(), preferring left and top origins, and preferring 0% over a zero length.

The &lt;position&gt; values 
</div>


<div class="example">

<p>
`position$t に与える~offsetを伴わない~keywordは、百分率の~~代用なので，百分率に転換する：
◎
Since &lt;position&gt; keywords stand in for percentages, keywords without an offset turn into percentages.
</p>

<pre>
入力： circle(at left bottom)

結果： "circle(at 0% 100%)"
</pre>

<p>
成分の省略は，既定の値が直列化に現れないことを意味する。
ただし、 `position$t は常に 2-値~形か 4-値~形を利用するので、既定の `position$t は省略されない：
◎
Omitting components means that some default values do not show up in the serialization. But since &lt;position&gt; always uses the 2- or 4-value form, a default &lt;position&gt; is not omitted.
</p>

<pre>
入力： circle(closest-side at center)

結果： "circle(at 50% 50%)"
</pre>

<p>
文法による順序を利用するとは、
`position$t 値は，常に［
横方向, 縦方向
］成分の順に与えることを意味する：
◎
Using grammar order means that &lt;position&gt; values always give horizontal components first, then vertical.
</p>

<pre>
入力： circle(at bottom left)

結果： "circle(at 0% 100%)"
</pre>

<p>
`calc^f 式を避けるとは、 
`position$t 値は， `calc^f 式を用いて 2-値~形に単純~化できるときでも， 4-値~形に直列化するモノトスルことを意味する：
◎
Avoiding calc() expressions means that some &lt;position&gt; values that could be simplified to the 2-value form must be serialized in 4-value form instead.
</p>

<pre>
入力： circle(at right 5px bottom 10px)

結果： "circle(at right 5px bottom 10px)"

次ではなく： "circle(at calc(100% - 5px) calc(100% - 10px))"
</pre>

<p>
`calc^f 式の変形nを避けるとは、指定d値（または算出d値）において
`calc^f 式が `calc^f 形のままにされなければナラナイ場合は、式を別の原点で再構成したり簡約することなく，そのまま利用することを意味する：
◎
Avoiding calc() transformations means that if a specified (or computed) calc() must stay in calc() form, it will be used as-is, not reformulated with a different origin or reduced.
</p>



<pre>
入力： bottom calc(10% + 5px)

結果： "bottom calc(10% + 5px)"

次ではなく： "top calc(90% - 5px)"
次でもなく： "calc(90% - 5px)"
</pre>

<p>
長さ 0 より 0% が選好されるとは、省略された~offsetを給するときにそうするモノトスルことを~~意味する：
◎
Preferring 0% over a zero length comes up when you must supply an omitted offset.
</p>

<pre>
入力： circle(at right 5px top)

結果： "circle(at right 5px top 0%)"
</pre>

<p>
左上の原点が選好されるとは、（ `calc^f を避けれるときは）百分率~offsetに対しては左上~隅を原点にとって正規化することを意味する：
◎
Preferring left and top origins means that some percentage offsets will normalize to those origins (when calc can be avoided).
</p>
<pre>
入力： circle(at right 5% top 0px)

結果： "circle(at 95% 0%)"
</pre>
</div>


		</section>
		<section id="basic-shape-interpolation">
<h3 title="Interpolation of Basic Shapes">3.4. 基本~図形の補間</h3>

<p>
2 つの基本~図形の合間で補間するときには、以下の規則が適用される。
互いの図形~関数の引数たちは、
<a href="~TR/css-transitions-1/#animtype-simple-list">単純~list</a>
として補間される。
~listの各~値は、アリな所では
<a href="~TR/css-transitions-1/#animtype-lpcalc">長さ, 百分率, または calc 式</a>
として補間される。
【参照先はすでに廃され，存在しない。この段落は更新される必要がある。】
値がその型でなくても，一致するならば（両~listの同じ~list位置に `nonzero$v が見出されたときなど）、~list全体は補間できる。
◎
For interpolating between one basic shape and a second, the rules below are applied. The values in the shape functions interpolate as a simple list. The list values interpolate as length, percentage, or calc where possible. If list values are not one of those types but are identical (such as finding nonzero in the same list position in both lists) those values do interpolate.
</p>
<ul>

	<li>
両~図形とも同じ`基準box$を利用するモノトスル。
◎
Both shapes must use the same reference box.
</li>
	<li>
<p>
両~図形とも同じ型の図形~関数であって，次のいずれかに該当する場合、互いの図形~関数の各~引数の合間を補間する：
◎
↓</p>

		<ul>
			<li>
型は
`ellipse$f, `circle$f
いずれかであって, かつ いずれの半径にも［
`closest-side$v ／ `farthest-side$v
］~keywordは利用されていない。
◎
If both shapes are the same type, that type is ellipse() or circle(), and none of the radii use the closest-side or farthest-side keywords, interpolate between each value in the shape functions.
</li>
			<li>
`inset$f 型である。
◎
If both shapes are of type inset(), interpolate between each value in the shape functions.
</li>
			<li>
`polygon$f 型であって，両~多角形の頂点~数, `fill-rule$t は同じ。
◎
If both shapes are of type polygon(), both polygons have the same number of vertices, and use the same &lt;fill-rule&gt;, interpolate between each value in the shape functions.
</li>
		</ul>
	</li>
	<li>
他のすべての事例に対しては、補間は指定されない。
◎
In all other cases no interpolation is specified.
</li>
</ul>



		</section>
	</section>
	<section id="shapes-from-image">
<h2 title="Shapes from Image">4. 画像による図形</h2>

<p>
~source `image$t を指定して図形を定義する仕方もある。
この場合の図形は、指定された画像の~alpha~channelから算出される。
図形は、指定された画像の［
不透明度（ ~alpha ）が `shape-image-threshold$p 値で指定される閾値より大きい画素
］で占められる~~領域として，何本かの~pathで封入される区画に算出される。
そのような画素が無ければ，`空の浮動-区画$になる。
`shape-image-threshold$p が指定されていない場合の初期~値は
`0.0^v と見なされる。
◎
Another way of defining shapes is by specifying a source &lt;image&gt; whose alpha channel is used to compute the shape. The shape is computed to be the path or paths that enclose the area(s) where the opacity of the specified image is greater than the shape-image-threshold value. The absence of any pixels with an alpha value greater than the specified threshold results in an empty float area. If the shape-image-threshold is not specified, the initial value to be considered is 0.0.
</p>

<p>
画像は、それが［
`内容~box$の使用~sizeと同じ横幅＆縦幅が指定されている，`置換d要素$
］であったかのように~sizeされ，位置される。
◎
The image is sized and positioned as if it were a replaced element whose specified width and height are the same as the element’s used content box size.
</p>

<p>
~animationを伴う~raster画像~形式（
<a href="http://www.w3.org/Graphics/GIF/spec-gif89a.txt">GIF</a>
など）用には、最初の~frameが利用される。
◎
For animated raster image formats (such as GIF), the first frame of the animation sequence is used.
</p>

<div class="example">

<p>
段落の左へ浮動している画像。
画像は、透明な背景の上に~CSS~logoの三次元版を示す。
~logoには、~alpha~channelを利用する影がある。
◎
An image is floating to the left of a paragraph. The image shows the 3D version of the CSS logo over a transparent background. The logo has a shadow using an alpha-channel.
</p>

<p>
画像は、自身の`浮動-区画$を `shape-outside$p ~propを通して定義する：
◎
The image defines its float area through the shape-outside property.
</p>

<pre class="lang-ml">
&lt;p&gt;
  &lt;img id="CSSlogo" src="CSS-logo1s.png"/&gt;
  blah blah blah blah...
&lt;/p&gt;

&lt;style&gt;
  #CSSlogo {
    float: left;
    shape-outside: attr(src url);
    shape-image-threshold: 0.1;
  }
&lt;/style&gt;
</pre>

<p>
この例の `shape-outside$p ~propは、
<a href="~CSSVAL#attr-notation" >属性~参照</a>を用いて
`img^e 要素の `src^c 属性による~URLを再利用している。
◎
The shape-outside property re-uses the url from the src attribute of the img element.
</p>

<p>
画像を表示しつつ，その`浮動-区画$に対し異なる画像を利用することも、全くアリである。
◎
It is perfectly possible to display an image and use a different image for its float area.
</p>

<p>
下の図では、~CSS~logoの~~周りの破線が~alpha~channelによる閾値を表現している。
段落の各~行lは、次の 3 通りの仕方で開始させられる：
◎
In the figure below, the alpha-channel threshold is represented by the dotted line around the CSS logo.
◎
It’s then possible to affect where the lines of the paragraph start in three ways:
</p>

<ol>
	<li>
画像~内の~alpha~channelを改変する
◎
Modifying the alpha channel in the image
</li>
	<li>
`shape-image-threshold$p ~prop値を変更する
◎
Changing the value of the shape-image-threshold property
</li>
	<li>
`shape-margin$p ~prop値を変更する（次節の例を見よ）
◎
Changing the value of the shape-margin property (see example 8)
</li>
</ol>

<figure>`shape-outside-image^dgm
<figcaption>
画像の~alpha~channelを利用して画像の~~周りに浮動する図形。
◎
A float shape around an image using its alpha-channel.
</figcaption></figure>

</div>

	</section>
	<section id="shapes-from-box-values">
<h2 title="Shapes from Box Values">5. ~box値による図形</h2>

<p>
図形は<a href="~CSSBOX#box-model">~CSS~box~model</a>に定義される各種 辺への~~参照として定義することもできる。
各~辺は、
`border-radius$p の使用~値による`曲げ$ `CSS3BG$r も含む。
`shape-box$t 値の構文は、 `margin-box$v も値にとれるよう， `box$t 値を拡張する：
◎
Shapes can be defined by reference to edges in the CSS Box Model. These edges include border-radius curvature [CSS3BG] from the used border-radius values. The &lt;shape-box&gt; value extends the &lt;box&gt; value to include margin-box. Its syntax is:
</p>

<pre class="prod">
`shape-box@t = `box$t | `margin-box$v
</pre>

<p>
各種~値の定義は：
◎
The definitions of the values are:
</p>


<dl>
	<dt>`margin-box@v</dt>
	<dd>
<p >
この値は、`~margin辺$に封入される図形を定義する。
この図形の隅の両~半径は、対応する［
`border-radius$p 値を `半径^V ／
`margin-*^p 値を `~margin^V
］と記すとき、次で決定される：
</p>
		<ul class="switch">
			<li>
`比率^V = ( `半径^V ~DIV `~margin^V ) ~GTE 1 の場合
⇒
`半径^V ~PLUS `~margin^V
</li>
			<li>
`比率^V ~LT 1 の場合
⇒
`半径^V ~PLUS ( `~margin^V ~MUL ( 1 ~PLUS ( ( `比率^V ~MINUS 1 ) の 3 乗 ) ) )
</li>
		</ul>
◎
The margin-box value defines the shape enclosed by the outside margin edge. The corner radii of this shape are determined by the corresponding border-radius and margin values. If the ratio of border-radius/margin is 1 or more, then the margin box corner radius is border-radius + margin. If the ratio of border-radius/margin is less than 1, then the margin box corner radius is border-radius + (margin * (1 + (ratio-1)^3)).
</dd>

	<dt>`border-box@v</dt>
	<dd>
`~border辺$に封入される図形を定義する。
この図形は、通常の［
~borderの外側に対する，~border半径~形状付け規則
］すべてに従う。
◎
The border-box value defines the shape enclosed by the outside border edge. This shape follows all of the normal border radius shaping rules for the outside of the border.
</dd>

	<dt>`padding-box@v</dt>
	<dd>
`~padding辺$に封入される図形を定義する。
この図形は、通常の［
~borderの内側に対する，~border半径~形状付け規則
］すべてに従う。
◎
The padding-box value defines the shape enclosed by the outside padding edge. This shape follows all of the normal border radius shaping rules for the inside of the border.
</dd>

	<dt>`content-box@v</dt>
	<dd>
`内容~辺$に封入される図形を定義する。
この~boxの各~隅の半径は、次の結果を 0 以上に切り上げた結果になる
⇒
`border-radius^p − `border-width^p − `padding^p
◎
The content-box value defines the shape enclosed by the outside content edge. Each corner radius of this box is the larger of 0 or border-radius - border-width - padding.
</dd>

</dl>

<div class="example">

<p>
下に与える 100px 正方形の［
~padding, ~border, ~margin
］はいずれも 10px とする。
定義される図形は、~box値に応じて，次で与えられる：
◎
Given the 100px square below with 10px padding, border and margins, the box values define these shapes:
</p>


<dl class="switch">
	<dt>`margin-box$v</dt>
	<dd>
黄色~画素すべてを包含している図形
◎
margin-box: the shape containing all of the yellow pixels
</dd>
	<dt>`border-box$v</dt>
	<dd>
黒色~画素すべてを包含している図形
◎
border-box: the shape containing all of the black pixels
</dd>
	<dt>`padding-box$v</dt>
	<dd>
藤色~画素すべてを包含している図形
◎
padding-box: the shape containing all of the mauve pixels
</dd>
	<dt>`content-box$v</dt>
	<dd>
水色~画素すべてを包含している図形
◎
content-box: the shape containing all of the blue pixels
</dd>
</dl>

<figure>`box-edges-simple^dgm
<figcaption>
単純な~CSS~box~modelの各~辺
◎
Simple CSS Box Model Edges
</figcaption></figure>

<p>
同じ定義は、同じ 100px 正方形に対し，次の様に［
~padding, ~border, ~margin
］~propがより複階的にされた例にも適用される：
◎
And the same definitions apply to a more complex example with the same 100px square, but with these border, padding and margin properties:
</p>

<pre class="lang-css">
border-radius: 20px 20px 20px 40px;
border-width: 30px 10px 20px 10px;
padding: 10px 20px 10px 10px;
margin: 20px 10px 10px 10px;
</pre>

<figure>`box-edges-complex^dgm
<figcaption>
複階的な~CSS~box~modelの各~辺
◎
Complex CSS Box Model Edges
</figcaption></figure>

</div>

<div class="example">

<p>
通常の浮動体に対する回込みと
`margin-box$v 値により定義される図形に対する回込みとの間の相違は、
`margin-box$v 図形が隅の形状付けを含む点にある。
100px 正方形~boxの［
~padding, ~border, ~margin
］は いずれも `10px^v にされ，
`border-radius$p は `60px^v にされているとする。
これを左~浮動体にしたとき、内容は 通常は次の様に回込む：
◎
The difference between normal float wrapping and wrapping around the shape defined by the margin-box value is that the margin-box shape includes corner shaping. Take the 100px square with 10px padding, border and margins, but with a border-radius of 60px. If you make a left float out of it, content normally wraps in this manner:
</p>

<figure>`normal-wrap^dgm
<figcaption>
浮動体に対する通常の回込み
◎
Normal float wrapping
</figcaption></figure>

<p>
浮動体に `margin-box$v 図形を追加した場合、内容は
`margin-box$v の丸められた隅を回込む。
◎
If you add a margin-box shape to the float, then content wraps around the rounded margin-box corners.
</p>


<pre class="lang-css">
shape-outside: margin-box;
</pre>

<figure>`margin-box-wrap^dgm
<figcaption>
`margin-box$v を用いる浮動体に対する回込み
◎
Float wrapping with margin-box
</figcaption></figure>
</div>

	</section>
	<section id="declaring-shapes">
<h2 title="Declaring Shapes">6. 図形の宣言-法</h2>

<p>
図形は、
`shape-outside$p ~propで宣言され，
`shape-margin$p ~propによる改変も伴い得る。
`shape-outside$p, `shape-margin$p
~propで定義される図形は、浮動体の`浮動-区画$の幾何を変更する。
◎
Shapes are declared with the shape-outside property, with possible modifications from the shape-margin property. The shape defined by the shape-outside and shape-margin properties changes the geometry of a float element’s float area.
</p>


		<section id="shape-outside-property">
<h3 title="Float Area Shape: the shape-outside property">6.1. 浮動-区画の図形： `shape-outside^p ~prop</h3>

◎名 `shape-outside@p
◎値 `none$v | [ `basic-shape$t || `shape-box$t ] | `image$t
◎初 `none$v
◎適 `浮動体$
◎継 されない
◎百 受容しない
◎算
指定された~keyword／［
<a href="#basic-shape-computed-values">基本~図形の算出d値</a>に従う `basic-shape$t と
0 〜 1 個の`shape-box$t 値
］ ／
算出d `image$t
◎
as defined for &lt;basic-shape&gt; (with &lt;shape-box&gt; following, if supplied); else the computed &lt;image&gt;; else the keyword as specified

, the &lt;image&gt; with its URI made absolute, otherwise as specified.
◎順 文法に従う
◎ア
`basic-shape$t に対しては
<a href="#basic-shape-interpolation">基本~図形の補間</a>に従う。
他の値に対しては離散的。
◎
as defined for &lt;basic-shape&gt;, otherwise discrete
◎表終

<p>
各種~値の意味は：
◎
The values of this property have the following meanings:
</p>

<dl>
	<dt>`none@v</dt>
	<dd>
`浮動-区画$は影響されない。
◎
The float area is unaffected.
</dd>

	<dt>`shape-box$t</dt>
	<dd>
図形は、
`margin-box$v,
`border-box$v,
`padding-box$v,
`content-box$v
いずれかに基づいて，
`border-radius$p による`曲げ$も含め，対応する~boxを利用して算出される
— `background-clip$p `CSS3BG$r と類似的に。
◎
If one of these values is specified by itself the shape is computed based on one of margin-box, border-box, padding-box or content-box which use their respective boxes including curvature from border-radius, similar to background-clip [CSS3BG].
</dd>

	<dt id="valdef-shape-outside-basic-shape">`basic-shape$t</dt>
	<dd>
図形は、
`inset$f,
`circle$f,
`ellipse$f,
`polygon$f
のいずれかに基づいて算出される。
`shape-box$t も給された場合、それが `basic-shape$t 関数の`基準box$を定義する。
給されなかった場合の既定の`基準box$は、 `margin-box$v になる。
◎
The shape is computed based on the values of one of inset(), circle(), ellipse() or polygon(). If a &lt;shape-box&gt; is also supplied, this defines the reference box for the &lt;basic-shape&gt; function. If &lt;shape-box&gt; is not supplied, then the reference box defaults to margin-box.
</dd>

	<dt id="valdef-shape-outside-image">`image$t</dt>
	<dd>
図形は、指定された `image$t の~alpha~channelから
`shape-image-threshold$p にて定義されるように抽出され、それに基づいて算出される。
◎
The shape is extracted and computed based on the alpha channel of the specified &lt;image&gt; as defined by shape-image-threshold.
</dd>
	<dd>
<p>
~UAは、 `shape-outside$p 値~内のどの~URLに対しても、
<a href="~TR/html5/infrastructure.html#cors-enabled-fetch">~CORSも可能化され得る~fetch</a>†
`HTML5$r
を利用するモノトスル…
【！ "Anonymous" mode を利用する, referrer source は ~stylesheetの~URLに設定する, origin は 包含している文書の~URLに設定する】
</p>

<p class="trans-note">【†
~link先は今や廃されている
— 代わりとして推定される要件は：
`~CORSになり得る要請を作成する$モノトスル
— その
( url , `行先$rq, ~CORS属性~状態 )
には
( ~stylesheetの~URL, `style^l, `Anonymous$st )
を与えるとする。
】</p>

<p>
この結果が~network~errorになった場合、妥当な~fallback画像が無ければ，値 `none$v が指定されたかのようになる。
</p>
◎
User agents must use the potentially CORS-enabled fetch method defined by the [HTML5] specification for all URLs in a shape-outside value. When fetching, user agents must use "Anonymous" mode, set the referrer source to the stylesheet’s URL and set the origin to the URL of the containing document. If this results in network errors such that there is no valid fallback image, the effect is as if the value none had been specified.
</dd>

</dl>


		</section>
		<section id="shape-image-threshold-property">
<h3 title="Choosing Image Pixels: the shape-image-threshold property">6.2. 画像~内で図形を成す画素を選ぶ： `shape-image-threshold^p ~prop</h3>

<p>
`shape-image-threshold$p は、利用する図形を画像から抽出するときに利用される
~alpha~channelの閾値を定義する。
例えば値 `0.5^v は、図形は 50% より不透明な画素すべてを封入することを意味する。
◎
The shape-image-threshold defines the alpha channel threshold used to extract the shape using an image. A value of 0.5 means that the shape will enclose all the pixels that are more than 50% opaque.
</p>

◎名 `shape-image-threshold@p
◎値 `alpha-value$t
◎初 `0^v
◎適 `浮動体$
◎継 されない
◎百 受容しない
◎算
指定された `number$t を 0 以上 1 以下に切詰めた結果
◎
specified number, clamped to the range [0,1]
◎順 文法に従う
◎ア 算出された値~型による
◎表終

<p>
各種~値の意味は：
◎
The values of this property have the following meanings:
</p>

<dl>
	<dt id="valdef-shape-image-threshold-number">`number$t</dt>
	<dd>
画像から図形を抽出するときに利用する閾値を設定する。
図形は、~alpha値がこの閾値より大きい画素で定義される。
0.0 （全~透明）以上かつ 1.0 （全~不透明）以下に入らない閾値は、この範囲に切詰められる。
◎
Sets the threshold used for extracting a shape from an image. The shape is defined by the pixels whose alpha value is greater than the threshold. A threshold value outside the range 0.0 (fully transparent) to 1.0 (fully opaque) will be clamped to this range.
</dd>

	<dt>`percentage$t</dt>
	<dd class="trans-note">【
この値もとり得るはずだが、言及されていない。
割合として等価な `number$t 値と同じ効果になるであろうが（算出d値も `number^t になると思われる）。
】</dd>
</dl>

<p class="note">注記：
この~moduleの将来~levelでは、画像の~alpha~dataの代わりに輝度~dataを利用する
切替n~~機能を定義し得る。
そうなった場合、 `shape-image-threshold$p による閾値は，［
切替n状態に応じて，~alpha, 輝度どっちかを適用する
］ように拡張されることになる。
◎
Note: A future level of CSS Shapes may define a switch to use the luminance data from an image instead of the alpha data. When this happens, shape-image-threshold will be extended to apply its threshold to either alpha or luminance, depending on the switch state.
</p>

		</section>
		<section id="shape-margin-property">
<h3 title="Expanding a Shape: the shape-margin property">6.3. 図形の拡幅： `shape-margin^p ~prop</h3>

<p>
`shape-margin$p ~propは、 `shape-outside$p に~marginを追加する。
これは、~~元の図形の外周から外方に［
`shape-margin$p による距離
］以内の地点すべてを含むような，最小の図形を定義する。
この~propは、負の値はとれない。
◎
The shape-margin property adds a margin to a shape-outside. This defines a new shape that is the smallest contour (in the shrink-wrap sense) that includes all the points that are the shape-margin distance outward in the perpendicular direction from a point on the underlying shape. Note that at points where a perpendicular is not defined (e.g. sharp points) take all points on the circle centered at the point and with a radius of shape-margin. This property takes only non-negative values.
</p>

◎名 `shape-margin@p
◎値 `length-percentage$vt
◎初 `0^v
◎適 `浮動体$
◎継 されない
◎百
包含塊の`行内~size$を基準にする
◎
refer to the inline size of the containing block
◎算 算出された `length-percentage$t 値
◎順 文法に従う
◎ア 算出された値~型による
◎表終

<dl>
	<dt id="valdef-shape-margin-length-percentage">`length-percentage$t</dt>
	<dd>
図形の~marginを，指定された値に設定する。
◎
Sets the margin of the shape to the specified value.
</dd>
</dl>

<div class="example">

<p>
多角形な `shape-outside$p からの~offsetを作成するような
`shape-margin$p
。
薄い水色の区画は、~size `100px^v 平方の浮動体に入る図形を示す。
濃い水色の区画は、 `10px^v 分の~offsetを示す。
◎
A shape-margin creating an offset from a polygonal shape-outside. The lighter blue area shows the shape in a 100x100px float, and the darker blue area shows the 10px offset.
</p>


<pre class="lang-css">
.float {
  shape-outside: polygon(10px 10px, 90px 50px, 40px 50px, 90px 90px, 10px 90px);
  shape-margin: 10px;
}
</pre>

<figure>`nepal-flag-shape^dgm</figure>

</div>

<div class="example">

<p>
`shape-margin$p が
<a href="#shapes-from-image">画像による図形 節</a>
の例の~CSS~logoに追加されたならば、図形を`回込んで$いる行l~boxたちは，更に短縮される。
◎
If shape-margin is added to the CSS logo from example 6, the line boxes wrapping around the shape are shortened further.
</p>

<pre class="lang-css">
#CSSlogo { shape-margin: 35px; }
</pre>


<figure>`shape-outside-image-with-margin^dgm
<figcaption>
~alpha~channelと
`shape-margin$p `35px^v を利用して，画像の~~周りに浮動-区画を成す図形
◎
A float shape around an image using its alpha-channel with a 35-pixel shape-margin
</figcaption></figure>

</div>

		</section>
	</section>
	<section id="priv-sec">
<h2 title="Privacy and Security Considerations">7. ~privacyと~securityの考慮点</h2>

<p>
`shape-outside$p の `image$t 値は，一部の画像~dataを新たな仕方で公開し得るので、その利用-は~CORS認可を伴う画像に制限される。
◎
Since the &lt;image&gt; value of shape-outside can expose some image data in a new way, use is limited to images with CORS approval.
</p>

	</section>
	<section id="acknowledgments">
<h2 title="Acknowledgments">謝辞</h2>

<p>
この仕様に貢献された、次の方々に：
</p>

<p lang="en-x-a0">
This specification is made possible by input from Andrei Bucur, Alexandru Chiculita, Elika Etemad, Arron Eicholz, Sylvain Galineau, Daniel Glazman, Arno Gourdol, Zoltan Horvath, Chris Jones, Bem Jones-Bey, Marcus Mielke, Alex Mogilevsky, Hans Muller, Mihnea Ovidenie, Virgil Palanciuc, Robert Sanderson, Dirk Schulze, Peter Sorotokin, Bear Travis, Eugene Veselov, Stephen Zilles and the CSS Working Group members.
</p>

	</section>
	<section id="change-log">
<h2 title="Change Log">変更~log</h2>

<p class="trans-note">【
この節は未訳。
】</p>

	</section>

</main></div>

