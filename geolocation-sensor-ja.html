<!DOCTYPE html><html lang="ja"><head><meta charset="utf-8">
<title>Geolocation Sensor（日本語訳）</title>

<link rel="stylesheet" href="common.css" type="text/css">
<link rel="stylesheet" href="common-w3c.css" type="text/css">

<script src="common0.js"></script>
<script src="common1.js" async></script>

<script>

Util.ready = function(){
	const source_data = {
		toc_main: 'MAIN0',
		generate: expand
	};
	Util.switchWordsInit(source_data);
}

function expand(){
	const class_map = this.class_map;
	const tag_map = this.tag_map;
	const link_map = this.link_map;

	return this.html.replace(
		/%[\w\-~一-鿆あ-ん]+|`(.+?)([$@\^])(\w*)/g,
		create_html
	);

	function create_html(match, key, indicator, klass){

if(!key) {//%
	return `<var>${match.slice(1)}</var>`;
}

let href = '';
let href1 = '';
{
	const n = key.indexOf('＠');
	if(n > 0) {
		href1 = key.slice(n + 1);
		key = key.slice(0, n);
	}
}
let text = key;

switch(klass){
case 'r':
	text = `[${key}]`;
	href = `#bib-${key.toLowerCase()}`;
	break;
case 'l':
case 'vsT':
	text = `"<code class="literal">${text}</code>"`;
	break;
case 'mc':
	text = 'constructor';
	klass = 'm';
	key = `new ${key}`;
	break;
case 'm':
	const n = text.indexOf('(');
	if(n > 0){
		key = text.slice(0, n);
		text = key + text.slice(n).replace(/\w+/g, '<var>$&</var>');
	}
	break;
case 'en':
	text = `<span lang="en">${key}</span>`;
	break;
}

let tag = tag_map[klass];
if(tag) {
	let classname = class_map[klass];
	classname = classname ? ` class="${classname}"` : '';
	text = `<${tag}${classname}>${text}</${tag}>`;
}

if(indicator !== '^'){
	href = href1 || link_map[ klass ? `${klass}.${key}` : key ] || href;
	if(!href){
		console.log(match); // check error
		return match;
	}

	switch(indicator){
	case '$':
		text = `<a href="${href}">${text}</a>`;
		break;
	case '@':
		text = `<dfn id="${href.slice(1)}">${text}</dfn>`;
		break;
	}
}

return text;


	}
}

</script>


<script type="text/plain" id="_source_data">


●●options

spec_title:Geolocation Sensor
spec_date:2024-06-17
trans_update:2024-06-18
	source_checked:190809
spec_status:ED
original_url:https://w3c.github.io/geolocation-sensor/
	abbr_url:GEOLOCATION-SENSOR
ref_id_prefix:bib-
ref_id_lowercase:true
page_state_key:SENSORS
site_nav:sensors
ref_id_lowercase:true
copyright:2024,permissive
trans_1st_pub:2019-08-27
conformance:w3c

●●class_map
E:error
jt:js-type
jv:js-value

●●tag_map
I:code
E:code
m:code
c:code
mR:code
mb:code
cite:cite
a:code
e:code
i:i
em:em
jt:code
jv:code
stg:strong

●●original_id_map

●●mdn_urls
	geolocationsensor:API/GeolocationSensor
	dictdef-geolocationsensoroptions:API/GeolocationSensorOptions
	dictdef-geolocationsensorreading:API/GeolocationSensorReading
	dictdef-readoptions:API/ReadOptions

●●link_map

	●IDL
E.SecurityError:~WEBIDL#securityerror
Exposed:~WEBIDLjs#Exposed
SecureContext:~WEBIDLjs#SecureContext

Promise:~WEBIDL#idl-promise
double:~WEBIDL#idl-double
unrestricted double:~WEBIDL#idl-unrestricted-double
c.unrestricted double:~WEBIDL#idl-unrestricted-double

I.AbortSignal:~DOM4#abortsignal
I.Coordinates:https://dev.w3.org/geo/api/spec-source.html#coordinates_interface
	I.DOMException:~WEBIDL#idl-DOMException
	例外:~WEBIDL#idl-DOMException
I.DOMHighResTimeStamp:~HRTIME#dom-domhighrestimestamp
I.GeolocationSensor:#geolocationsensor
I.GeolocationSensorOptions:#dictdef-geolocationsensoroptions
I.GeolocationSensorReading:#dictdef-geolocationsensorreading
	dictdef-geolocationreadingvalues:API/GeolocationReadingValues
	廃）I.PermissionName → ~sensor許可~名~群
I.ReadOptions:#dictdef-readoptions
I.Sensor:~SENSORS#sensor
I.SensorOptions:~SENSORS#dictdef-sensoroptions

i.地理所在~sensor:#geolocation-sensor

m.accuracy:#dom-geolocationsensor-accuracy
m.altitude:#dom-geolocationsensor-altitude
m.altitudeAccuracy:#dom-geolocationsensor-altitudeaccuracy
m.heading:#dom-geolocationsensor-heading
m.latitude:#dom-geolocationsensor-latitude
m.longitude:#dom-geolocationsensor-longitude
m.speed:#dom-geolocationsensor-speed

m.start:~SENSORS#dom-sensor-start
m.stop:~SENSORS#dom-sensor-stop

m.new GeolocationSensor:#dom-geolocationsensor-geolocationsensor
	%readOptions:#dom-geolocationsensor-read-readoptions-readoptions

m.read:#dom-geolocationsensor-read
mb.signal:#dom-readoptions-signal

mR.accuracy:#dom-geolocationsensorreading-accuracy
mR.altitude:#dom-geolocationsensorreading-altitude
mR.altitudeAccuracy:#dom-geolocationsensorreading-altitudeaccuracy
mR.heading:#dom-geolocationsensorreading-heading
mR.latitude:#dom-geolocationsensorreading-latitude
mR.longitude:#dom-geolocationsensorreading-longitude
mR.speed:#dom-geolocationsensorreading-speed
mR.timestamp:#dom-geolocationsensorreading-timestamp


c.heading:~GEOLOCATION#dom-geolocationcoordinates-heading

	l.geolocation:
vsT.geolocation:#geolocation-virtual-sensor-type

jt.Object:https://tc39.es/ecma262/multipage/fundamental-objects.html#sec-object-objects


	●用語
地理所在:#geolocation
地理所在~promiseを解決する:#resolve-a-geolocation-promise
地理所在~sensor~objを初期化する:#construct-a-geolocation-sensor-object
	地理所在~sensor~objを構築する:#construct-a-geolocation-sensor-object
地理所在の読取りを構文解析する:#geolocation-reading-parsing-algorithm

	●用語（ sensor
~errorを通知する:~SENSORS#notify-error
~sensor~objを初期化する:~SENSORS#initialize-a-sensor-object
~sensor型:~SENSORS#sensor-type
~sensor施策により制御される特能を検査する:~SENSORS#check-sensor-policy-controlled-features
新たな読取りを通知する:~SENSORS#notify-new-reading
最新な地理所在~読取り:#latest-geolocation-reading
最新な読取り~map:~SENSORS#latest-reading
最新な読取り~mapから値を取得する:~SENSORS#get-value-from-latest-reading
~sensor許可~名~群:~SENSORS#sensor-permission-names
拡張~sensor~interface:~SENSORS#extension-sensor-interface
属する~virtual~sensor型:~SENSORS#_virtual-sensor-type
	~virtual~sensor型:~SENSORS#virtual-sensor-type
型ごとの~virtual~sensor~metadata:~SENSORS#per-type-virtual-sensor-metadata
~virtual~sensor~metadata:~SENSORS#virtual-sensor-metadata
vsM.読取り構文解析~algo:~SENSORS#virtual-sensor-metadata-reading-parsing-algorithm
~sensor読取り:~SENSORS#sensor-reading
一数の読取りを構文解析する:~SENSORS#parse-single-value-number-reading

	●用語（外部
並列的:~HTMLINFRA#in-parallel

~map:~INFRA#ordered-map
map.~entry:~INFRA#map-entry
map.~key:~INFRA#map-key
map.値:~INFRA#map-value
	~EACH:~INFRA#list-iterate

構築子~手続き:~WEBIDL#constructor-steps
	~THROW:~WEBIDL#dfn-throw

通達に~algoを追加する:~DOM4#abortsignal-add
aB.中止-済み:~DOM4#abortsignal-aborted
aB.中止-事由:~DOM4#abortsignal-abort-reason

~nullable:~WEBIDL#dfn-nullable-type

en.decimal degrees:https://en.wikipedia.org/wiki/Decimal_degrees

施策により制御される特能:~PERMISSIONS-POLICY#policy-controlled-feature
既定の許容list:~PERMISSIONS-POLICY#policy-controlled-feature-default-allowlist


	§:~SENSORS#security-and-privacy
	§:~SENSORS#extensibility
	§:~SENSORS#automation
	https://www.w3.org/das/roadmap
	https://kenchris.github.io/sensor-polyfills/run-geolocation.html

●●words_table1

●●words_table

	●物理／幾何／device
device:
GPS:
地理所在:geolocation::~
Geolocation:
地球:Earth::~
水平:horizontal::~
地理的:geographic:~
地理-:geographic:~
緯度:latitude::~
経度:longitude::~
	緯度:lat
	経度:long
高度:altitude::~
時計回り:clockwise::~
真北:true north::~
速度:velocity::~
現実世界:real-world:~

	●sensor／計測
sensor::::センサー
最新な:latest:~
信号:signal::~
見積もっ:estimateし:~
見積もり:estimation:~
virtual:
確度:confidence:~
楕円体:ellipsoid::~
magnitude::大きさ
meter::::メートル
	~meter数:meters
	~~天へ:above
degree::度°
	degree数:degrees
	^en:decimal degrees
	毎秒:every seconds
	秒:second
	~deviceの進行方向:direction of travel

	●事例
単発の:one-shotな:~
単発的:one-off:~
background:
	~backgroundに:backgrounded
foreground:
geofence:
geotrack:
	~geofence法:geofencing
	~geotrack法:geotracking
	geofence:geolocation fence

近似的:approximate:~
粒度:granularity:~
排他的:mutually exclusive:~
重合する:overlapする:重なり合う
	重合するものもある:overlaps exist
見越す:anticipateする:~
繰返し:repeatして:繰返し
real-time::::リアルタイム

GPS:
QR:
SNS:social networking::SNS
WiFi:
attraction::::アトラクション
balcony::::バルコニー
battery::::バッテリ
database::::データベース
email::::メール
guide::::ガイド
marathon-run:marathon run:::マラソン
news:::ニュース
online::::オンライン
race::::レース
rental-car-counter:rental car counter:レンタカー受付
sports::::スポーツ
ticket::::チケット
alert:
landmark::::ランドマーク
reminder:
	^en:reminder and to-do
rank::::ランク
	~rank付け:rank
関心地点:points of interest:~
	興味を引く／関心がある:interesting
不動産:real estate:~
住居:apartment:~
乗車:ride:~
乗車地点:pickup point:~
到着-:reach:~
割引券:coupon:~
友人:friend:~
外国の:foreign:~
天気:weather:~
寝室:bedroom:~
小売店:retailer:~
小売:retail:~
店内の:in-store:~
	店舗:physical presence of retailer
提供品:offers:~
携帯:handheld:~
旅行:travel:~
活動:activity:~
節約-:save:~
素早く:quickに:~
腕:arm:~
自転車:bicycle:~
観光:tour:~
観光客:tourist:~
都市:city:~
開催地:venue:~
順応-:adapt:~
高速道路区間:highway route section:~
route::::ルート
	一本道の:without side roads
	詳細な:turn-by-turn
	角を曲がるたび:detailed turn-by-turn
確認:confirmation:~
牛乳:milk:~
supermarket::::スーパー
booking:ticketing/booking:予約
concert::::コンサート
指名-:designate:~
運転手:driver:~
運転-:drive:~
	運転する:driving
補助-:help:~
持出せ:bring upでき:持ち出せ
巻付ける:strapする:巻き付ける
買う:buyする:~
豊かに:enrich:~

地図:map:~
地図用:mapping:~
地域-:local:~
区域:area:~
近辺:vicinity:~
近接度:proximity:~

文化的:cultural:~
美術館:museum:~
祭り:festival:~
見本市:exhibition:~
合図-:cue:~

	近付いた:proximity of
	近所:neighborhood
	通りがかった:cross
	通りがかった:pass
	長く／長い:long
	近い:close
	近い:near
	近くで:nearby
	場所:place
	道に迷った:finds themselves in an unfamiliar area
	~~特定:pinpoint
	所在を〜示す:locate
	周囲の:surrounding

	任意選択で〜した:opted in to
	促す:remind
	~tag付け:tagging／:tagged
	切った:turn off
	予め定義された:pre-defined
	もらう:let
	の様な:-like
	誰か:someone
	大まか:rough
	いわゆる:aka.
	のみならず:but likewise
	応じて:accordingly
	最終的:eventual
	併せて:conflate
	実現不可能:impossible to realize
	要は:essentially
	引換えに:tradeoff 〜 trade
	逆も同様:vice versa
	戻った:back
	-:available
	~~流れ:theme
	~~最新の:up-to-date
	やるべき何か:to do something
	伝えれ:inform
	合う:fit

	自分:am I
	探していた:looked at before
	持ち帰れる:pick up
	~~着信した:incoming
	~~入荷:available
	確かめたく:want to check
	今:right now
	速く:faster
	速く:fast
	多少時間をとる:take some time to
	合致するものが膨大にあり得る:number of possible matches is high
	多過ぎ:too high

	●仕様（ status
横断的:horizontal:~
	〜回:a round of 〜
必要性:needs:~
末端-:end:~
利害関係者:stakeholder:~
満足-:satisfy:~
探求-:seek:~
参考:informative:~
成熟-:mature:~
	成熟していくに伴い:In line with the expectations of 〜 maturity stage
投機的:speculative:~
	-:For reference,
	より広い:wider
	〜に基づく:informed by
	歓迎-／寄せられたし:welcome
	-:contribution
	触れる:touching
	いくつか:couple of
	遡って:back in 
	とり挙げる:pick up
	場:place
	これを書いた時点:at time of writing
	関心がある:interested in
	居そうにない:no 〜 appear to be

	●仕様
分類法:categorization:~
分類:category:~
問い:question:~
現今の:contemporaryな:~
中核的:core:~
目指す:aimする:~
獲得-:acquire:~
表面化-:surface:~
究明-:investigate:~
保持場:placeholder:~
polyfill:
	~polyfill可能:polyfillable
	問わない:agnostic
	早期の:early
	揺籃期:during the incubation phase
	参加者:participant:~
	汎用~sensor~API:Generic Sensor API
	地理所在~sensor~API:Geolocation~Sensor~API
	^r:WGS 84
	指す:refer
	については:with respect to
	ある種の:certain
	, 等々:similar
	上層:on top of
	まず:first
	更に:further
	概ね:roughly
	新規:novel::~

	●保安
password::::パスワード
同意:consent:~
視覚呈示:visual:~
許容list:allowlist::許容 list:許容リスト

	●未分類
量:amount:~
nullable:::null 可能
multitask::::マルチタスク

	取得-法:getting
	^c／-:heading
	もらう:let
	沿って:along
	に伴い:as soon as
	どれだけ／どこまで:how
	含む:include
	:called
	渡され:pass
	わたって:across
	〜から:counting
	以上で／以前に:previously

	●変数
	%geo
	%~parameter群:parameters
	%読取り:reading
	%値:value


●●ref_normative

[DOM]
    Anne van Kesteren. ＜DOM Standard＞. Living Standard. URL: https://dom.spec.whatwg.org/
[ECMASCRIPT]
    ＜ECMAScript Language Specification＞. URL: https://tc39.es/ecma262/multipage/
[GENERIC-SENSOR]
    Rick Waldron. ＜Generic Sensor API＞. URL: https://w3c.github.io/sensors/
[HR-TIME-2]
    Ilya Grigorik. ＜High Resolution Time Level 2＞. URL: https://w3c.github.io/hr-time/
[HTML]
    Anne van Kesteren; et al. ＜HTML Standard＞. Living Standard. URL: https://html.spec.whatwg.org/multipage/
[INFRA]
    Anne van Kesteren; Domenic Denicola. ＜Infra Standard＞. Living Standard. URL: https://infra.spec.whatwg.org/
[PERMISSIONS-POLICY-1]
    Ian Clelland. ＜Permissions Policy＞. URL: https://w3c.github.io/webappsec-permissions-policy/
[WEBIDL]
    Edgar Chen; Timothy Gu. ＜Web IDL Standard＞. Living Standard. URL: https://webidl.spec.whatwg.org/
[WGS84]
    National Imagery and Mapping Agency. ＜Department of Defence World Geodetic System 1984＞. Technical Report, Third Edition. URL: http://earth-info.nga.mil/GandG/publications/tr8350.2/wgs84fin.pdf

●●ref_informative

[GEOLOCATION-API]
    Andrei Popescu. ＜Geolocation API Specification 2nd Edition＞. URL: https://w3c.github.io/geolocation-api/


●●trans_metadata
<p>
~THIS_PAGEは、~W3Cにより
編集者草案として公開された
<a href="~SPEC_URL">Geolocation Sensor</a>
を日本語に翻訳したものです。
~PUB

●●spec_metadata

最新公表バージョン
	https://www.w3.org/TR/geolocation-sensor/
公表履歴
	https://www.w3.org/standards/history/geolocation-sensor/
フィードバック
	<a href="mailto:public-device-apis@w3.org?subject=%5Bgeolocation-sensor%5D%20YOUR%20TOPIC%20HERE">public-device-apis@w3.org</a> with subject line “<kbd>[geolocation-sensor] <i>… message topic …</i></kbd>” (<a href="https://lists.w3.org/Archives/Public/public-device-apis/" rel="discussion">archives</a>)
	https://github.com/w3c/geolocation-sensor/issues
編集
	<a href="https://intel.com/">Anssi Kostiainen</a> (Intel Corporation)
	<a href="https://google.com/">Thomas Steiner</a> (Google Inc.)
	<a href="https://google.com/">Marijn Kruisselbrink</a> (Google Inc.)
テスト
	<a href="https://github.com/web-platform-tests/wpt/tree/master/geolocation-sensor">web-platform-tests</a>
Polyfills
	<a href="https://github.com/kenchris/sensor-polyfills/blob/master/src/geolocation-sensor.js">geolocation-sensor.js</a>
	<a href="https://github.com/w3c/sensors/blob/main/polyfills/geolocation.js">geolocation.js</a>

commit 履歴
	https://github.com/w3c/geolocation-sensor/commits/main
公表者
	<a href="https://www.w3.org/groups/wg/das">Devices and Sensors WG</a>
</script>

</head>
<body>

<header>
	<hgroup>
<h1>地理所在センサー — Geolocation Sensor</h1>
	</hgroup>
</header>

<div id="MAIN" hidden>
	<section id="abstract">
◎要約

<p>
この仕様は、
~hostしている~deviceの`地理所在$を得するための
`GeolocationSensor$I ~interfaceを定義する。
◎
This specification defines the GeolocationSensor interface for obtaining the geolocation of the hosting device.
</p>

	</section>
	<section id="sotd">
◎位置付け

<p>
この節では、
公表~時点における…
【以下、この節の他の内容は，~SOTD-W3Cに移譲。】
</p>

<p>
<strong>
この仕様には、［
より広い~community, 末端-利用者, ~web開発者
］からの~feedbackと要請に基づく
`§ 利用事例の分類法＠#use-cases-categorization$
が在る。
これらの利用事例に対しては、［
文書化された利用事例の集合が，すべての利害関係者の必要性を満足すること
］および［
これらの能力~用に適切な抽象-化を供すること
］を確保するため，
より広い~web~communityからの更なる考査を歓迎する。
考査と~feedback
— 特に，新たな利用事例の分類［
`§ ~background — 継続的な地理所在の更新＠#use-cases-background-continuous$,
`§ ~background — 単発的な~geofence~alert＠#use-cases-background-geofence$
］に対するそれら —
は、
後で探求される。
すべての~feedback
— 新たな参考~利用事例, その他の考慮点を含む —
は、
`GitHub 課題~list＠https://github.com/w3c/geolocation-sensor/issues$
を介して寄せられたし。
</strong>
◎
This specification presents a § 8.1 Categorization of use cases informed by feedback and requests from the wider community, end users and web developers. These use cases welcome further review from the wider web community to ensure the documented use case set satisfies the needs of all stakeholders and provides appropriate abstractions for these capabilities. Review and feedback is sought after in particular for the new § 8.4 Background—Continuous geolocation updates and § 8.5 Background—One-off geolocation fence alert use case categories. All feedback, including contributions for new informative use cases and other considerations, is welcome via GitHub issues.
</p>

<p><strong>
この作業草案が成熟していくに伴い、
`§ ~API＠#api$ による規範的な定義は，［
利害関係者からの~feedback／
実装~経験／
~securityや~privacyその他の考慮点
］に基づいて変更され得る。
</strong>
◎
In line with the expectations of the Working Draft maturity stage, the normative § 5 API definition may change based on stakeholders' feedback, implementation experience, security and privacy, and other considerations.
</p>

<p>
`Devices and Sensors ~WG^cite は、
横断的な考査を要請する前に，［
当~APIの~securityと~privacyの側面に対する自己-考査と改訂
］回を遂行することになる。
既存の~securityと~privacyの課題は，
`ここ＠https://www.w3.org/PM/horizontal/review.html?shortname=geolocation-sensor$に見出せる。
◎
The Devices and Sensors Working Group will perform a round of self-review and revisions on the security and privacy aspects of the API before requesting horizontal review. Existing security and privacy issues can be found here.
</p>

	</section>

<main id="MAIN0">

	<section id="_conventions">
<h2>【この訳に特有な表記規約】</h2>

◎表記記号

	</section>
	<section id="intro">
<h2 title="Introduction">1. 序論</h2>

<p>
`GeolocationSensor$I ~APIは、
`Sensor$I ~interface `GENERIC-SENSOR$r
を拡張して，~hostしている~deviceの`地理所在$についての情報を供する。
◎
The GeolocationSensor API extends the Sensor interface [GENERIC-SENSOR] to provide information about the geolocation of the hosting device.
</p>

<p>
`GeolocationSensor$I の特能~集合は
`地理所在~API^cite `GEOLOCATION-API$r のそれに類似するが、［
`現今の各種~sensor~API＠https://www.w3.org/das/roadmap$
にわたって一貫した，現代の~API
］を通して表面化され，
`~security／~privacy＠~SENSORS#security-and-privacy$
を改善し，`拡張-可能＠~SENSORS#extensibility$である。
この~APIは、
既存の`地理所在~API^citeの上層に
`~polyfill可能＠https://github.com/kenchris/sensor-polyfills/blob/master/src/geolocation-sensor.js$になることを目指す
（`例＠https://kenchris.github.io/sensor-polyfills/run-geolocation.html$）。
◎
The feature set of the GeolocationSensor is similar to that of the Geolocation API [GEOLOCATION-API], but it is surfaced through a modern API that is consistent across contemporary sensor APIs, improves security and privacy, and is extensible. The API aims to be polyfillable (example) on top of the existing Geolocation API.
</p>

	</section>
	<section id="examples">
<h2 title="Examples">2. 例</h2>

<p>
毎秒ごとに新たな地理所在~読取りを取得する：
◎
Get a new geolocation reading every second:
</p>

<div class="example">

<pre class="lang-js">
const %geo = new GeolocationSensor({ frequency: 1 });
%geo.start();

%geo.onreading = () =&gt; console.log(``^緯度: ${%geo.latitude}, 経度: ${%geo.longitude}``^);

%geo.onerror = event =&gt; console.error(event.error.name, event.error.message);
</pre>
</div>

<p>
単発の地理所在~読取りを取得する:
◎
Get a one-shot geolocation reading:
</p>

<div class="example">

<pre class="lang-js">
GeolocationSensor.read()
  .then(%geo =&gt; console.log(``^緯度: ${%geo.latitude}, 経度: ${%geo.longitude}``^))
  .catch(%error =&gt; console.error(%error.name));
</pre>
</div>

	</section>
	<section id="security-and-privacy">
<h2 title="Security and Privacy Considerations">3. ~security／~privacyの考慮点</h2>

<p class="note">注記：
`汎用~sensor~API^cite （ `Generic Sensor API^en ） `GENERIC-SENSOR$r により軽減されない，地理所在に特有な［
~security／~privacy
］の考慮点を究明して、
地理所在に特有な軽減策を定義する。
◎
Note: Investigate any geolocation-specific security and privacy considerations that are not mitigated by the Generic Sensor API [GENERIC-SENSOR], and define geolocation-specific mitigations.
</p>

	</section>
	<section id="model">
<h2 title="Model">4. ~model</h2>

<p>
用語
`地理所在@
は、
~hostしている~deviceの現実世界における地理的な所在を指し，
地理-座標 `WGS84$r で表現される。
◎
The term geolocation refers to the real-world geographic location of the hosting device represented in geographic coordinates [WGS84].
</p>

<p class="note">注記：
実装は、
複数の所在~情報~sourceを利用して，`地理所在$情報を獲得できる。
この仕様は、
それらの~sourceについては問わない。
◎
Note: An implementation can use multiple location information sources to acquire geolocation information, and this specification is agnostic with respect to those sources.
</p>

<p>
`~sensor型$
`地理所在~sensor@i
は：
</p>
<ul>
	<li>
`Sensor$I 下位class【`拡張~sensor~interface$】として、
`GeolocationSensor$I が結付けられる。
◎
The Geolocation Sensor sensor type’s associated Sensor subclass is the GeolocationSensor class.
</li>
	<li>
その`~sensor許可~名~群$は、
`geolocation^l のみからなる。
◎
The Geolocation Sensor has an associated PermissionName which is "geolocation".
</li>
	<li>
`施策により制御される特能$であり，文字列 `geolocation^l により識別される。
その`既定の許容list$は `'self'^l とする。
◎
The Geolocation Sensor is a policy-controlled feature identified by the string "geolocation". Its default allowlist is 'self'.
</li>
	<li>
それが`属する~virtual~sensor型$は、
`geolocation@vsT
とする。
◎
The Geolocation Sensor has an associated virtual sensor type which is "geolocation".
</li>
</ul>

<p>
`最新な地理所在~読取り@
とは、
`~sensor型$ `地理所在~sensor$i の `Sensor$I 用の`最新な読取り~map$である。
それは、
次に挙げる各~文字列を`~key$mapに伴う`~entry$mapからなり，
それらの`値$mapは~deviceの`地理所在$を包含する
⇒＃
`latitude^l,
`longitude^l,
`altitude^l,
`accuracy^l,
`altitudeAccuracy^l,
`heading^l,
`speed^l
◎
A latest geolocation reading is a latest reading for a Sensor of Geolocation Sensor sensor type. It includes entries whose keys are "latitude", "longitude", "altitude", "accuracy", "altitudeAccuracy", "heading", "speed" and whose values contain the device’s geolocation.
</p>

<p class="issue">【！注記：】
地球~用の標準~座標系の視覚呈示を追加する。
◎
Note: Consider adding a visual of the standard coordinate system for the Earth.
</p>

	</section>
	<section id="api">
<h2 title="API">5. ~API</h2>

<div class="issue no-marker">
<p>
この仕様を成す側面のうち，~backgroundな地理所在を~supportすることに触れるものには、
いくつか関係する課題がある。
`課題 #62＠https://github.com/w3c/geolocation-sensor/issues/62$
“`Background geofencing^en” は、
~backgroundな~geofence法を特定的に追跡するために利用される。
◎
Issue #62 on GitHub: “Background geofencing”
◎
There are a couple of related issues touching on aspects of supporting background geolocation. Let's use this one to track background geofencing specifically.
</p>

<p>
誰かがこの作業をとり挙げるよう求める場合、
`@mkruisselbrink＠https://github.com/mkruisselbrink$ 氏が`提案した~API＠https://lists.w3.org/Archives/Public/public-geolocation//2014Sep/0012.html$
（それは、
遡って 2014 年に， `Geolocation WG mailing list^en へ送信された）
が開始する場として適理な様に見受けられる。
◎
For reference, @mkruisselbrink sent a proposed API to the Geolocation WG mailing list back in 2014. That seems like a reasonable place to start if someone wants to pick up this work.
</p>

<p>
これを書いた時点では、［
~backgroundな地理所在／~backgroundな~geofence法
］用の~APIを開発することに関心がある実装者は，居そうにないことに注意。
なので、
この~groupにおいて行われる仕様~作業は，純粋に投機的である。
◎
Note that at time of writing no implementers appear to be interested in developing an API for background geolocation or geofencing and so any specification work done in this group will be purely speculative.
</p>
</div>

		<section id="geolocationsensor-interface">
<h3 title="The GeolocationSensor Interface">5.1. `GeolocationSensor^I ~interface</h3>

<pre class="idl">
[`SecureContext$,
 `Exposed$=(DedicatedWorker, Window)]
interface `GeolocationSensor@I : `Sensor$I {
  `GeolocationSensor$mc(optional `GeolocationSensorOptions$I %options = {});
  static `Promise$&lt;`GeolocationSensorReading$I&gt; `read$m(optional `ReadOptions$I %readOptions = {});
  readonly attribute `unrestricted double$? `latitude$m;
  readonly attribute `unrestricted double$? `longitude$m;
  readonly attribute `unrestricted double$? `altitude$m;
  readonly attribute `unrestricted double$? `accuracy$m;
  readonly attribute `unrestricted double$? `altitudeAccuracy$m;
  readonly attribute `unrestricted double$? `heading$m;
  readonly attribute `unrestricted double$? `speed$m;
};

dictionary `GeolocationSensorOptions@I : `SensorOptions$I {
  /* <span class="comment">
`GeolocationSensor^I に特有な~option群の保持場
◎
placeholder for GeolocationSensor-specific options
</span> */
};

dictionary `ReadOptions@I : `GeolocationSensorOptions$I {
  `AbortSignal$I? `signal@mb;
};

dictionary `GeolocationSensorReading@I {
  `DOMHighResTimeStamp$I? `timestamp@mR;
  `double$? `latitude@mR;
  `double$? `longitude@mR;
  `double$? `altitude@mR;
  `double$? `accuracy@mR;
  `double$? `altitudeAccuracy@mR;
  `double$? `heading@mR;
  `double$? `speed@mR;
};
</pre>

<div class="note">

<p>注記：
`地理所在~API^citeの `Coordinates$I ~interfaceに対する規範的な変更点は：
◎
Normative changes to the Coordinates interface of the Geolocation API are the following:
</p>

<ul>
	<li>
［
`NaN^jv, `+Infinity^jv ／ `-Infinity^jv
］に対し `TypeError^E を投出しないよう `unrestricted double$c を利用する。
（`地理所在~API^citeは、 `heading$c 用に `NaN^jv を妥当な値として定義するが，まだその型として `double^c を利用している。）
◎
Use unrestricted double to not throw TypeError on NaN, +Infinity or −Infinity. (Geolocation API defines NaN as a valid value for heading, yet uses double as its type.)
</li>
	<li>
すべての属性は、既定で ~NULL になるのを許容するため，`~nullable$を利用する（
`地理所在~API^citeは、これらの属性に~accessする同期的な手段を供さない
— したがって，［
`latitude^m, `longitude^m, `altitude^m（緯度, 経度, 高度）
］は ~nullableでなく，
“すべての実装は~supportするモノトスル”
とされていた）。
【代わりに，~UAは、当の属性が 自身が~supportできない~sensor~optionを表現している場合， ~NULL をあてがう（`と思われる＠~SENSORS#supported-sensor-options$）。】
◎
Use nullable to allow all attributes to default to null. (Geolocation API does not provide synchronous means to access these attributes, thus latitude, longitude, and altitude are not nullable and "must be supported by all implementations".)
</li>
</ul>
</div>

<div class="algo">
`new GeolocationSensor(options)@m
構築子~手続きは
⇒
`地理所在~sensor~objを初期化する$( コレ, %options )
◎
To construct a GeolocationSensor object the user agent must invoke the construct a geolocation sensor object abstract operation.
</div>

<div class="algo">
<p id="geolocationsensor-read">
`read(options)@m
~method~手続きは：
◎
5.1.1. GeolocationSensor.read()
◎
The read() method, when called, must run the following algorithm:
◎
input
• options, a ReadOptions object.
◎
output
• p, a promise.
</p>
<ol>
	<li>
%p ~LET 新たな~promise
◎
Let p be a new promise.
◎
Let options be the first argument.
</li>
	<li>
%通達 ~LET %options[ "`signal$mb" ]
◎
Let signal be the options’ dictionary member of the same name if present, or null otherwise.
</li>
	<li>
~IF［
%通達 ~NEQ ~NULL
］~AND［
%通達 は`中止-済み$aBである
］
⇒＃
%通達 の`中止-事由$aB で %p を却下する；
~RET %p
◎
If signal is aborted, then reject p with signal’s abort reason and return p.
</li>
	<li>
%geo ~LET 新たな `GeolocationSensor$I ~obj
◎
↓</li>
	<li>
`地理所在~sensor~objを初期化する$( %geo, %options )
⇒
例外が投出されたときは、~catchして
⇒＃
その例外 で %p を却下する；
~RET %p
◎
Let geo be the result of invoking construct a Geolocation Sensor object with options. If this throws a DOMException, catch it, reject p with that DOMException, and return p.
</li>
	<li>
%geo 上の `start$m ~method手続き()
◎
Invoke geo.start().
</li>
	<li>
<p>
~IF［
%通達 ~NEQ ~NULL
］：
◎
If signal is not null,＼
</p>
		<ol>
			<li>
<p>
`通達に~algoを追加する$( %通達, 次の手続き )
◎
then add the following abort steps to signal:
</p>

<div class="algo">
<p>
手続きは：
</p>
				<ol>
					<li>
%geo 上の `stop$m ~method手続き()
◎
Invoke geo.stop().
</li>
					<li>
%通達 の`中止-事由$aB で %p を却下する
◎
Reject p with signal’s abort reason and abort these steps.
</li>
				</ol>
</div>
			</li>
		</ol>
	</li>
	<li class="algo">
<p>
この段は`並列的$に走らす：
【上で呼出した `start$m ~method手続きの中で非同期に】
◎
Run these steps in parallel:
</p>
		<ul class="switch">
			<li>
`~errorを通知する$( %geo, %例外 )
が呼出されたときは
⇒＃
%geo 上の `stop$m ~method手続き()；
%例外 で %p を却下する
◎
If notify error is invoked with geo, invoke geo.stop(), and reject p with the DOMException passed as input to notify error.
</li>
			<li>
`新たな読取りを通知する$( %geo )
が呼出されたときは
⇒
`地理所在~promiseを解決する$( %geo, %p )
◎
If notify new reading is invoked with geo, then resolve a geolocation promise with geo and p.
</li>
		</ul>
	</li>
	<li>
~RET %p
◎
Return p.
</li>
</ol>

<p class="note">注記：
実装は、 `read()$m に対する複数の同時並行な~callに対し
— 同じ閲覧~文脈の中で，かつ 同じ引数が渡されたならば —
同じ~promiseを再利用できる。
◎
Implementations can reuse the same promise for multiple concurrent calls within the same browsing context if the arguments passed to read() are the same.
</p>

<p>
上で
`地理所在~promiseを解決する@
~algoは：
◎
To resolve a geolocation promise means to run the following steps:
</p>
<ol>
	<li>
%読取り ~LET 新たな `GeolocationSensorReading$I
◎
Let reading be a GeolocationSensorReading.
</li>
	<li>
`最新な地理所在~読取り$を成す
~EACH( %~key → %値 )
に対し
⇒
%読取り[ %~key ] ~SET %値
◎
For each key → value of latest geolocation reading:
• Set reading[key] to value.
</li>
	<li>
%geo 上の `stop$m ~method手続き()
◎
Invoke geo.stop().
</li>
	<li>
%読取り で %p を解決する
◎
Resolve p with reading.
</li>
</ol>
</div>

<div class="algo">
<p id="geolocationsensor-latitude">
`latitude@m
取得子~手続きは
⇒
~RET `最新な読取り~mapから値を取得する$( コレ, `latitude^l )
◎
5.1.2. GeolocationSensor.latitude
◎
The latitude attribute of the GeolocationSensor interface returns the result of invoking get value from latest reading with this and "latitude" as arguments.
＼
</p>

<p>
結果は、`地理所在$の緯度~座標を `decimal degrees$en† で表現する。
`WGS84$r
【†すなわち、小数部は “分／秒” ~~単位を`表すものではない^em。】
◎
It represents the latitude coordinate of the geolocation in decimal degrees [WGS84].
</p>
</div>

<div class="algo">
<p id="geolocationsensor-longitude">
`longitude@m
取得子~手続きは
⇒
~RET `最新な読取り~mapから値を取得する$( コレ, `longitude^l )
◎
5.1.3. GeolocationSensor.longitude
◎
The longitude attribute of the GeolocationSensor interface returns the result of invoking get value from latest reading with this and "longitude" as arguments.＼
</p>

<p>
結果は、 `decimal degrees$en による`地理所在$の経度~座標を表現する。
`WGS84$r
◎
It represents the longitude coordinate of the geolocation in decimal degrees [WGS84].
</p>
</div>

<div class="algo">
<p id="geolocationsensor-altitude">
`altitude@m
取得子~手続きは
⇒
~RET `最新な読取り~mapから値を取得する$( コレ, `altitude^l )
◎
5.1.4. GeolocationSensor.altitude
◎
The altitude attribute of the GeolocationSensor interface returns the result of invoking get value from latest reading with this and "altitude" as arguments.＼
</p>

<p>
結果は、`地理所在$を `WGS84$r 楕円体から~~天への~meter数で表現する。
◎
It represents the geolocation in meters above the WGS 84 ellipsoid [WGS84].
</p>
</div>

<div class="algo">
<p id="geolocationsensor-accuracy">
`accuracy@m
取得子~手続きは：
</p>
<ol>
	<li>
~IF［
コレ上の `latitude$m 取得子~手続き() ~EQ ~NULL
］~OR［
コレ上の `longitude$m 取得子~手続き() ~EQ ~NULL
］
⇒
~RET ~NULL
</li>
	<li>
~RET `最新な読取り~mapから値を取得する$( コレ, `accuracy^l )
</li>
</ol>

<p>
結果は、現在の［
`latitude$m ／ `longitude$m
］の正確度【誤差】を~meter数で表現する
— 正確度の確度~levelは 95% とする【誤差の誤差は 5% あってもよい】。
</p>

◎
5.1.5. GeolocationSensor.accuracy
◎
The accuracy attribute of the GeolocationSensor interface returns the result of invoking get value from latest reading with this and "accuracy" as arguments.＼
It represents the accuracy of the latest reading["latitude"] value and latest reading["longitude"] value in meters with a 95% confidence level.
◎
If the latest reading["latitude"] value is null or latest reading["longitude"] value is null, it must return null.
</div>

<div class="algo">
<p id="geolocationsensor-altitudeaccuracy">
`altitudeAccuracy@m
取得子~手続きは：
</p>
<ol>
	<li>
~IF［
コレ上の `altitude$m 取得子~手続き() ~EQ ~NULL
］
⇒
~RET ~NULL
</li>
	<li>
~RET `最新な読取り~mapから値を取得する$( コレ, `altitudeAccuracy^l )
</li>
</ol>

<p>
結果は、現在の `altitude$m の正確度【誤差】を~meter数で表現する
— 正確度の確度~levelは 95% とする【誤差の誤差は 5% あってもよい】。
</p>
◎
5.1.6. GeolocationSensor.altitudeAccuracy
◎
The altitudeAccuracy attribute of the GeolocationSensor interface returns the result of invoking get value from latest reading with this and "altitudeAccuracy" as arguments.＼
It represents the accuracy of the latest reading["altitude"] value in meters with a 95% confidence level.
◎
If the latest reading["altitude"] value is null, it must return null.
</div>

<div class="algo">
<p id="geolocationsensor-heading">
`heading@m
取得子~手続きは
⇒
~RET `最新な読取り~mapから値を取得する$( コレ, `heading^l )
◎
5.1.7. GeolocationSensor.heading
◎
The heading attribute of the GeolocationSensor interface returns the result of invoking get value from latest reading with this and "heading" as arguments.＼
</p>

<p>
結果は、~deviceの進行方向を~degree数で表現する
— 真北から時計回りに， 0 以上 360 以下の範囲で。
◎
It represents the direction of travel in degrees counting clockwise relative to the true north in the range 0 ≤ heading ≤ 360.
</p>
</div>

<div class="algo">
<p id="geolocationsensor-speed">
`speed@m
取得子~手続きは
⇒
~RET `最新な読取り~mapから値を取得する$( コレ, `speed^l )
◎
5.1.8. GeolocationSensor.speed
◎
The speed attribute of the GeolocationSensor interface returns the result of invoking get value from latest reading with this and "speed" as arguments.＼
</p>

<p>
結果は、速度の水平~成分の~magnitudeを［
秒あたりの~meter数
］で表現する。
◎
It represents the magnitude of the horizontal component of the velocity in meters per second.
</p>
</div>

		</section>
	</section>
	<section id="abstract-operations">
<h2 title="Abstract Operations">6. 抽象-演算</h2>

<div class="algo">
<p>
`地理所在~sensor~objを初期化する@
~algoは、
所与の
( %geo, %~option群 )
に対し：
◎
6.1. Construct a geolocation sensor object
</p>
<ol>
	<li>
~Assert：
%geo は
`GeolocationSensor$I ~interfaceを実装する
◎
↓</li>
	<li>
~Assert：
%~option群 は `GeolocationSensorOptions$I 辞書である
◎
input
• options, a GeolocationSensorOptions object.
◎
output
• A GeolocationSensor object.
</li>
	<li>
~IF［
`~sensor施策により制御される特能を検査する$( `地理所在~sensor$i【！`GeolocationSensor$I】 ) ~EQ ~F
］
⇒
~THROW `SecurityError$E
◎
Let allowed be the result of invoking check sensor policy-controlled features with GeolocationSensor.
◎
If allowed is false, then:
• Throw a SecurityError DOMException.
</li>
	<li>
`~sensor~objを初期化する$( %geo, %~option群 )
◎
Let geo be the new GeolocationSensor object.
◎
Invoke initialize a sensor object with geo and options.
◎
Return geo.
</li>
</ol>

<p class="trans-note">【
原文の この~algoは，新たな~instanceを作成して返しているが、
`WEBIDL$r の`構築子~手続き$の規約に則って，この訳では初期化のみ行うよう改めている。
】</p>
</div>

	</section>
	<section id="automation">
<h2 title="Automation">7. 自動化</h2>

<p>
この節では、
`GENERIC-SENSOR$r に定義される`自動化＠~SENSORS#automation$を拡張する
— `地理所在~sensor$i に特有な`~virtual~sensor~metadata$を供することにより。
◎
This section extends Generic Sensor API § 9 Automation by providing Geolocation Sensor-specific virtual sensor metadata.
</p>

<p>
`型ごとの~virtual~sensor~metadata$を与える`~map$は、
次に挙げる`~entry$mapを伴うモノトスル：
◎
The per-type virtual sensor metadata map must have the following entry:
</p>
<ul>
	<li>
`~key$map `geolocation$vsT
⇒
対応する`値$mapを与える`~virtual~sensor~metadata$の
⇒＃
`読取り構文解析~algo$vsMは `地理所在の読取りを構文解析する$
◎
key
• "geolocation"
◎
value
• A virtual sensor metadata whose reading parsing algorithm is the geolocation reading parsing algorithm.
</li>
</ul>

		<section id="geolocation-reading-parsing-algorithm">
<h3 title="Geolocation reading parsing algorithm">7.1. 地理所在の読取りを構文解析する</h3>

<div class="algo">
<p>
所与の
( ~JSON `Object$jt %~parameter群 )
に対し，［
`~sensor読取り$／ `undefined^jv
］を返す：
◎
input
• parameters, a JSON Object
◎
output
• A sensor reading or undefined
</p>
<ol>
	<li>
%読取り ~LET 新たな`~sensor読取り$
◎
Let reading be a new sensor reading.
</li>
	<li>
<p>
« `latitude^l, `longitude^l, `altitude^l, `accuracy^l, `altitudeAccuracy^l, `heading^l, `speed^l »
を成す
~EACH( %~key )
に対し
◎
Let keys be the list « "latitude", "longitude", "altitude", "accuracy", "altitudeAccuracy", "heading", "speed" ».
◎
For each key of keys
</p>
		<ol>
			<li>
%値 ~LET `一数の読取りを構文解析する$( %~parameter群, %~key )
◎
Let value be the result of invoking parse single-value number reading with parameters and key.
</li>
			<li>
~IF［
%値 ~EQ `undefined^jv
］
⇒
~RET `undefined^jv
◎
• If value is undefined.
•• Return undefined.
</li>
			<li>
%読取り[ %~key ] ~SET %値[ %~key ]
◎
Set reading[key] to value[key].
</li>
		</ol>
	</li>
	<li>
~RET %読取り
◎
Return reading.
</li>
</ol>
</div>

		</section>
	</section>
	<section id="use-cases">
<h2 title="Use Cases">8. 利用事例</h2>

		<section id="use-cases-categorization">
<h3 title="Categorization of use cases">8.1. 利用事例の分類法</h3>

<p>
以下で言及される利用事例は、概ね，次の 4 分類に~group化できる：
◎
The mentioned use cases can roughly be grouped into four categories:
</p>

<ul>
	<li>
<p>
`~foreground^stgな演算：
◎
Foreground operations:
</p>
		<ul>
			<li>
`地理所在の更新を単発的^stgに取得する
◎
Getting a one-off geolocation update.
</li>
			<li>
`地理所在の更新を継続的に^stg取得する（`いわゆる^em ~foreground~geotrack法）
【 “地理所在の追跡” 】
◎
Getting continuous geolocation updates (aka. foreground geotracking).
</li>
		</ul>
	</li>
	<li>
<p>
`~background^stgな演算：
◎
Background operations:
</p>
		<ul>
			<li>
`地理所在の更新を継続的^stgに取得する（`いわゆる^em ~background~geotrack法）
◎
Getting continuous geolocation updates (aka. background geotracking).
</li>
			<li>
`~geofence~alertを単発的^stgに取得する（`いわゆる^em ~background~geofence法）
【~geofence（ “地理柵” ）は `geolocation fence^en （ “地理所在を囲う~~仮想の柵” ）の略称。】
◎
Getting a one-off geolocation fence alert (aka. background geofencing).
</li>
		</ul>
	</li>
</ul>

<p class="note">注記：
`GEOLOCATION-API$r でアリであったのは、`~foreground演算^stgに限られていた。
`~background演算^stgは、完全に新規である。
◎
Note: Only the foreground operations were possible with [GEOLOCATION-API], the background operations are completely novel.
</p>

<p>
地理所在を得するときの中核的な拘束は、`正確度^stg（
`決定された位置は利用者の実際の位置にどれだけ近いか^em
）と`待時間^stg（
`利用者は結果をどこまで長く待機したいと求めるか^em
）にあり，一方は他方の引換えになる
— より速く結果を得たければ，正確度は下がり、その逆も同様になる。
◎
Core constraints when obtaining the gelocation are accuracy (how close to the actual position of the user is the determined position) and latency (how long does the user want to wait for a result). Both are tradeoffs: one can trade faster results for lower accuracy and vice versa.
</p>

<p>
共通的な~~流れでは、まず大まかな見積もりを得してから，時間~越しに精緻化する
— 例えば、初期~時には周囲の~WiFi信号に基づいて（速く得られる），最終的には精確な~GPS~dataに基づく（信号を見出すまで多少時間をとる）など。
◎
A common theme is to first obtain a rough estimation that then gets refined over time, for example based initially on surrounding WiFi signals (which is fast to obtain) and then eventually based on precise GPS data (which may take some time to find a signal).
</p>

<p>
以上で定義した分類に基づく利用事例を以下に挙げる。
◎
In the following, we list use cases based on the previously defined categories.
</p>

<p class="note">注記：
これらの分類は、排他的ではなく，重合するものもある。
ある~taskは、~foregroundで開始して，~backgroundに継続してから（例えば，利用者が~~着信した~emailに素早く応答する間），最終的に利用者~multitaskから戻ったとき~foregroundで終了する。
◎
Note: The categories are not mutually exclusive and overlaps exist. A task might start in the foreground, then continue in the background (for example, while the user quickly responds to an incoming email), and then eventually terminate in the foreground when the user multitasks back.
</p>

		</section>
		<section id="use-cases-foreground-one-off">
<h3 title="Foreground—One-off geolocation update">8.2. ~foreground — 単発的な地理所在の更新</h3>

			<section id="use-case-locate-a-user-on-a-map">
<h4 title="Locate a user on a map">8.2.1. 利用者の所在を地図~上に示す</h4>

<p>
地図用~appは、利用者の地理所在~sensor~APIの~dataを利用して，利用者の所在を地図~上に示せる
— 要は
“自分は，今どこに居るか？”
の問いに応答する。
◎
A mapping application can use the Geolocation Sensor API data of a user to locate them on the map, essentially responding to the question "Where am I right now?"
</p>

			</section>
			<section id="use-case-find-points-of-interest-in-the-users-area">
<h4 title="Find points of interest in the user’s area">8.2.2. 利用者の区域~内で関心地点を見出す</h4>

<p>
外国の都市を訪問している誰かは、［
観光客~向け~attractionの~databaseを探索したり閲覧する
］ことを利用者に許容する~web~appに~accessすることもある。
~web~appは、地理所在~sensor~APIを利用して，近似的な［
利用者の現在の位置
］への~accessを得ることで、利用者の所在からの近接度により探索-結果を~rank付け可能になる。
◎
Someone visiting a foreign city could access a web application that allows users to search or browse through a database of tourist attractions. Using the Geolocation Sensor API, the web application has access to the user’s approximate current position and is therefore able to rank the search results by proximity to the user’s location.
</p>

			</section>
		</section>
		<section id="use-cases-foreground-continuous">
<h3 title="Foreground—Continuous geolocation updates">8.3. ~foreground — 継続的な地理所在の更新</h3>

			<section id="use-case-up-to-date-local-information">
<h4 title="Up-to-date local information">8.3.1. ~~最新の地域-情報</h4>

<p>
［
利用者の現在の区域に関連な天気や~newsを示す，~widget
］の様な~web~appは、地理所在~sensor~APIを利用して，所在の更新-用に登録できる。
~widgetは、利用者~位置の変化に応じて，内容を順応できる。
◎
A widget-like web application that shows the weather or news that are relevant to the user’s current area can use the Geolocation Sensor API to register for location updates. If the user’s position changes, the widget can adapt the content accordingly.
</p>

			</section>
			<section id="use-case-alerts-when-points-of-interest-are-in-the-users-vicinity">
<h4 title="Alerts when points of interest are in the user’s vicinity">8.3.2. 関心地点が利用者の近辺にあるとき~alertする</h4>

<p>
観光~guide~web~appは、地理所在~sensor~APIを利用して，利用者の位置を監視して、近辺に興味を引く場所があるとき，視覚-や音声による通知を誘発できる。
~online~task管理~systemは、利用者が ある種の~taskに結付けられた~landmarkに近付いたとき，~reminderを誘発できる。
この利用事例は、~appは~foregroundで作動中にある用法と見做す。
◎
A tour guide web application can use the Geolocation Sensor API to monitor the user’s position and trigger visual or audio notifications when interesting places are in the vicinity. An online task management system can trigger reminders when the user is in the proximity of landmarks that are associated with certain tasks. This use case assumes active usage of the application in the foreground.
</p>

			</section>
			<section id="use-case-show-the-users-position-on-a-map">
<h4 title="Show the user’s position on a map">8.3.3. 利用者の位置を地図~上に示す</h4>

<p>
道に迷った利用者は、自身の位置を確かめたく，携帯~deviceを利用して［
地理所在~sensor~APIを利用して地図~上で利用者の正確な所在を~~特定できる，地図用~web~app
］を~navigateする。
利用者は、現在の位置から欲する行先へ運転する方向を供するよう~web~appに依頼する
— 要は，
“自分はどこへ向かっているか？”
の問いに応答する。
◎
A user finds themselves in an unfamiliar area. They want to check their position so they use their handheld device to navigate to a web-based mapping application that can pinpoint their exact location on the map using the Geolocation Sensor API. They then ask the web application to provide driving directions from their current position to their desired destination, essentially responding to the question "Where am I going?".
</p>

			</section>
		</section>
		<section id="use-cases-background-continuous">
<h3 title="Background—Continuous geolocation updates">8.4. ~background — 継続的な地理所在の更新</h3>

			<section id="use-case-location-tagged-status-updates-in-social-networking-applications">
<h4 title="Location-tagged status updates in social networking applications">8.4.1. ~SNS~appにおける，所在が~tag付けられた状態s更新</h4>

<p>
ある~SNS~appは、利用者の状態s更新に所在~情報を自動的に~tag付けることを，利用者に許容している。
これは、地理所在~sensor~APIで利用者の位置を監視することにより，行われる。
各~利用者は、他の利用者と共有する所在~情報の粒度を制御できる（例：都市や近所などの~level）。
どの利用者も，友人たちの~networkを見れることに加え、所在~dataの共有-を任意選択で是認した彼らの現在の所在について，更新を~real-timeに取得する。
この利用事例は、~foregroundな所在~tag付けと~backgroundな所在の共有-法を，意図的に併せている。
◎
A social networking application allows its users to automatically tag their status updates with location information. It does this by monitoring the user’s position with the Geolocation Sensor API. Each user can control the granularity of the location information (e.g., city or neighborhood level) that is shared with the other users. Any user can also see their network of friends and get real-time updates about their current location, granted they have opted in to their location data being shared. This use case intentionally conflates foreground location tagging and background location sharing.
</p>

			</section>
			<section id="use-case-turn-by-turn-route-navigation">
<h4 title="Turn-by-turn route navigation">8.4.2. 詳細な~route~navi</h4>

<p>
地図用~appは、角を曲がるたびに方向を供することにより，利用者が~routeに沿って~navigateするのを補助できる。
~appは、利用者~位置の所在~更新を繰返し受信するよう地理所在~sensor~APIで登録することにより，これを行う。
これらの更新は，実装している~UAが［
利用者の位置は変化した
］と決定するたびに送達され、利用者に必要になり得る方向の変更を見越すことを，~appに許容する。
~appは、~foregroundのみならず，~backgroundにもなり得る
— 例えば、長い一本道の高速道路区間で，~batteryを節約するため~deviceを切ったときなど。
◎
A mapping application can help the user navigate along a routeby providing detailed turn-by-turn directions. The application does this by registering with the Geolocation Sensor API to receive repeated location updates of the user’s position. These updates are delivered as soon as the implementing user agent determines that the position of the user has changed, which allows the application to anticipate any changes of direction that the user might need to do. The application can be in the foreground, but likewise can be backgrounded, for example, when the user turns their device off to save battery on a long highway route section without side roads.
</p>

			</section>
			<section id="use-case-tracking-sports-activity">
<h4 title="Tracking sports activity">8.4.3. ~sports活動の追跡</h4>

<p>
~web~appは、利用者の~sports活動を追跡できる
— 例：~marathon-runや自転車~race。
したがって~appは、~screen上にある必要はないが，利用者が
— 携帯~deviceを腕に巻付けるなどして —
活動を遂行する間は~backgroundにあることになる。
◎
A web application can track a user’s sports activity, for example, a marathon run or a bicycle race. Therefore, the application does not need to be on the screen, but would be backgrounded while the user performs their activity, maybe with their handheld device strapped to their arm.
</p>

			</section>
			<section id="use-case-real-estate-search">
<h4 title="Real estate search">8.4.4. 不動産~探索</h4>

<p>
携帯~device上の~web~appは、利用者が通りがかった近所で，関心がある~propについて以前に指定した探索-判定基準
— 例：~balcony付きで, 寝室が 3 つある住居 —
に合うものがあれば，利用者に通知できる。
これは、合致するものが膨大にあり得る
— すなわち、要求される~geofenceの量が多過ぎるため，~geofenceでは実現不可能である —
という前提に基づいている。
◎
A web application on a handheld device can notify a user of interesting available properties in a neighborhood they are passing by where the property fits the user’s previously specified search criteria, for example, 3 bedroom apartments with balcony. This is based on the assumption that the number of possible matches is high, that is, impossible to realize with geofences as the amount of required geofences would be too high.
</p>

			</section>
			<section id="use-case-cultural-spaces">
<h4>8.4.5. 文化的~空間</h4>

<p>
美術館, 祭り, 見本市, 等々の様な文化的~空間においては、~web~appは，利用者がどこに居て何を見ているかに反応して，異なる体験や内容を合図できる
◎
In cultural spaces like museums, festivals, exhibitions, etc., web applications can react to where the user is or what they are seeing to cue different experiences and content.
</p>

			</section>
		</section>
		<section id="use-cases-background-geofence">
<h3 title="Background—One-off geolocation fence alert">8.5. ~background — 単発的な~geofence~alert</h3>

			<section id="use-case-reminder-and-todo-applications">
<h4 title="Reminder and to-do applications">8.5.1. `reminder and to-do^en ~app</h4>

<p>
ヤルコトをオモイダス ~web~appは、~geofenceを利用して，利用者がやるべき何かを
— 例えば、
~supermarketに通りがかったなら，牛乳を買うよう —
促すことができる。
◎
Reminder and to-do web applications can use a geofence to remind the user to do something when they cross it, for example, to buy milk when they are near the supermarket.
</p>

			</section>
			<section id="use-case-travel-applications">
<h4 title="Travel applications">8.5.2. 旅行~app</h4>

<p>
旅行~appは、~geofence境界の中に限り，利用者の［
~WiFi~password,
~booking確認,
等々
］の様な，開催地に特有な~dataを示せる。
◎
Travel applications can show venue specific data like WiFi passwords, the user’s booking confirmation etc. only within geofence boundaries.
</p>

			</section>
			<section id="use-case-ticketing-or-booking-confirmations">
<h4 title="Ticketing or booking confirmations">8.5.3. ~booking確認</h4>

<p>
~booking~appは、利用者が［
~concertや~sports~eventの開催地に近づいた，~rental-car-counterに到着した, 等々
］したなら，~QR~codeや~bar~codeで~ticket通知を持出せる。
◎
Ticketing or booking applications can bring up a ticket notification with a QR or bar code once the user is near the venue of a concert or sports event or when they reach their rental car counter or similar.
</p>

			</section>
			<section id="use-case-ride-share-applications">
<h4 title="Ride share applications">8.5.4. 乗車~共有-~app</h4>

<p>
利用者が指名した運転手が，予め定義された乗車地点に到着したとき、利用者に伝えれる。
◎
Users can be informed if their designated driver reaches a pre-defined pickup point.
</p>

			</section>
			<section id="use-case-retail-special-offers">
<h4 title="Retail special offers">8.5.5. 小売~特別~提供品</h4>

<p>
携帯~deviceに，利用者の同意の下で~installされた小売店の~web~appは、利用者の所在に基づいて，店舗の近辺に来たとき割引券を特別~提供することについて~alertできる。
店内の体験を更に豊かにすることもできる
— 例えば，小売店は、利用者が探していた何かが実際に~~入荷して，近くで持ち帰れることを知ってもらうこともできる。
◎
Given their previous consent, a user with a retailer’s web application installed on their handheld device can be alerted about special offers or location-based coupons when they are in vicinity of a physical presence of the retailer. Further, the in-store experience can be enriched, for example, the retailer can let the user know something they have looked at before is actually available for pick up nearby.
</p>

			</section>
		</section>
	</section>
	<section id="acknowledgements">
<h2 title="Acknowledgements">謝辞</h2>

<p>
`汎用~sensor~API^cite, 早期の geolocation.js ~polyfillの作業を為された `Tobie Langel^en 氏に。
◎
Thanks to Tobie Langel for the work on Generic Sensor API and the early geolocation.js polyfill.
</p>

<p>
geolocation-sensor.js ~polyfillと揺籃期における 設計~提案を為された
`Kenneth Rohde Christiansen^en 氏に。
◎
Thanks to Kenneth Rohde Christiansen for the geolocation-sensor.js polyfill and design proposals during the incubation phase.
</p>

<p>
Geolocation ~WGによる 2008 年 〜 2017 年までの`地理所在~API^citeの作業の参加者たちに特別な謝意を。
◎
Special thanks to the Geolocation Working Group participants for their work on the Geolocation API from 2008 until 2017.
</p>
	</section>
</main></div>
