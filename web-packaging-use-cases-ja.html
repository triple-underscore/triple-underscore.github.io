<!DOCTYPE html><html lang="ja"><head><meta charset="utf-8">
<title>Use Cases and Requirements for Web Packages （日本語訳）</title>

<link rel="stylesheet" href="common.css" type="text/css" />

<script src="common0.js" ></script>
<script src="common1.js" async></script>

<script>
Util.ready = function(){
	const source_data = {
		toc_main: 'MAIN0',
		generate: expand,
		populate: populate,
		section_id_map: Util.get_mapping(PAGE_DATA.section_id_map),
	};

	COMMON_DATA.words_table = ''; // disable default words mapping
	Util.switchWordsInit(source_data);

	function populate(){
		const section_id_map = source_data.section_id_map;
		repeat('section[id]', supply_sec_id);
		function supply_sec_id(e){
			const h = e.firstElementChild;
			if(!h) return;
			const id = section_id_map[e.id.replace(/^(section-)/, '')];
			if(id) h.id = id;
		}
	}
}

function expand(){
	const class_map = this.class_map;
	const tag_map = this.tag_map;
	const link_map = this.link_map;

	return this.html.replace(
		/%[\w~一-鿆あ-ん]+|`(.*?)([$@^])(\w*)/g,
		create_html
	);

	function create_html(match, key, indicator, klass){
if(!indicator) {//%
	return `<var>${match.slice(1)}</var>`;
}

let text = key;
let href = '';

switch(klass){
case 'r':
	text = `[${key}]`;
	href = `#${key}`;
	break;
case 'm':
	const n = text.indexOf('(');
	if(n > 0){
		key = text.slice(0, n);
		text = key + text.slice(n).replace(/\w+/g, '<var>$&</var>');
	}
	break;
case 'en':
	return `<span lang="en-x-a0">${key}</span>`;
	break;
}

let tag = tag_map[klass];
if(tag) {
	let classname = class_map[klass];
	classname = classname ? ` class="${classname}"` : '';
	text = `<${tag}${classname}>${text}</${tag}>`;
}

if(indicator !== '^'){
	href = link_map[ klass ? `${klass}.${key}` : key ] || href;
	if(!href){
		console.log(match); // check error
		return match;
	}

	switch(indicator){
	case '$':
		text = `<a href="${href}">${text}</a>`;
		break;
	case '@':
		text = `<dfn id="${href.slice(1)}">${text}</dfn>`;
		break;
	}
}

return text;

	}
}


</script>


<script type="text/plain" id="_source_data">


●●options

spec_date:2019-03-29
trans_update:2019-04-16
original_url:https://wicg.github.io/webpackage/draft-yasskin-webpackage-use-cases.html
	spec_status:IETFPR
	page_state_key:HTTP
	no_original_dfn:true
	ref_id_prefix:ref-
site_nav:network
trans_1st_pub:2019-04-16


●●class_map
h:header

●●tag_map
h:code
m:code
c:code

●●original_id_map
references:rfc.references
informative:rfc.references

●●link_map

m.importScripts:~SW1#importscripts
m.navigator.serviceWorker.register:~SW1#navigator-service-worker-register

h.Content-Type:~HTTPsem#field.content-type
h.Content-Encoding:~HTTPsem#field.content-encoding
h.Content-Location:~HTTPsem#field.content-location
h.Expires:~HTTPcache#field.expires
h.Content-Security-Policy:~CSP3#header-content-security-policy
h.Accept:~HTTPrq#field.accept
h.Accept-Language:~HTTPrq#field.accept-language

~additionalな~signature:#additional-signatures
~binary:#binary
~certificateの~revocation:#revocation
~store済み~packageを~compressする:#stored-compression
~transferを~compressする:#transfer-compression
~cryptographic~agility:#crypto-agility
~diamond~dependencyの~deduplication:#deduplication
~downgradeの~prevention:#no-downgrades
~external~dependency:#external-dependencies
~URLにより~indexされる:#urls
~metadata:#metadata
~offline~installation:#offline-installation
~packageされた~validity~information:#packaged-validity
~random~access:#random-access
~request~header:#request-headers
~requirements:#requirements
~package内の複数の~originからの~resource:#multiple-origins
~response~header:#response-headers
	節~2.1.1:#offline-installation
~wrongな~implementationになり難くする:#easy-implementation
~old~cryptoを~removeできる:#crypto-removal
~originとして~signすること:#signing
~sign時には~existing~TLS~certificateを~useする:#existing-certs
~stream化された~loading:#streamed-loading
~subsettingと~reordering:#subsetting
~time-shifting~execution:#timeshifting
~trailing~length:#trailing-length
~unsigned~content:#unsigned-content
~packageを複数の~libraryから~buildする:#libraries

~same-origin:~ORIGIN#same-origin
~web~origin:~ORIGIN#concept-origin

	:https://github.com/WICG/webpackage/issues/35
	:https://www.ampproject.org/
	:https://electron.atom.io/
	:https://blog.gerv.net/2016/09/introducing-deliberate-protocol-errors-langleys-law/
	:https://www.mipengine.org/
	:https://nodejs.org/en/
	:http://httpwg.org/specs/rfc7540.html#PUSH_PROMISE
	:https://developers.google.com/web/progressive-web-apps/checklist
	:https://www.w3.org/TR/pwp-ucr/#pwp
	:https://www.mnot.net/blog/2010/02/18/resource_packages
	:https://w3ctag.github.io/packaging-on-the-web/
	:https://www.w3.org/publishing/groups/publ-wg/
	:https://github.com/WICG/webpackage/issues/6#issuecomment-275746125
	:https://paragonie.com/blog/2017/03/jwt-json-web-tokens-is-bad-standard-that-everyone-should-avoid
	:https://nakedsecurity.sophos.com/2013/07/10/anatomy-of-a-security-hole-googles-android-master-key-debacle-explained/
	:https://github.com/WICG/webpackage
	:https://mailarchive.ietf.org/arch/search/?email_list=art
	:https://twitter.com/anjacks0n/status/950861384266416134
	:https://lists.w3.org/Archives/Public/public-web-perf/2015Jan/0038.html


●●words_table1

●●words_table

	●略語／固有名詞
JS:JavaScript
OS:
CSS:
IANA:
ID:
W3C:
HTTPS:
PUSH:
HTML:
HTTP:
URL:

	HTTPWG
	Wikipedia
	Android
	Chrome
	Chrome OS
	Electron
	Node
	Google
	Baidu
	IETF
	Reddit
	Slashdot
	ES5
	ES6
	the ART area mailing list
	BCP
	EPUB
	IDPF
	International Digital Publishing Forum
	Application Manifest
	Internet Engineering Task Force
	Certificate Transparency

	●network
connect:::接続
connection:::接続
request:::要請::リクエスト
response:::応答::レスポンス
receive:::受信
受取っ:receiveし:受け取っ
send:::送信
sending:::送信
transfer:::転送
	~transfer可能:transferrable
transmit:::伝送
fetch:
prefetch:::事前 fetch
address::::アドレス
download::::ダウンロード
header::::ヘッダ
host::::ホスト
protocol::::プロトコル
cache::::キャッシュ
navigate::::ナビゲート
network::::ネットワーク
deliver:::送達
offline::::オフライン
online::::オンライン
resource:::資源:リソース
subresource:::下位資源:下位リソース
provider::::プロバイダ
publish:
publisher:
public:
	~publicでない:non-public
publication:
	公共化／公共／公表
route:::経路
negotiate:::折衝
	~content~negotiateされ:~content-negotiated
caching::::キャッシュ処理
client::::クライアント
serve::::サーブ
	~serve法:serving
server::::サーバ
bandwidth:::帯域幅
copyright:::著作権
licensing:::許諾
filtering::::フィルタリング
forward:::回送
internet::::インターネット
search:::検索
session::::セッション
retrieval:::検索取得
retrieve:::検索取得
address::::アドレス
mis-issue:::誤発行

	●package
DRM:
CDN:
link::::リンク
site::::サイト
file::::ファイル
web:
website:::web サイト
nested:::入れ子の
bundle::::バンドル
bundling::::バンドル
	~bundle法:bundling
package::::パッケージ
sub-package:::下位パッケージ
packager::::パッケージ者
packaging::::パッケージング
	~package用の:~packaging
	~packageされた:packaged
manifest::::マニフェスト
metadata::::メタデータ
include:::内包
contain:::包含
content:::内容
deploy:::配備
key:key
index:index
binary::::バイナリ
byte::::バイト
app:application:::アプリ
collection::::コレクション
page::::ページ
component::::コンポーネント
data::::データ
disk::::ディスク
install::::インストール
installation::::インストール
library::::ライブラリ
distribute:::配布
distribution:::配布
distributor:::配布者
loading:::読み込み::ロード法
loadする:::読み込む::ロードする
loadした:::読み込みた::ロードした
loadして:::読み込んで::ロードして
loadでき:::読み込め::ロードでき
load:::読み込み::ロード



news-aggregation:news aggregation::ニュース集積

Alex:
Bailey:
Casey:
Dakota:

著作者:author:~
title::::タイトル
表紙:cover:~
関心事:concerns::~
DOI:
ISBN:
article:::記事
SD-card:SD card:::SD カード
ship::出荷
share:::共有
shared:::共有
shared:::共用
populate:::拡充
image::画像
update:::更新
dependency:::依存関係
dependencies:::依存物

	●データ／形式
MHTML:
PNG:
WARC:
WebP:
Web-Archive:Web Archive
ZIP:
format:::形式::フォーマット
field::::フィールド
compress:::圧縮
compression:::圧縮
deduplication:::重複集約
diamond::ひし形
filename::::ファイル名
ratio:::率
scan:::走査::スキャン
body:::本体::ボディ
offset::::オフセット
fixedな::固定的な
seek:
archival::::アーカイブ化
archive::::アーカイブ
	~archive法:archiving
save:::保存
screenshot::::スクリーンショット
length::長さ
trailing::尾部の
start:::始端
end:::終端
fillする:::埋める
duplicate:::重複
length:::長さ
backwards:::後方
blob:
stream::::ストリーム
line-ending:::改行コード
encode:::符号化::エンコード
concatenate:::連結
replace:::置換
remove:::除去
copy:::複製
reorderでき:::並び替えれ
reordering:::並び替え
subsetting:::subset化:サブセット化
readable:::読み取り可能
store:::格納
	~store済み:stored
store0:store:::ストア
physical::物理的
parse:::構文解析::パース
空き:space:~

	●保安
origin:::生成元::オリジン
same-origin:::同一生成元::同一オリジン
	出所:originate
security::::セキュリティ
privacy::::プライバシー
sandbox::::サンドボックス
private::::プライベート
crypto:::暗号
cryptographic:::暗号
cryptography:::暗号法
XSS:
TLS:
powerful:::強力
prevention:::防止
privilegedな:::特権的な
revocation:::破棄
revoke:::破棄
proof:::立証
prove:::立証
	~proveされている:provably
sign:::署名
	~sign済み:signed
	^en:federated sign-in
signature:::署名
signing:::署名
鍵:key:::~
block:::阻止
unsigned:::未署名の
upgrade:::昇格
downgrade:::降格
vulnerability:::脆弱性
assurance:::確証
audit:::監査
agility:::即応性
	~audit済みでない:unaudited
CA:::認証局
	CAにより~signされた:CA-signed
	CA:certificate authority
authentic:::真正
authenticity:::真正性
authenticate:::認証
compromise:::弱体化
decryption:::解読
attacker:::攻撃者
safe:::安全
	~safeでない:unsafe
vulnerabilities:::脆弱性
confidentiality:::機密性
confidential:::機密的
third-party:::第三者主体
encrypt:::暗号化
certificate:::証明書
credentials:::資格証
transparency:::透明性
censorship:::検閲
grant:::是認
vulnerable:::脆弱
trust:::信用
	~trust済み:trusted
bypass:::迂回
leak:::漏洩
conservative::保守的
liberal::寛容
evil::邪悪
discover:::発見
infinite:::無限
permission:::許可
verify:::検証
valid:::妥当
validity:::妥当性
capabilities:::能力
preserve:::保全
guarantee:::保証
vouch:::保証
虚偽の:false:~
真の:true:~
侵害:breach:::~

	●仕様
Internet-Draft:
system::::システム
draft::草案
feature::特能
issue::課題
spec::仕様
conformance::適合性
参照資料:reference material:~
位置付け:status:~
メモ:memo:~
explicit::明示的
chance::機会
difficult::困難
easy::容易
ecosystem::::エコシステム
job::仕事
legitimate::正当
obvious::明らか
people::人々
person::個人
plan::計画
popularな::普及している
probably::おそらく
perhaps::おそらく
provisions::規定
読む:readする:~
読者:reader:~
technology::技術
today::今日
wrongな::間違った
rightな::正しい
worryする::気をもむ
appendix::付録
augment::増補
expert::専門家
side-effect::副作用
case::事例
details::詳細
mechanism::仕組み
traditional::伝統的
aspect::側面
semantics::意味論
earlier::早期の
useful::有用
essential::本質的
mechanism::仕組み
	abstract::要約
best::最良
experience::経験
generalな::一般の
actual::実際
inappropriate::不適切
reasonable::適度
	~reasonableに:reasonably
possible::可能
possibly::場合によっては
way::仕方
information::情報
external::外部
language::言語
simple::単純
normalな::通常の
commonな::共通の
problem::問題
existing::既存の
accurate::正確
exact::正確
situation::状況
current::現在の
currently::現在
goal::目標
purpose::目的
directに::直に
naive::素朴
ability::能
benefit::便益
advantage::優位
downside::悪い面
upside::良い面
similarな::類似する
similarに::同様に
important::重要
control::制御
material::素材
tend::傾向
法則:Law::~
history::歴史
fact::事実
straightforward::簡単
感覚:sense:~
確実に:definiteに:~
責務:responsibility:~
	責務がある:responsible to
主途:primary:~
者たち:folks:~

	ためには:in order to
	易く:easy to／:easier to
	難く:hard to
	し難くなる:harder
	難しく:hard
	できるようにする:allowする
	反する:breaking
	様に見える:look like
	深く:heavily
	同様に:like with
	~~分野:area
	方が~easy:easier
	先に挙げるものほど〜が高い~descending 〜 order
	良い:good
	関心がある:interested
	見込みが高い／見込まれる:likely
	~~確認:be sure
	概ね:rough／:roughly
	方法:how to

	●仕様（動詞）
support::::サポート
version::::バージョン
actions::::アクション
tool::::ツール
knowする::知る
強いる:forceする:~
review::考査
discussion::論点
討論:discussion:~
extend::拡張
extension::拡張
expect::期待
predict::予測
accomplish::達成
intentional::意図的
specify::指定
specification::指定
specificalに::特に
special::特別
specialize::特化
enable::可能化
conflict::競合
solution::解法
solveされ::解かれ
solveする::解く
interpret::解釈
	~interpret済みでない:uninterpreted
hold::保持
attempt::試み
try::試行
trying::試行
handleでき::取り扱え
handleする::取り扱う
取組んだ:addressした::取り組んだ
modification::改変
correctな::正しい
incorrect::不正
assoc:associateされる::関連する
findでき::見出せ
findされ::見出され
wantする::求める
wantして::求めて
involveされ::孕まれ
influence::波及
accept::受容
provide::供
offer::提供
omit::省略
maintain::保守
represent::表現
representation::表現
display::表示
depend::依存
dependent::依存
independent::独立
identify::識別
identifier::識別子
mean::意味
	すなわち、~mean
meaning::意味
incorporateして::組み入れて
reduce::抑制
策定者:author:~
user::利用者
use::利用
	~use可能:usable
requirements::要件
requirement::要件
require::要求
implications::含意
proposal::提案
preference::選好
allow::許容
practice::実施
considerations::考慮点
design::設計
developer::開発者
fix::修正
implement::実装
implementation::実装
improve::改善
introduction::導入
obsolete::廃用に
obsoleteな::廃用にされた
optimal::最適
optimize::最適化
buildする::築く
buildされ::築かれ
buildした::築いた
buildでき::築け
additionalな::追加の
adopt::採用
avoidした::避けた
avoidする::避ける
avoidすれ::避けれ
avoiding::避け方
followする::従う
believe::予見
cite::引用
deem::判断
expire::失効
explore::探求
instruction::指示書き
有効:valid::~
無効化-:invalidate::~
	~invalidate:invalidation
maintenance::保守
mint::鋳造
satisfyする::満たす
teachしよ::教えよ
working::作業中の
waste::浪費
description::記述
motivation::動機
	~motivationにある:motivated by
complicate::複雑に
work::作業
enough::十分
nice-to-have:あった方がいいもの
notice::告知
注力-:focus::~
treatする::扱う
use::利用
	~useして:using
keepする::保つ
keepしつ::保ちつ
	追随する:keep up with
achieve::達成
壊す:breakする:~
helpに::助けに
helpする::助ける
tellする::伝える

	必要:need／have to／
	足る:Just enough
	限られ:limited
	~~進行して:takes place
	感謝する:thanks to
	合併-:merged from
	~~期待:hope
	何らない:don’t do anything
	もたらす:caused
	任される中で in charge of
	~~対処:deal with

	●未分類（動詞）
loseする::失う
lostする::失われる
	~lostする:loss of
runして::走らせて
runする::走らす
create::作成
appearする::現れる
appearしな::現れな
match:::合致
happenする::起こる
returnする::返す
showする::示す
showしつ::示しつ
showでき::示せ
check:::検査
compare:::比較
detect:::検出
execute:::実行
	~executeし始め:start executing
execution:::実行
executable:::実行プログラム
extract:::抽出
self-extracting:::自己解凍
generate:::生成
get:::取得
process:::処理
resolve:::解決
select:::選定
開始-:start::~
progress:::進捗
	~progress中の:in-progres
handでき::手渡せ
look-up:look up:::検索
viewして::視て
viewする::視る
viewでき::視れ
browser::::ブラウザ
browse:::閲覧
	~browseするとき:browsing
speed-upする:speedを上げる:::速める
finish:::完遂
compile::::コンパイル
transpile::::トランスパイル
	transpilation
submit:::提出
synthesize:::合成
call:
access::::アクセス
	~access可能:accessible
accessibility::access 能:アクセス能:アクセシビリティ
click::::クリック
recordする:::記録する
置換え:replacement::置き換え
ergonomicな::使い勝手のよい
budget:::予備容量

	大金をはたかずに済む:spend lots of money buying
	与える:give
	来た:came from
	使い果たす:use up
	切って:turn off
	来る:come
	伴われる:come along with
	撮る:take
	見よ:see
	見る:see
	見た:saw
	指すだけで済む:merely point
	やり直す:re-do
	取り戻せ:re-gainでき
	収まる:can fit
	まだ〜されてない:yet to be
	~~回避:routing around


	●未分類
time:::時刻
	~timeを得る:time-telling
timestamp:::時刻印
time-scale:time scale::時の経過
time-shifting:::時間をずらした
real-time:real time:::リアルタイム
Service-Worker:Service Worker
interactive:::対話的
algo:algorithm::アルゴリズム
entity:::実体::エンティティ
government:::政府
identity:::同一性
quickに:::素早く
granularity::粒度
community::::コミュニティ
code::::コード
cost::::コスト
directory::::ディレクトリ
engine::::エンジン
group::::グループ
inline::::インライン
level::::レベル
list::::リスト
log::::ログ
main::::メイン
message::::メッセージ
module::::モジュール
method::::メソッド
configure:::環境設定
performance:::処理能::パフォーマンス
program::::プログラム
random::::ランダム
source::::ソース
text::::テキスト
target::::ターゲット
on-the-flyに::その場で
auto-::自動
initial:::初期
device:::装置
priority:::優先度
関数:function::~
名:name::~
document:::文書
state:::状態
negativeな:::負の
position:::位置
slow::低速
	~slower:より低速
集合:set::~
同僚:peer:~
友人:friend:~

	中途:partway through
	可能:able to
	~version~control:VC
	初めから終わりまで:long linear／:linear
	第一に:primarily
	今すぐにでも:right now:
	長い:long
	料金プラン:plan
	挙げ:list
	探し出し:look for
	発行し直せる:be able to make 〜 back to
	含め:include
	-:once
	最長 6ヶ月:maximum six months
	月:each month
	一定期間:significant fraction of the time

	●指示語
own:::自前の
result:::結果
arbitraryな::任意の
individualな::個々の
inside::内側
new::新たな
	より~new:newer
old::古い
oldな::古い
	~oldな方:older
forever::永劫
full::全部的
original::元の
single::単独の
particular::ある特定の
eventual::最終的
extra::追加の
	もはや:no longer
	最も:most
	一片:piece
	と同時に:at the same time
	時点:at the time
	時点:time
	何か:something
	後者:the second
	前者:the first
	片方:one copy
	他方:the other
	ではないもの:non-
	末尾:the end
	以前の:previous
	手元の:their
	数個の:couple
	大幅に:greatly
	〜をまたがる:cross-
	たくさんの:lots of／:a lot of
	何もかも:everything:
	誰か:someone
	誰もが:anyone
	早期:early
	先に得られた:early
	各部:parts
	後続の:later
	低下:lower
	一連の:set of
	少なく:few
	少なくなる:fewer
	より少ない:less than
	より小さな:smaller
	小さな:small
	巨大な:large
	全体:whole
	前述の:the earlier
	それ以上:anymore

●●ref_informative
[I-D.burke-content-signature]
    Burke, B., "HTTP Header for digital signatures", Internet-Draft draft-burke-content-signature-00, March 2011.
    URL: https://tools.ietf.org/html/draft-burke-content-signature-00
[I-D.cavage-http-signatures]
    Cavage, M. and M. Sporny, "Signing HTTP Messages", Internet-Draft draft-cavage-http-signatures-10, May 2018.
    URL: https://tools.ietf.org/html/draft-cavage-http-signatures-10
[I-D.ietf-httpbis-cache-digest]
    Oku, K. and Y. Weiss, "Cache Digests for HTTP/2", Internet-Draft draft-ietf-httpbis-cache-digest-05, July 2018.
    URL: https://tools.ietf.org/html/draft-ietf-httpbis-cache-digest-05
[I-D.ietf-httpbis-http2-secondary-certs]
    Bishop, M., Sullivan, N. and M. Thomson, "Secondary Certificate Authentication in HTTP/2", Internet-Draft draft-ietf-httpbis-http2-secondary-certs-03, October 2018.
    URL: https://tools.ietf.org/html/draft-ietf-httpbis-http2-secondary-certs-03
[I-D.thomson-http-content-signature]
    Thomson, M., "Content-Signature Header Field for HTTP", Internet-Draft draft-thomson-http-content-signature-00, July 2015.
    URL: https://tools.ietf.org/html/draft-thomson-http-content-signature-00
[I-D.vkrasnov-h2-compression-dictionaries]
    Krasnov, V. and Y. Weiss, "Compression Dictionaries for HTTP/2", Internet-Draft draft-vkrasnov-h2-compression-dictionaries-03, March 2018.
    URL: https://tools.ietf.org/html/draft-vkrasnov-h2-compression-dictionaries-03
[I-D.yasskin-dispatch-web-packaging]
    Yasskin, J., "Web Packaging", Internet-Draft draft-yasskin-dispatch-web-packaging-00, June 2017.
    URL: https://tools.ietf.org/html/draft-yasskin-dispatch-web-packaging-00
[ISO28500]
    "WARC file format", ISO 28500:2017, 2017.
    URL: https://www.iso.org/standard/68004.html
[JAR]
    "JAR File Specification", 2014.
    URL: https://docs.oracle.com/javase/7/docs/technotes/guides/jar/jar.html
[MHTML]
    Palme, J., Hopmann, A. and N. Shelness, "MIME Encapsulation of Aggregate Documents, such as HTML (MHTML)", RFC 2557, DOI 10.17487/RFC2557, March 1999.
    URL: https://tools.ietf.org/html/rfc2557
[RFC6454]
    Barth, A., "The Web Origin Concept", RFC 6454, DOI 10.17487/RFC6454, December 2011.
    URL: https://tools.ietf.org/html/rfc6454
[RFC6962]
    Laurie, B., Langley, A. and E. Kasper, "Certificate Transparency", RFC 6962, DOI 10.17487/RFC6962, June 2013.
    URL: https://tools.ietf.org/html/rfc6962
[RFC7515]
    Jones, M., Bradley, J. and N. Sakimura, "JSON Web Signature (JWS)", RFC 7515, DOI 10.17487/RFC7515, May 2015.
    URL: https://tools.ietf.org/html/rfc7515
[RFC7540]
    Belshe, M., Peon, R. and M. Thomson, "Hypertext Transfer Protocol Version 2 (HTTP/2)", RFC 7540, DOI 10.17487/RFC7540, May 2015.
    URL: https://tools.ietf.org/html/rfc7540
[ServiceWorkers]
    Russell, A., Song, J., Archibald, J. and M. Kruisselbrink, "Service Workers 1", World Wide Web Consortium WD WD-service-workers-1-20161011, October 2016.
    URL: https://www.w3.org/TR/2016/WD-service-workers-1-20161011
[W3C.WD-appmanifest-20170828]
    Caceres, M., Christiansen, K., Lamouri, M., Kostiainen, A. and R. Dolin, "Web App Manifest", World Wide Web Consortium WD WD-appmanifest-20170828, August 2017.
    URL: https://www.w3.org/TR/2017/WD-appmanifest-20170828
[ZIP]
    "APPNOTE.TXT - .ZIP File Format Specification", October 2014.
    URL: https://pkware.cachefly.net/webdocs/casestudies/APPNOTE.TXT


●●trans_metadata
<p>
~THIS_PAGEは、
<a href="~SPEC_URL">Use Cases and Requirements for Web Packages</a>
を日本語に翻訳したものです。
~PUB
</p>

●●spec_metadata

発行
	Network Working Group
分類
	Internet-Draft
Intended status
	Informational
失効日
	2019年 9月 30日
編集
	<a href="mailto:jyasskin@chromium.org">J. Yasskin</a>, Google

</script>

</head>

<body>

<header>
	<hgroup>
<h1>Web パッケージ用の利用事例と要件</h1>
<h2 lang="en-x-a0">Use Cases and Requirements for Web Packages</h2>
	</hgroup>

</header>


<div id="MAIN" hidden>
	<section id="rfc.abstract">
◎要約

<p>
この~documentは、~web~pageの~collectionを［
~signする／~bundleする
］ための~use~caseを挙げ，それらから一連の~requirementsを~extractする。
◎
This document lists use cases for signing and/or bundling collections of web pages, and extracts a set of requirements from them.
</p>

	</section>
	<section>
<h2 title="Note to Readers">読者~向けの注記</h2>

<p>
この~draftの討論は、
`the ART area mailing list^en （ art@ietf.org ）にて行われている。
その~archiveは
<a href="https://mailarchive.ietf.org/arch/search/?email_list=art">https://mailarchive.ietf.org/arch/search/?email_list=art</a>
から得られる。
◎
Discussion of this draft takes place on the ART area mailing list (art@ietf.org), which is archived at https://mailarchive.ietf.org/arch/search/?email_list=art.
</p>

<p>
この~draft用の~source~code, ~issue~listは、
<a href="https://github.com/WICG/webpackage">https://github.com/WICG/webpackage</a>
にて~findできる。
◎
The source code and issues list for this draft can be found in https://github.com/WICG/webpackage.
</p>

	</section>
	<section id="rfc.status">
<h2 title="Status of This Memo">このメモの位置付け</h2>

<p>
この~Internet-Draftは、
BCP 78, BCP 79 の~provisionsによる~conformanceに~fullに従う下で~submitされている。
◎
This Internet-Draft is submitted in full conformance with the provisions of BCP 78 and BCP 79.
</p>

<p>
~Internet-Draftは、 `IETF^（ Internet Engineering Task Force ）による~working~documentである。
他の~groupも，~working~documentを~Internet-Draftとして~distributeし得ることに注意。
~current~Internet-Draftの~listは、
https://datatracker.ietf.org/drafts/current/
にある。
◎
Internet-Drafts are working documents of the Internet Engineering Task Force (IETF). Note that other groups may also distribute working documents as Internet-Drafts. The list of current Internet-Drafts is at https://datatracker.ietf.org/drafts/current/.
</p>

<p>
~Internet-Draftは、~draft~documentであり，最長 6ヶ月まで有効であり，いつでも他の~documentにより［
~updateされ／~replaceされ／~obsoleteされ
］得る。
~Internet-Draftを［
参照資料として~useする／
“~progress中の~work” 以外のものとして~citeする
］ことは~inappropriateである。
◎
Internet-Drafts are draft documents valid for a maximum of six months and may be updated, replaced, or obsoleted by other documents at any time. It is inappropriate to use Internet-Drafts as reference material or to cite them other than as "work in progress."
</p>

<p>
この~Internet-Draftは、 2019年 9月 30日に~expireすることになる。
◎
This Internet-Draft will expire on September 30, 2019.
</p>


	</section>
	<section id="rfc.copyrightnotice">
<h2 title="Copyright Notice">~copyrightの~notice</h2>

<p lang="en-x-a0">
Copyright (c) 2019 IETF Trust and the persons identified as the document authors. All rights reserved.
</p>

<p lang="en-x-a0">
This document is subject to BCP 78 and the IETF Trust's Legal Provisions Relating to IETF Documents (https://trustee.ietf.org/license-info) in effect on the date of publication of this document. Please review these documents carefully, as they describe your rights and restrictions with respect to this document. Code Components extracted from this document must include Simplified BSD License text as described in Section 4.e of the Trust Legal Provisions and are provided without warranty as described in the Simplified BSD License.
</p>

	</section>

<main id="MAIN0">

	<section id="introduction">
<h2 title="Introduction">1. ~introduction</h2>

<p>
~contentの出所である~serverに~directに~connectし得ないような，~offlineその他の~situationにおいても、~peopleは~contentを~useしたいであろう。
しかしながら，~appや~contentを~distributeして~authenticityを~verifyするのは、~networkへの~connectionなしには~difficultである。
~W3Cは、~Service-Worker `ServiceWorkers$r により，~offlineで~appを~runすることに取組んだが、~distributionの~problemについては，まだである。
◎
People would like to use content offline and in other situations where there isn’t a direct connection to the server where the content originates. However, it’s difficult to distribute and verify the authenticity of applications and content without a connection to the network. The W3C has addressed running applications offline with Service Workers ([ServiceWorkers]), but not the problem of distribution.
</p>

<p>
~web~resourceを~packageする以前の~attempt（例：
<a href="https://www.mnot.net/blog/2010/02/18/resource_packages">Resource Packages</a>,
<a href="https://w3ctag.github.io/packaging-on-the-web/">W3C TAG の~package法~proposal</a>
）は，~single~serverからの~resourceの~downloadを~speed-upすることが~motivationにあるが、~probably， HTTP/2 ~PUSHの様な他の~mechanismを通す方がより良く~achieveできる
— ~possibly、
<a href="https://lists.w3.org/Archives/Public/public-web-perf/2015Jan/0038.html">~pageが~useしようと~planする~URLを伴う~simpleな~manifest</a>
で~augmentした上で。
この~attemptは、代わりに，~origin~serverへの~connectionを全く~avoidすることが~motivationにある。
前述の~use~caseにも~usefulになり得るので、それらも依然として~listされるが，主途ではない。
◎
Previous attempts at packaging web resources (e.g. Resource Packages and the W3C TAG’s packaging proposal) were motivated by speeding up the download of resources from a single server, which is probably better achieved through other mechanisms like HTTP/2 PUSH, possibly augmented with a simple manifest of URLs a page plans to use. This attempt is instead motivated by avoiding a connection to the origin server at all. It may still be useful for the earlier use cases, so they’re still listed, but they’re not primary.
</p>

	</section>
	<section id="use-cases">
<h2 title="Use cases">2. ~use~case</h2>

<p>
以下に挙げる~use~caseは、概ね先に挙げるものほど~priorityが高い。
各 ~use~caseどうしで~conflictしている~requirementsがある場合、より~importantな方の~use~caseを~enableするよう~designされるベキである。
◎
These use cases are in rough descending priority order. If use cases have conflicting requirements, the design should enable more important use cases.
</p>

		<section id="essential-use-cases">
<h3 title="Essential">2.1. ~essentialな~use~case</h3>

			<section id="offline-installation">
<h4 title="Offline installation">2.1.1. ~offline~installation</h4>

<p>
~Alexは，~websiteを~containしている~file（
<a href="https://developers.google.com/web/progressive-web-apps/checklist">PWA</a>
）を
— ~origin %O からの~Service-Workerも含めて —
~downloadして，同僚の~Baileyへ~transmitでき、~Baileyは，それが %O から来た~proofがある下で，~Service-Workerを~installできる。
これは、~Baileyが~websiteを~transferする~bandwidth~costを節約する。
◎
Alex can download a file containing a website (a PWA) including a Service Worker from origin O, and transmit it to their peer Bailey, and then Bailey can install the Service Worker with a proof that it came from O. This saves Bailey the bandwidth costs of transferring the website.
</p>

<p class="trans-note">【
~Alex, ~Bailey は不特定の誰か（原文では複数人称扱い）。
以下，アルファベット順に~Casey, ~Dakotaも登場する。
】</p>

<p>
これを~accomplishする~wayには概ね，次の 2 つがある：
◎
There are roughly two ways to accomplish this:
</p>

<ol>
	<li>
<p>
次に挙げるものだけ~packageする：
</p>
		<ul>
			<li>
~Service-Worker~JS, それが `importScripts()$m する他の~JS
</li>
			<li>
前項の~JSからの
`navigator.serviceWorker.register(scriptURL, options)$m
~callを~synthesizeするために~enoughな~URLや~metadata
</li>
			<li>
~interpret済みではないが ~signatureは~check済みの~dataが成す~blobであって、~Service-Workerが自身の~cacheを~fillするために~interpretできるもの。
</li>
		</ul>
◎
Package just the Service Worker Javascript and any other Javascript that it importScripts(), with their URLs and enough metadata to synthesize a navigator.serviceWorker.register(scriptURL, options) call, along with an uninterpreted but signature-checked blob of data that the Service Worker can interpret to fill in its caches.
</li>
	<li>
~resourceたちを~packageする
— ~Service-Workerが それらを `fetch()^m して自身の~cacheを~populateできるような。
◎
Package the resources so that the Service Worker can fetch() them to populate its cache.
</li>
</ol>

<p>
~Service-Workerにだけ~assoc~requirements：
◎
Associated requirements for just the Service Worker:
</p>

<ul>
	<li>
`~URLにより~indexされる$
⇒
`register()^m,
`importScripts()^m
~callの~semanticsは、~URLに~dependする。
◎
Indexed by URL: The register() and importScripts() calls have semantics that depend on the URL.
</li>
	<li>
`~originとして~signすること$
⇒
~fileが %O から来たことを~proveするために。
◎
Signing as an origin: To prove that the file came from O.
</li>
	<li>
`~sign時には~existing~TLS~certificateを~useする$
⇒
これにより、 %O は，~specializeされた~certificate用に大金をはたかずに済む。
◎
Signing uses existing TLS certificates: So O doesn’t have to spend lots of money buying a specialized certificate.
</li>
	<li>
`~cryptographic~agility$
⇒
~todayの~algoは、~eventualには~obsoleteされ，~replaceする必要が生じることになる。
◎
Cryptographic agility: Today’s algorithms will eventually be obsolete and will need to be replaced.
</li>
	<li>
`~certificateの~revocation$
⇒
%O の~certificateは~compromiseされたり~mis-issueされるかもしれない
— ~attackerが~packageを~infiniteに~mintする~abilityを~getするベキでない。
◎
Certificate revocation: O’s certificate might be compromised or mis-issued, and the attacker shouldn’t then get an infinite ability to mint packages.
</li>
	<li>
`~downgradeの~prevention$
⇒
%O の~siteには ~XSS~vulnerabilityがあるかもしれない
— ~old~sign済み~packageを持っている~attackerが、~XSSの~advantageを~foreverに得られるベキでない。
◎
Downgrade prevention: O’s site might have an XSS vulnerability, and attackers with an old signed package shouldn’t be able to take advantage of the XSS forever.
</li>
	<li>
`~metadata$
⇒
`register()^m ~callを~generateするに足る，かつ
~W3Cによる~fullな `Application Manifest^cite より少ない。
◎
Metadata: Just enough to generate the register() call, which is less than a full W3C Application Manifest.
</li>
</ul>

<p>
~packageされた~resource用に~assoc~additionalな~requirements：
◎
Additional associated requirements for packaged resources:
</p>


<ul>
	<li>
`~URLにより~indexされる$
⇒
~web上の~resourceは、~URLにより~addressされる。
◎
Indexed by URL: Resources on the web are addressed by URL.
</li>
	<li>
`~request~header$
⇒
~Baileyが~Alexとは異なる~browserを~runしていたり，異なる~languageに~configureされている場合、
`Accept*^h ~headerが，各~URLにどの~resourceを~useするか~selectするときに~importantになる。
◎
Request headers: If Bailey’s running a different browser from Alex or has a different language configured, the accept* headers are important for selecting which resource to use at each URL.
</li>
	<li>
`~response~header$
⇒
~resourceの~HTTP~response~headerは、~resourceの~meaningに深く~influenceする。
◎
Response headers: The meaning of a resource is heavily influenced by its HTTP response headers.
</li>
	<li>
`~package内の複数の~originからの~resource$
⇒
これにより、~siteは
<a href="#libraries">~packageを複数の~libraryから~buildできる</a>
。
◎
Resources from multiple origins in a package: So the site can be built from multiple components.
</li>
	<li>
`~metadata$
⇒
~browserは、［
~package~fileの中のどの~resourceを，その~Service-Workerや~initial~HTML~pageとして~treatするか
］~knowする必要がある。
◎
Metadata: The browser needs to know which resource within a package file to treat as its Service Worker and/or initial HTML page.
</li>
</ul>

				<section id="online-use">
<h5 title="Online use">2.1.1.1. ~onlineでの~use</h5>

<p>
~Baileyは、~internet~connectionがあるときは、それを通して~real-timeに，~Alexから受取った~package用の~updateを~fetchできる。
◎
Bailey may have an internet connection through which they can, in real time, fetch updates to the package they received from Alex.
</p>

				</section>
				<section id="fully-offline-use">
<h5 title="Fully offline use">2.1.1.2. ~fullに~offlineの~use</h5>

<p>
あるいは~Baileyは、一定期間，~internetへ~connectionできないこともあろう
— 例：
~internetが全く無い ／
~contentを~downloadするとき以外は ~intentionalに~internetを切っている ／
料金プランを月の中途で使い果たした，など。
◎
Or Bailey may not have any internet connection a significant fraction of the time, either because they have no internet at all, because they turn off internet except when intentionally downloading content, or because they use up their plan partway through each month.
</p>

<p>
`~offline~installation$を超える，~assoc~requirements：
◎
Associated requirements beyond Offline installation:
</p>

<ul>
	<li>
`~packageされた~validity~information$
⇒
~Baileyは、~internetへ~directに~connectできなくとも，依然として 当の~packageは~validかどうか~check可能になるベキである。
◎
Packaged validity information: Even without a direct internet connection, Bailey should be able to check that their package is still valid.
</li>
</ul>

				</section>
			</section>
			<section id="offline-browsing">
<h4 title="Offline browsing">2.1.2. ~offlineで~browseするとき</h4>

<p>
~Alexは、巨大な~website（例： `Wikipedia^ ）を~containしている~fileを，その~originから~downloadして、それを~transfer可能な~storageに~saveして（例： ~SD-card ）から，同僚の~Baileyに~handできる。
~Baileyは、 %O から来た~proofがある下で，~websiteを~browseできる。
~Baileyは、~browseする前に，~websiteを~copyするための~storageの空きが足らないこともあろう。
◎
Alex can download a file containing a large website (e.g. Wikipedia) from its origin, save it to transferrable storage (e.g. an SD card), and hand it to their peer Bailey. Then Bailey can browse the website with a proof that it came from O. Bailey may not have the storage space to copy the website before browsing it.
</p>

<p>
この~use~caseは、`~offline~installation$を~Service-Worker用に~specializeする場合には，~publisherにとって~supportし難くなる
— ~publisherには、~siteを~signできる前に，~Service-Workerを~adoptすることが~requireされるので。
◎
This use case is harder for publishers to support if we specialize Section 2.1.1 for Service Workers since it requires the publisher to adopt Service Workers before they can sign their site.
</p>

<p>
`~offline~installation$を超える，~assoc~requirements：
◎
Associated requirements beyond Offline installation:
</p>

<ul>
	<li>
`~random~access$
⇒
~contentを~useする前に，初めから終わりまで~scanする必要を~avoidする。
◎
Random access: To avoid needing a long linear scan before using the content.
</li>
	<li>
`~store済み~packageを~compressする$
⇒
これにより、同じ~storage~device上に もっと~contentが収まるようになる。
◎
Compress stored packages: So that more content can fit on the same storage device.
</li>
</ul>

			</section>
			<section id="snapshot">
<h4 title="Save and share a web page">2.1.3. ~web~pageを~saveして~shareする</h4>

<p>
~Caseyは~web~pageを~viewしていて、~offline~use用に, あるいは友人の~Dakotaにその~pageを~showするために，その~pageを~saveしたいと~wantする。
~Caseyは~web~pageの~publisherではないので，~pageに~signするために必要な~private鍵は持っていない。
~current~browserは，~userが~pageを~saveできるようにしているが、~useする~formatは各~browserごとに異なるので（~MHTML ／ ~Web-Archive ／ ~directory内の~file）、~Dakotaと~Caseyは，同じ~browserを~useする必要がある。
~Caseyは~screenshotも撮れるが、~linkと~accessibilityを~loseする~costと引き換えになる。
◎
Casey is viewing a web page and wants to save it either for offline use or to show it to their friend Dakota. Since Casey isn’t the web page’s publisher, they don’t have the private key needed to sign the page. Browsers currently allow their users to save pages, but each browser uses a different format (MHTML, Web Archive, or files in a directory), so Dakota and Casey would need to be using the same browser. Casey could also take a screenshot, at the cost of losing links and accessibility.
</p>

<p>
~assoc~requirements：
◎
Associated requirements:
</p>

<ul>
	<li>
`~unsigned~content$
⇒
~clientは、~contentを別の~originとして~signし得ない。
◎
Unsigned content: A client can’t sign content as another origin.
</li>
	<li>
`~package内の複数の~originからの~resource$
⇒
~generalな~web~pageは、複数の~originからの~resourceを~includeする。
◎
Resources from multiple origins in a package: General web pages include resources from multiple origins.
</li>
	<li>
`~URLにより~indexされる$
⇒
~web上の~resourceは、~URLにより~addressされる。
◎
Indexed by URL: Resources on the web are addressed by URL.
</li>
	<li>
`~response~header$
⇒
~resourceの~HTTP~response~headerは、~resourceの~meaningに深く~influenceする。
◎
Response headers: The meaning of a resource is heavily influenced by its HTTP response headers.
</li>
</ul>

			</section>
			<section id="private-prefetch">
<h4 title="Privacy-preserving prefetch">2.1.4. ~privacyを~preserveする~prefetch</h4>

<p>
たくさんの~websiteが、他の~websiteへ~linkする。
これらの~source~siteの多くは、~linkの~targetを~quickに~loadしたがっている。
~sourceにおいて
`&lt;link rel="prefetch"&gt;^c
を~useすれば，~linkの~targetを~prefetchできるが、そうすると，~userが~linkを~actualに~clickしなくとも，~userが~targetに~linkした~pageを見た~factは~leakされる。
~TLS~session~IDの様な~mechanismがあるため、これは，~prefetchが~browser~credentialsなしに為された場合にも起こる。
◎
Lots of websites link to other websites. Many of these source sites would like the targets of these links to load quickly. The source could use &lt;link rel="prefetch"&gt; to prefetch the target of a link, but if the user doesn’t actually click that link, that leaks the fact that the user saw a page that linked to the target. This can be true even if the prefetch is made without browser credentials because of mechanisms like TLS session IDs.
</p>

<p>
~clientにおける［
~link~targetを~prefetchする~data用の~budget
］は限られているので、この~use~caseは，~probably［
~userがどの~linkを~clickする見込みが最も高いか，~accurateに~predictできる~site
］に限られる。
例えば、~search~engineは，~userが最初の数個の~resultいずれかを~clickすることになると~predictでき、
`Reddit^ や `Slashdot^ の様な~news-aggregation~siteは，その討論へ~userが~navigateしたなら，~articleを読むことになると~~期待できる。
◎
Because clients have limited data budgets to prefetch link targets, this use case is probably limited to sites that can accurately predict which link their users are most likely to click. For example, search engines can predict that their users will click one of the first couple results, and news aggreggation sites like Reddit or Slashdot can hope that users will read the article if they’ve navigated to its discussion.
</p>

<p>
~todayの~technologyでこれを行う~systemを~buildした~search~engineは，［
`Google^ による
<a href="https://www.ampproject.org/">AMP</a> ／
`Baidu^ による
<a href="https://www.mipengine.org/">MIP</a>
］の 2 つがあり，それらの［
~format, ~cache
］は、~privacyを~preserveしつつ~search~resultを~prefetchすることを~allowする
— ~userが~clickした~resultに対し，~wrongな~URLを~showする~costと引き換えに。
この~problemに対する良い~solutionは、~rightな~URLを~showしつつ，依然として~publishしている~origin向けの~requestは ~userが~clickしない限り~avoidするものになるであろう。
◎
Two search engines have built systems to do this with today’s technology: Google’s AMP and Baidu’s MIP formats and caches allow them to prefetch search results while preserving privacy, at the cost of showing the wrong URLs for the results once the user has clicked. A good solution to this problem would show the right URLs but still avoid a request to the publishing origin until after the user clicks.
</p>

<p>
~assoc~requirements：
◎
Associated requirements:
</p>

<ul>
	<li>
`~originとして~signすること$
⇒
~contentが~original~originから来たことを~proveするため。
◎
Signing as an origin: To prove the content came from the original origin.
</li>
	<li>
`~stream化された~loading$
⇒
~target~pageが~fullに~transferされる前に~userが~clickした場合、~browserは，~source~siteが~page全体の~sendingを~finishする前に，先に得られた各部の~loadingが開始-可能になるベキである。
◎
Streamed loading: If the user clicks before the target page is fully transferred, the browser should be able to start loading early parts before the source site finishes sending the whole page.
</li>
	<li>
`~transferを~compressする$
◎
Compress transfers
</li>
	<li>
`~subsettingと~reordering$
⇒
~prefetchした~pageが，ある~imageを成す~subresourceを~includeする場合、~subresourceの~publisherは，~imageの［
~WebP, ~PNG
］両~versionとも~provideして~signしたいと~wantするかもしれないが、~source~siteは，各~clientに対し~bestな 1 つのみ~transfer可能になるベキである。
◎
Subsetting and reordering: If a prefetched page includes subresources, its publisher might want to provide and sign both WebP and PNG versions of an image, but the source site should be able to transfer only best one for each client.
</li>
</ul>

			</section>
		</section>
		<section id="nice-to-have-use-cases">
<h3 title="Nice-to-have">2.2. ~nice-to-have</h3>

			<section id="uc-web-pub">
<h4 title="Packaged Web Publications">2.2.1. ~packageされた~web~publication</h4>

<p>
`IDPF^（ `International Digital Publishing Forum^en ）と合併した
<a href="https://www.w3.org/publishing/groups/publ-wg/">~W3Cの Publishing Working Group</a>
は、 `EPUB^ の~maintenanceを任される中で，［
異なる~serverや他の~userへ，~arbitraryな~protocolを介して~copyできるような~publication
］を~web上に~create可能にしたいと~wantしている。
~detailsは
<a href="https://www.w3.org/TR/pwp-ucr/#pwp">Packaged Web Publications use cases</a>
（ ~packageされた~web~publicationの~use~case ）を見よ。
◎
The W3C’s Publishing Working Group, merged from the International Digital Publishing Forum (IDPF) and in charge of EPUB maintenance, wants to be able to create publications on the web and then let them be copied to different servers or to other users via arbitrary protocols. See their Packaged Web Publications use cases for more details.
</p>

<p>
~assoc~requirements：
◎
Associated requirements:
</p>

<ul>
	<li>
`~URLにより~indexされる$
⇒
~web上の~resourceは、~URLにより~addressされる。
◎
Indexed by URL: Resources on the web are addressed by URL.
</li>
	<li>
`~originとして~signすること$
⇒
これにより、読者は，手元の~copyが~authenticであることを~~確認でき、~packageを~copyしても~insideにある~contentの~URLは~preserveされる。
◎
Signing as an origin: So that readers can be sure their copy is authentic and so that copying the package preserves the URLs of the content inside it.
</li>
	<li>
`~downgradeの~prevention$
⇒
~publicationの早期~versionは、~incorrectな~contentを~containするかもしれない。
~publisherは
— ~attackerが，~old~contentを依然として~userに~showできることに~worryすることなく —
~update可能になるベキである。
◎
Downgrade prevention: An early version of a publication might contain incorrect content, and a publisher should be able to update that without worrying that an attacker can still show the old content to users.
</li>
	<li>
`~metadata$
⇒
~publicationの関心事には、~copyrightや~licensingも含まれ得る。
［
~title, 著作者, 表紙~image, ~ISBNや~DOI名, 等々
］は、その~publicationが~packageされるときに，~includeされるベキである。
◎
Metadata: A publication can have copyright and licensing concerns; a title, author, and cover image; an ISBN or DOI name; etc.; which should be included when that publication is packaged.
</li>
</ul>

<p>
他の~requirementsは、`~offline~installation$と~similarになる：
◎
Other requirements are similar to those from Offline installation:
</p>

<ul>
	<li>
`~random~access$
⇒
~contentを~useする前に，初めから終わりまで~scanする必要を~avoidする。
◎
Random access: To avoid needing a long linear scan before using the content.
</li>
	<li>
`~store済み~packageを~compressする$
⇒
これにより、同じ~storage~device内にもっと~contentが収まるようになる。
◎
Compress stored packages: So that more content can fit on the same storage device.
</li>
	<li>
`~request~header$
⇒
各~browserの~capabilitiesや~preferenceが，~userごとに異なる場合、各~URLにどの~resourceを~useするか~selectするときに， `Accept*^h ~headerが~importantになる。
◎
Request headers: If different users’ browsers have different capabilities or preferences, the accept* headers are important for selecting which resource to use at each URL.
</li>
	<li>
`~response~header$
⇒
~resourceの~HTTP~response~headerは、~resourceの~meaningに深く~influenceする。
◎
Response headers: The meaning of a resource is heavily influenced by its HTTP response headers.
</li>
	<li>
`~sign時には~existing~TLS~certificateを~useする$
⇒
これにより、~publisherは，~specializeされた~certificate用に大金をはたかずに済む。
◎
Signing uses existing TLS certificates: So a publisher doesn’t have to spend lots of money buying a specialized certificate.
</li>
	<li>
`~cryptographic~agility$
⇒
~todayの~algoは、~eventualには~obsoleteされ，~replaceする必要が生じることになる。
◎
Cryptographic agility: Today’s algorithms will eventually be obsolete and will need to be replaced.
</li>
	<li>
`~certificateの~revocation$
⇒
~publisherの~certificateは~compromiseされたり~mis-issueされるかもしれない
— ~attackerが~infiniteに~packageを~mintする~abilityを~getするベキでない。
◎
Certificate revocation: The publisher’s certificate might be compromised or mis-issued, and an attacker shouldn’t then get an infinite ability to mint packages.
</li>
</ul>

			</section>
			<section id="anti-censorship">
<h4 title="Avoiding Censorship">2.2.2. ~censorshipの~avoiding</h4>

<p>
一部の~userは、［
~governmentや~network~providerが彼らに見せたくないと~wantする~resource
］を，~retrieveしたいと~wantする。
~privilegedな~network~positionにある誰かにとって，~particular~hostへの~accessを~blockするのは 今すぐにでも~straightforwardだが、そのような~host上の~particular~resourceだけ~accessを~blockするのは，~TLSの下では~difficultである。
◎
Some users want to retrieve resources that their governments or network providers don’t want them to see. Right now, it’s straightforward for someone in a privileged network position to block access to particular hosts, but TLS makes it difficult to block access to particular resources on those hosts.
</p>

<p>
~todayにおいて，［
~blockされた~contentを，~third-partyから~retrieveする
］のは~straightforwardだが、［
~third-partyが当の~contentの~accurateな~representationを~userへ~sendしたかどうか
］の~guaranteeは無い
— ~userは、~third-partyを~trustする必要がある。
◎
Today it’s straightforward to retrieve blocked content from a third party, but there’s no guarantee that the third-party has sent the user an accurate representation of the content: the user has to trust the third party.
</p>

<p>
~sign済み~web~packageがあれば、~userは，~censorshipは依然として~bypassしつつ, ~contentは~authenticである~assuranceを取り戻せる。
~packageには、この~contentの【~censorshipによる】~discoverを~helpするものは何らない。
◎
With signed web packages, the user can re-gain assurance that the content is authentic, while still bypassing the censorship. Packages don’t do anything to help discover this content.
</p>

<p>
~censorshipを~difficultにする~systemは、~legitimateな~content~filteringも~difficultにする。
~web~packageを~processする~clientは，常に真の~URLを~knowするので、このことは，~content~filteringは
— ~network上に代えて —
~client上で~happenすることを強いる。
◎
Systems that make censorship more difficult can also make legitimate content filtering more difficult. Because the client that processes a web package always knows the true URL, this forces content filtering to happen on the client instead of on the network.
</p>

<p>
~assoc~requirements：
◎
Associated requirements:
</p>

<ul>
	<li>
`~URLにより~indexされる$
⇒
これにより、~userは，自身が~expectする~contentを~getしていることを見れる。
◎
Indexed by URL: So the user can see that they’re getting the content they expected.
</li>
	<li>
`~originとして~signすること$
⇒
これにより、読者は，手元の~copyが~authenticであることを~~確認でき、~packageを~copyしても~insideにある~contentの~URLは~preserveされる。
◎
Signing as an origin: So that readers can be sure their copy is authentic and so that copying the package preserves the URLs of the content inside it.
</li>
</ul>

			</section>
			<section id="security-review">
<h4 title="Third-party security review">2.2.3. ~third-partyによる~security~review</h4>

<p>
一部の~userは、~securityついて，~trust済みの~third-partyにより~reviewされた~appに限り，一定の~permissionを~grantしたいと~wantすることもあろう。
これらの~third-partyは、［
`iOS^ ／ `Android^ ／ `Chrome OS^ ~app~store0
］が~provideするものに~similarな~guaranteeを~provideすることもでき、［
~audit済みでないが~safeと~deemされた~website用に，より~powerfulな~capabilitiesを~offerする
］ことを，~browserに~allowするかもしれない。
◎
Some users may want to grant certain permissions only to applications that have been reviewed for security by a trusted third party. These third parties could provide guarantees similar to those provided by the iOS, Android, or Chrome OS app stores, which might allow browsers to offer more powerful capabilities than have been deemed safe for unaudited websites.
</p>

<p>
~website用の~binary~transparencyも~similarになる：
Certificate Transparency 【証明書の透明性】 `RFC6962$r と同様に，~transparency~logは、~packageの~contentを~signして，［
~clientが~receiveした~exactな~packageを，~expertたちが~auditする~chanceがあった
］ことの~assuranceを~provideすることになろう。
◎
Binary transparency for websites is similar: like with Certificate Transparency [RFC6962], the transparency logs would sign the content of the package to provide assurance that experts had a chance to audit the exact package a client received.
</p>

<p>
~assoc~requirements：
◎
Associated requirements:
</p>


<ul>
	<li>
`~additionalな~signature$
◎
Additional signatures
</li>
</ul>

			</section>
			<section id="libraries">
<h4 title="Building packages from multiple libraries">2.2.4. ~packageを複数の~libraryから~buildするとき</h4>

<p>
巨大な~programは、より小さな~componentから~buildされる。
~webの場合、各~componentは［
~JS~fileか, `iframe^e 化された~subresource
］として~includeされ得る。
前者の~caseでは，~packagerは，~JS~fileを~own~originに~copyすることもできるが、後者の~caseでは， `iframe^e 化された~resourceにとって［
`~same-origin$向けの~requestを，~own~origin向けに発行し直せる
］ことが~importantになり得る
— 例えば， `federated sign-in^en 【！＊】を~implementするため。
◎
Large programs are built from smaller components. In the case of the web, components can be included either as Javascript files or as &lt;iframe&gt;d subresources. In the first case, the packager could copy the JS files to their own origin; but in the second, it may be important for the &lt;iframe&gt;d resources to be able to make same-origin requests back to their own origin, for example to implement federated sign-in.
</p>

<p>
~assoc~requirements：
◎
Associated requirements:
</p>

<ul>
	<li>
`~package内の複数の~originからの~resource$
⇒
各~componentは、その~own~originから来ることもある。
◎
Resources from multiple origins in a package: Each component may come from its own origin.
</li>
	<li>
`~diamond~dependencyの~deduplication$
⇒
2 つの~dependency
A→B→D, A→C→D
がある場合、~resource D への~requestは~single~resourceに~resolveされつつ，
B, C とも それを~handleできることが~importantになる。
◎
Deduplication of diamond dependencies: If we have dependencies A-&gt;B-&gt;D and A-&gt;C-&gt;D, it’s important that a request for a D resource resolves to a single resource that both B and C can handle.
</li>
</ul>

				<section id="shared-libraries">
<h5 title="Shared libraries">2.2.4.1. ~shared~library</h5>

<p>
<a href="https://electron.atom.io/">Electron</a>,
<a href="https://nodejs.org/en/">Node</a>
の様な~ecosystemにおいては、多くの~packageが，何らかの~commonな~dependenciesを~shareすることもある。
各~packageを~downloadする~costは、当の~packageが
— それらすべてを~inlineに~includeする代わりに —
~downloadする他の~dependenciesを指すだけで済めば，大幅に~reduceできる。
◎
In ecosystems like Electron and Node, many packages may share some common dependencies. The cost of downloading each package can be greatly reduced if the package can merely point at other dependencies to download instead of including them all inline.
</p>

<p>
~assoc~requirements：
◎
Associated requirements:
</p>

<ul>
	<li>
`~external~dependency$
◎
External dependencies
</li>
</ul>

				</section>
			</section>
			<section id="cross-cdn-serving">
<h4 title="Cross-CDN Serving">2.2.5. ~CDNをまたがる~serve法</h4>

<p>
~web~pageが，異なる~originからの~subresourceを有するとき、それらの~subresourceの~retrievalは、~main~resourceと同じ~connection越しに~transferされれば~optimizeできる。
両~originとも同じ~CDNから~distributeされる場合、
`I-D.ietf-httpbis-http2-secondary-certs$r の様な~progress中の~mechanismが，両~resourceとも~sendする~single~connectionを~useすることを~serverに~allowするが、当の~resourceと~subresourceが ~CDNを~shareしない／全く~useしない場合、~existing~mechanismは~helpにならない。
◎
When a web page has subresources from a different origin, retrieval of those subresources can be optimized if they’re transferred over the same connection as the main resource. If both origins are distributed by the same CDN, in-progress mechanisms like [I-D.ietf-httpbis-http2-secondary-certs] allow the server to use a single connection to send both resources, but if the resource and subresource don’t share a CDN or don’t use a CDN at all, existing mechanisms don’t help.
</p>

<p>
当の~subresourceが~publisherにより~signされた場合には、~main~resourceの~serverは それを~clientへ~forwardできる。
◎
If the subresource is signed by its publisher, the main resource’s server can forward it to the client.
</p>

<p>
~client, ~serverが~clientの~cache内にすでにある~subresourceを~transferするのを~avoidしたいと~wantする場合、まだ~solveされてない~privacy~problemがある
— ~naiveに，~resourceはすでに在ると~serverに~tellするのでは、~privacy~leakになる。
◎
There are some yet-to-be-solved privacy problems if the client and server want to avoid transferring subresources that are already in the client’s cache: naively telling the server that a resource is already present is a privacy leak.
</p>

<p>
~assoc~requirements：
◎
Associated requirements:
</p>

<ul>
	<li>
`~stream化された~loading$
⇒
~optimalな~performanceを得るため、~browserは
— ~distributorが~resource全体の~sendingを~finishする前に —
~resourceを成す先に得られた各部の~loadingを開始-可能になるベキである。
◎
Streamed loading: To get optimal performance, the browser should be able to start loading early parts of a resource before the distributor finishes sending the whole resource.
</li>
	<li>
`~originとして~signすること$
⇒
~contentが~original~originから来たことを~proveするため。
◎
Signing as an origin: To prove the content came from the original origin.
</li>
	<li>
`~transferを~compressする$
◎
Compress transfers
</li>
</ul>

			</section>
			<section id="self-extracting">
<h4 title="Installation from a self-extracting executable">2.2.6. ~self-extracting~executableからの~installation</h4>

<p>
`Node^ や `Electron^ の~communityは、~self-extracting~executableを~useして~packageを~installしたいであろう。
~self-extracting~executableを~designする~traditionalな~wayは、
~executableの末尾に~packageを~concatenateするものである
— ~executableは、~packageの~endから~packageの~lengthを探し出し，そこから~packageの~startへ~backwardsへ~seekする。
◎
The Node and Electron communities would like to install packages using self-extracting executables. The traditional way to design a self-extracting executable is to concatenate the package to the end of the executable, have the executable look for a length at its own end, and seek backwards from there for the start of the package.
</p>

<p>
~assoc~requirements：
◎
Associated requirements:
</p>

<ul>
	<li>
`~trailing~length$
◎
Trailing length
</li></ul>



			</section>
			<section id="version-control">
<h4 title="Packages in version control">2.2.7. ~version~controlにおける~package</h4>

<p>
~generateされた各~packageは、~version~controlの下で~storeされるベキである。
~popularな多くの~version~control~systemは、~text~fileを~auto-~detectして，その~line-endingを “~fixする” 。
~packageの最初の~byte列は~textの様に見えつつ，後続の~byte列は~binary~dataを~storeしている場合、~version~controlは~packageを壊すことになろう。
◎
Once packages are generated, they should be stored in version control. Many popular VC systems auto-detect text files in order to “fix” their line endings. If the first bytes of a package look like text, while later bytes store binary data, VC may break the package.
</p>

<p>
~assoc~requirements：
◎
Associated requirements:
</p>

<ul>
	<li>
`~binary$
◎
Binary
</li>
</ul>

			</section>
			<section id="bundling">
<h4 title="Subresource bundling">2.2.8. ~subresourceの~bundle法</h4>

<p>
~textに基づく一連の~subresourceを一緒に~bundleすれば、~compression~ratioが~improveされる~benefitが得られることが多い。
◎
Text based subresources often benefit from improved compression ratios when bundled together.
</p>

<p>
と同時に，~JSや~CSSを~bundleする~current~practiceにおいては、~single~JS~fileの中に何もかもを~compileすることによる，~negativeな~side-effectもある：
◎
At the same time, the current practice of JS and CSS bundling, by compiling everything into a single JS file, also has negative side-effects:
</p>

<ol>
	<li>
~dependent~execution
⇒
~bundleされた~resourceたちのうち`どれであろうが^em，それを~executeし始めるためには、`それらすべて^emを［
~downloadして, ~parseして, ~executeする
］ことが~requireされる。
◎
Dependent execution - in order to start executing any of the bundled resources, it is required to download, parse and execute all of them.
</li>
	<li>
~cachingの~granularityが~lostする
⇒
各~resourceの`どれか^emが~modificationされると，
`それらすべて^emの~cachingが無効化される~resultになる。
◎
Loss of caching granularity - Modification of any of the resources results in caching invalidation of all of them.
</li>
	<li>
~module~semanticsが~lostする
⇒
ES6 の各~moduleは、互いに~independentな~resourceとして~deliverされなければならない。
しかしながら，~current~bundling~methodは、~commonな~URLの下でそれらを他の~resourceと伴に~deliverするので， `ES5^ へ~transpileすることが~requireされる。
その~resultとして、 `ES6^ ~module~semanticsが~lostする。
◎
Loss of module semantics - ES6 modules must be delivered as independent resources. Therefore, current bundling methods, which deliver them with other resources under a common URL, require transpilation to ES5 and result in loss of ES6 module semantics.
</li>
</ol>

<p>
各~resourceが［
~own~URLを~maintainしつつ，他の~resourceとともに~physicalに~deliverされる
］ことを~enableするような，~on-the-flyに~readableな~package用の~formatは、~compression~ratioを~improveする~upsideを~keepしつつ，上の~downsideを~resolveできる。
◎
An on-the-fly readable packaging format, that will enable resources to maintain their own URLs while being physically delivered with other resources, can resolve the above downsides while keeping the upsides of improved compression ratios.
</p>

<p>
~cacheの~granularityを~improveするためには、~clientは，どの~resourceのどの~versionがすでに~cacheされたか~serverに~tellする必要がある
— それは、~Service-Workerで，あるいは~perhaps `I-D.ietf-httpbis-cache-digest$r でも行える。
◎
To improve cache granularity, the client needs to tell the server which versions of which resources are already cached, which it could do with a Service Worker or perhaps with [I-D.ietf-httpbis-cache-digest].
</p>

<p>
~assoc~requirements：
◎
Associated requirements:
</p>

<ul>
	<li>
`~URLにより~indexされる$
◎
Indexed by URL
</li>
	<li>
`~stream化された~loading$
⇒
~downsideのうち，~dependent~executionを~solveするため。
◎
Streamed loading: To solve downside 1.
</li>
	<li>
`~transferを~compressする$
⇒
~upsideを~keepするため。
◎
Compress transfers: To keep the upside.
</li>
	<li>
`~response~header$
⇒
~JSと~CSSを~loadするためには少なくとも `Content-Type$h が必要になる。
◎
Response headers: At least the Content-Type is needed to load JS and CSS.
</li>
	<li>
`~unsigned~content$
⇒
~same-origin~contentを~signしても，空きを~wasteするだけである。
◎
Unsigned content: Signing same-origin content wastes space.
</li>
</ul>

			</section>
			<section id="archival">
<h4 title="Archival">2.2.9. ~archival</h4>

<p>
~WARC `ISO28500$r の様な~existing~formatは、~particular時点における~web~serverの~stateを~accurateに~representする良い~jobを行うが、~currently~browserは，その~websiteが~archiveされた時点の~experienceを~personに与えるものとしては、それらを~useできない。
この~draftの策定者にとっては、~package用の~new~formatが
— 例えば、~browserにおいて，~WARC用の~supportを~implementすることに~compareして —
~WARCを~improveすると見込まれるかどうかは~obviousでないが、~archive法について~knowする者たちからは関心があると見受けられる
— 例：
<a href="https://twitter.com/anjacks0n/status/950861384266416134">https://twitter.com/anjacks0n/status/950861384266416134</a>
◎
Existing formats like WARC ([ISO28500]) do a good job of accurately representing the state of a web server at a particular time, but a browser can’t currently use them to give a person the experience of that website at the time it was archived. It’s not obvious to the author of this draft that a new packaging format is likely to improve on WARC, compared to, for example, implementing support for WARC in browsers, but folks who know about archiving seem interested, e.g.: https://twitter.com/anjacks0n/status/950861384266416134.
</p>

<p>
~archivalには~time-scaleが~involveされるため、~original~hostからのどの~signatureも，~archiveを~viewする時点では それ以上~trustできない見込みが高い。
なので，~implementationは、~original~origin上で~runする代わりに，~contentを~sandbox化する必要がある。
◎
Because of the time scales involved in archival, any signatures from the original host would likely not be trusted anymore by the time the archive is viewed, so implementations would need to sandbox the content instead of running it on the original origin.
</p>

<p>
~assoc~requirements：
◎
Associated requirements:
</p>


<ul>
	<li>
`~URLにより~indexされる$
◎
Indexed by URL
</li>
	<li>
`~response~header$
⇒
~serverの~responseを~accurateに~recordするため。
◎
Response headers: To accurately record the server’s response.
</li>
	<li>
`~unsigned~content$
⇒
~expireした~signatureに~~対処するため。
◎
Unsigned content: To deal with expired signatures.
</li>
	<li>
`~time-shifting~execution$
◎
Time-shifting execution
</li>
</ul>

			</section>
		</section>
	</section>
	<section id="requirements">
<h2 title="Requirements">3. ~requirements</h2>

		<section id="essential-reqs">
<h3 title="Essential">3.1. ~essentialな~requirements</h3>

			<section id="urls">
<h4 title="Indexed by URL">3.1.1. ~URLにより~indexされる</h4>

<p>
~resourceは、~URLを~keyとするベキである
— ~browserが~HTTP越しに~resourceを~look-upする方法に~matchするよう。
◎
Resources should be keyed by URLs, matching how browsers look resources up over HTTP.
</p>

			</section>
			<section id="request-headers">
<h4 title="Request headers">3.1.2. ~request~header</h4>

<p>
~resource~keyは、~content~negotiateされた~resourceを~representできるよう，
`Accept$h や `Accept-Language$h
の様な~request~headerを~includeするベキである。
◎
Resource keys should include request headers like accept and accept-language, which allows content-negotiated resources to be represented.
</p>

<p>
これは、 `MHTML$r に対する~extensionを~requireすることになろう
— それは， `Content-Location$h ~response~headerを~useして~requestされた~URLを~encodeするが、他の~request~headerを~encodeする~wayは無いので。
~MHTMLには、同じ `Content-Location$h を伴う複数の~resourceを~handleするための~instructionも無い。
◎
This would require an extension to [MHTML], which uses the content-location response header to encode the requested URL, but has no way to encode other request headers. MHTML also has no instructions for handling multiple resources with the same content-location.
</p>

<p>
これは `ZIP$r に対する~extensionも~requireする
— 各~request~headerを~ZIPの~filename~fieldの中に~encodeする必要がある。
◎
This also requires an extension to [ZIP]: we’d need to encode the request headers into ZIP’s filename fields.
</p>

			</section>
			<section id="response-headers">
<h4 title="Response headers">3.1.3. ~response~header</h4>

<p>
~resourceは、次に挙げる様な~HTTP~response~headerを~includeするベキである
⇒＃
`Content-Type$h,
`Content-Encoding$h,
`Expires$h,
`Content-Security-Policy$h,
等々。
◎
Resources should include their HTTP response headers, like content-type, content-encoding, expires, content-security-policy, etc.
</p>

<p>
これは `ZIP$r に対する~extensionを~requireする
⇒
`JAR$r の `META-INF^c ~directoryの様な何かで
~resourceの~bodyを超える~extra~metadataを~holdする必要があろう。
◎
This requires an extension to [ZIP]: we’d need something like [JAR]’s META-INF directory to hold extra metadata beyond the resource’s body.
</p>

			</section>
			<section id="signing">
<h4 title="Signing as an origin">3.1.4. ~originとして~signすること</h4>

<p>
~packageの中の各~resourceは、［
~resourceの~origin `RFC6454$r 向けの~HTTPS~requestを~serveする~abilityを備える~entity
］から得られたものと，~proveされること。
◎
Resources within a package are provably from an entity with the ability to serve HTTPS requests for those resources’ origin [RFC6454].
◎
重複
Resources within a package are provably from an entity with the ability to serve HTTPS requests for those resources’ origin [RFC6454].
</p>

<p>
~HTTP~messageを~signするための以前の~attempt（
`I-D.thomson-http-content-signature$r,
`I-D.burke-content-signature$r,
`I-D.cavage-http-signatures$r
）は、［
~resourceが~particular~originから来たことを~proveするために、~clientが~signatureをどう~useするベキか
］についての~descriptionを~omitするので，この~purposeには ~probably~use可能でないことに注意。
◎
Note that previous attempts to sign HTTP messages ([I-D.thomson-http-content-signature], [I-D.burke-content-signature], and [I-D.cavage-http-signatures]) omit a description of how a client should use a signature to prove that a resource comes from a particular origin, and they’re probably not usable for that purpose.
</p>

<p>
これには、 `ZIP$r ~formatに対し， `JAR$r の~signatureに~similarな~extensionが~requireされることになる。
◎
This would require an extension to the [ZIP] format, similar to [JAR]’s signatures.
</p>

<p>
どの~cryptographic~systemにおいても、~specは，~incorrectな~implementationよりも ~correctな~implementationを~deployし易くする責務がある（`~wrongな~implementationになり難くする$）。
◎
In any cryptographic system, the specification is responsible to make correct implementations easier to deploy than incorrect implementations (Section 3.1.12).
</p>


			</section>
			<section id="random-access">
<h4 title="Random access">3.1.5. ~random~access</h4>

<p>
~disk上に~storeされた~packageに対しては、~browserは，初めから終わりまで~scanせずに~arbitraryな~resourceに~accessできること。
◎
When a package is stored on disk, the browser can access arbitrary resources without a linear scan.
</p>

<p>
`MHTML$r は、［
~containする各~resourceの~byte~offsetからなる~index
］も伴うように~extendされる必要がある。
◎
[MHTML] would need to be extended with an index of the byte offsets of each contained resource.
</p>

			</section>
			<section id="multiple-origins">
<h4 title="Resources from multiple origins in a package">3.1.6. ~package内の複数の~originからの~resource</h4>

<p>
~origin %O からの~packageは、別の~originからの
— %O と同じ~levelで~authenticateされた —
~resourceを~containできること。
◎
A package from origin A can contain resources from origin B authenticated at the same level as those from A.
</p>

			</section>
			<section id="crypto-agility">
<h4 title="Cryptographic agility">3.1.7. ~cryptographic~agility</h4>

<p>
~obsoleteな~cryptographic~algoは、~replaceできること。
◎
Obsolete cryptographic algorithms can be replaced.
</p>

<p>
~cryptographyの~upgradeを~planすることは、~old~cryptographyをいつ~removeすれば~safeなのかを~knowするための，何らかの~wayを含めるベキであることも~meanする（§`~old~cryptoを~removeできる$）。
◎
Planning to upgrade the cryptography also means we should include some way to know when it’s safe to remove old cryptography (Section 3.2.5).
</p>

			</section>
			<section id="unsigned-content">
<h4 title="Unsigned content">3.1.8. ~unsigned~content</h4>

<p>
~Alexは，~CAにより~signされた~certificateを伴う~own~packageを~createでき、~Baileyは，その~packageの~contentを~viewできること。
◎
Alex can create their own package without a CA-signed certificate, and Bailey can view the content of the package.
</p>

			</section>
			<section id="revocation">
<h4 title="Certificate revocation">3.1.9. ~certificateの~revocation</h4>

<p>
ある~packageを~signしている~certificateが~revokeされたなら、~online~browserはこれを~reasonableに~quickに~detectできること。
◎
When a package is signed by a revoked certificate, online browsers can detect this reasonably quickly.
</p>

			</section>
			<section id="no-downgrades">
<h4 title="Downgrade prevention">3.1.10. ~downgradeの~prevention</h4>

<p>
~browserが［
~vulnerableな~versionの~packageの，より~new~version
］を見て以降は、~attackerが~oldな方を~browserに~trustさせ得なくすること。
◎
Attackers can’t cause a browser to trust an older, vulnerable version of a package after the browser has seen a newer version.
</p>

			</section>
			<section id="metadata">
<h4 title="Metadata">3.1.11. ~metadata</h4>

<p>
~W3Cによる `Application Manifest^cite
`W3C.WD-appmanifest-20170828$r
に~findされる様な~metadataがあること
— ~packageを~loadして~displayする方法を，~clientが~knowするのを~helpするために。
◎
Metadata like that found in the W3C’s Application Manifest [W3C.WD-appmanifest-20170828] can help a client know how to load and display a package.
</p>

			</section>
			<section id="easy-implementation">
<h4 title="Implementations are hard to get wrong">3.1.12. ~wrongな~implementationになり難くする</h4>

<p>
~designは、［
~incorrectな~implementationには、~quickに~noticeされる~tendがある~aspect
］を~incorporateして，［
~incorrectに~implementし易くなる~aspect
］を~avoidするベキである。
例えば：
◎
The design should incorporate aspects that tend to cause incorrect implementations to get noticed quickly, and avoid aspects that are easy to implement incorrectly. For example:
</p>


<ul>
	<li>
~cryptographic~algo~identifier `RFC7515$r を~explicitに~specifyすると、
~implementationがその~algoを~easyに~trustしてしまい，
<a href="https://paragonie.com/blog/2017/03/jwt-json-web-tokens-is-bad-standard-that-everyone-should-avoid">~vulnerabilityをもたらす</a>
。
◎
Explicitly specifying a cryptographic algorithm identifier in [RFC7515] made it easy for implementations to trust that algorithm, which caused vulnerabilities.
</li>
	<li>
`ZIP$r における~filenameの~duplicate~specificationは、~implementationが
<a href="https://nakedsecurity.sophos.com/2013/07/10/anatomy-of-a-security-hole-googles-android-master-key-debacle-explained/">片方だけ~signatureを~checkしながら他方を~use</a>
し易くしてしまう。
◎
[ZIP]’s duplicate specification of filenames makes it easy for implementations to check the signature of one copy but use the other.
</li>
	<li>
<p>
~possibleなときは，
<a href="https://blog.gerv.net/2016/09/introducing-deliberate-protocol-errors-langleys-law/">Langley の法則</a>†
に~followすることにより、~incorrectな~implementationは~deployし難くなる。
◎
Following Langley’s Law when possible makes it hard to deploy incorrect implementations.
</p>

<p class="trans-note">【†
要約： “~sendするものは <em>ときどき~evilに</em>，~acceptするものは~conservativeに”
— Postel の法則（
“~sendするものは~conservativeに，~acceptするものは~liberalに”
）の反対。
】</p>
	</li>
</ul>

			</section>
		</section>
		<section id="nice-to-have-reqs">
<h3 title="Nice to have">3.2. ~nice-to-have</h3>

			<section id="streamed-loading">
<h4 title="Streamed loading">3.2.1. ~stream化された~loading</h4>

<p>
~browserが、~packageを~downloadしながら~loadできること。
◎
The browser can load a package as it downloads.
</p>

<p>
これは~ZIPと~conflictする
— ~ZIPの~indexは末尾にあるので。
◎
This conflicts with ZIP, since ZIP’s index is at the end.
</p>

			</section>
			<section id="additional-signatures">
<h4 title="Additional signatures">3.2.2. ~additionalな~signature</h4>

<p>
~third-partyが、~packageを~signすることにより，~packageを~vouchできること。
◎
Third-parties can vouch for packages by signing them.
</p>

			</section>
			<section id="binary">
<h4 title="Binary">3.2.3. ~binary</h4>

<p>
~binary~formatは、［
~line-endingを “~fixしようと” ~tryするかもしれない~tool
］により，~binaryとして~identifyされること。
◎
The format is identified as binary by tools that might try to “fix” line endings.
</p>

<p>
これは、 `MHTML$r 基づく~formatの~use法と~conflictする。
◎
This conflicts with using an [MHTML]-based format.
</p>

			</section>
			<section id="deduplication">
<h4 title="Deduplication of diamond dependencies">3.2.4. ~diamond~dependencyの~deduplication</h4>

<p>
同じ~sub-packageへの複数の~dependency~routeがある ~nested~packageは、各~sub-packageにつき 1 個だけ~copyを~transmitして~storeできること。
◎
Nested packages that have multiple dependency routes to the same sub-package, can be transmitted and stored with only one copy of that sub-package.
</p>

			</section>
			<section id="crypto-removal">
<h4 title="Old crypto can be removed">3.2.5. ~old~cryptoを~removeできる</h4>

<p>
~ecosystemは、~obsoleteな~cryptographic~algoがもはや必要なくなったときを~identifyでき，~removeできること。
◎
The ecosystem can identify when an obsolete cryptographic algorithm is no longer needed and can be removed.
</p>

			</section>
			<section id="transfer-compression">
<h4 title="Compress transfers">3.2.6. ~transferを~compressする</h4>

<p>
~network越しに~transferされる~packageが占める~byte数は、~possibleな限り少なく抑えること。
これは、`~random~access$を~preserveする必要はないので，`~store済み~packageを~compressする$より~easyな~problemである。
◎
Transferring a package over the network takes as few bytes as possible. This is an easier problem than Compress stored packages since it doesn’t have to preserve Random access.
</p>

			</section>
			<section id="stored-compression">
<h4 title="Compress stored packages">3.2.7. ~store済み~packageを~compressする</h4>

<p>
~packageを~diskに~storeするときに占める~byte数は、~possibleな限り少なく抑えること。
◎
Storing a package on disk takes as few bytes as possible.
</p>

			</section>
			<section id="subsetting">
<h4 title="Subsetting and reordering">3.2.8. ~subsettingと~reordering</h4>

<p>
~packageの中の~resourceたちを，
`~originとして~signすること$に反することなく［
~removeできる／~reorderできる
］こと。
◎
Resources can be removed from and reordered within a package, without breaking signatures.
</p>

			</section>
			<section id="packaged-validity">
<h4 title="Packaged validity information">3.2.9. ~packageされた~validity~information</h4>

<p>
［
`~certificateの~revocation$ ／ `~downgradeの~prevention$
］~information自体を、~packageできる, あるいは他の~package内に~includeできること。
◎
Certificate revocation and Downgrade prevention information can itself be packaged or included in other packages.
</p>

			</section>
			<section id="existing-certs">
<h4 title="Signing uses existing TLS certificates">3.2.10. ~sign時には~existing~TLS~certificateを~useする</h4>

<p>
“~normalな” ~TLS~certificateを，~packageを~signするために~useできること。
“~code~signing” ~certificateの様な~extra~requirementsを~avoidすれば、~packagingは，すべての~siteから より~access可能になる。
◎
A “normal” TLS certificate can be used for signing packages. Avoiding extra requirements like “code signing” certificates makes packaging more accessible to all sites.
</p>

			</section>
			<section id="external-dependencies">
<h4 title="External dependencies">3.2.11. ~external~dependency</h4>

<p>
各~sub-packageは、~main~packageから “~external化” できること
— すなわち，~browserは、それらを別々に~fetchするか，すでに持っている必要がある。
（ <a href="https://github.com/WICG/webpackage/issues/35">#35, App Installer Story</a> ）
◎
Sub-packages can be “external” to the main package, meaning the browser will need to either fetch them separately or already have them. (#35, App Installer Story)
</p>

			</section>
			<section id="trailing-length">
<h4 title="Trailing length">3.2.12. ~trailing~length</h4>

<p>
~byte単位による~packageの~lengthは、~packageの末尾から~fixedな~offsetの所に~appearすること。
◎
The package’s length in bytes appears a fixed offset from the end of the package.
</p>

<p>
これは、 `MHTML$r と~conflictする。
◎
This conflicts with [MHTML].
</p>

			</section>
			<section id="timeshifting">
<h4 title="Time-shifting execution">3.2.13. ~time-shifting~execution</h4>

<p>
一部の~unsigned~packageにおいては、~JSの~timeを得る関数【 `Date.now()^m 等】は
— 真の~current~timeではなく —
~packageの~timestampを~returnするベキである。
◎
In some unsigned packages, Javascript time-telling functions should return the timestamp of the package, rather than the true current time.
</p>

<p>
これに~security上の~implicationsがあるかどうか、~exploreするベキである。
◎
We should explore if this has security implications.
</p>

			</section>
		</section>
	</section>
	<section id="non-goals">
<h2 title="Non-goals">4. ~goalではないもの</h2>

<p>
一部の~featureは，~package法と~sign法に伴われることが多く、~explicitに，`~requirements$の~listには~appearしないことを注記することが~importantになる。
◎
Some features often come along with packaging and signing, and it’s important to explicitly note that they don’t appear in the list of Requirements.
</p>

		<section id="confidential">
<h3 title="Store confidential data">4.1. ~confidential~dataを~storeする</h3>

<p>
~packageは，~publicな~informationを~holdするよう~designされており、
~original~publisherとの~interactiveな~connectionを決して持たない~peopleに~shareされる。
その~situationにおいては、~contentを~confidentialに~keepする~wayは無い
— それらが~encryptされていようが、~dataを~publicにするためには，誰もが~decryption鍵を~get可能になる必要があるので。
◎
Packages are designed to hold public information and to be shared to people with whom the original publisher never has an interactive connection. In that situation, there’s no way to keep the contents confidential: even if they were encrypted, to make the data public, anyone would have to be able to get the decryption key.
</p>

<p>
~publicでない~packageされた~data用に，~confidentialityに~similarな何かを~maintainすることも
~possibleであるが、そうすると，~format~designを~complicateすることに加え，~userに虚偽の~security感覚を与えかねない。
◎
It’s possible to maintain something similar to confidentiality for non-public packaged data, but doing so complicates the format design and can give users a false sense of security.
</p>

<p>
［
~dataを~encryptする~mechanismは~omitする
］ことにした方が、［
~safeに~useできないときは、何かを~includeして~peopleに~teachしようと~tryする
］ことにするより，~privacy侵害は少なくなると~believeされている。
◎
We believe we’ll cause fewer privacy breaches if we omit any mechanism for encrypting data, than if we include something and try to teach people when it’s unsafe to use.
</p>

		</section>
		<section id="streamed-generation">
<h3 title="Generate packages on the fly">4.2. ~packageを~on-the-flyに~generateする</h3>

<p>
<a href="https://github.com/WICG/webpackage/issues/6#issuecomment-275746125">WICG/webpackage#6</a>
における~discussionを見よ。
◎
See discussion at WICG/webpackage#6.
</p>

		</section>
		<section id="non-origin-identity">
<h3 title="Non-origin identity">4.3. ~originでない~identity</h3>

<p>
~packageが`~web~origin$以外の何かから来ているものと，第一に~identifyできること。
◎
A package can be primarily identified as coming from something other than a Web Origin.
</p>

		</section>
		<section id="drm">
<h3 title="DRM">4.4. ~DRM</h3>

<p>
~downloadされた~contentへの~accessを~licensingに基づいて~blockするための~specialな~support。
~DRM~systemは~packageの~insideに~shipできることに注意
— ~package用の~formatが~specificalにそれを~supportしていなくとも。
◎
Special support for blocking access to downloaded content based on licensing. Note that DRM systems can be shipped inside the package even if the packaging format doesn’t specifically support them.
</p>

		</section>
		<section id="push-replacement">
<h3 title="Ergonomic replacement for HTTP/2 PUSH">4.5. HTTP/2 ~PUSHに対する~ergonomicな置換え</h3>

<p>
~HTTP/2 ~PUSH ( `RFC7540$r, 8.2 節）は，~developerにとって~configureし難く，~explicitな~package~formatの方が~easyかもしれない。
しかしながら，この~~分野の~expertは、~bundling~formatで~PUSHを~~回避するより，~PUSHを~directに~improveすることに注力するベキであると~believeしている。
◎
HTTP/2 PUSH ([RFC7540], section 8.2) is hard for developers to configure, and an explicit package format might be easier. However, experts in this area believe we should focus on improving PUSH directly instead of routing around it with a bundling format.
</p>

<p>
~page~loadを~speed-upするために~resourceを~bundleする~tryingには、長い~historyがある
— 2010 年からの
<a href="https://www.mnot.net/blog/2010/02/18/resource_packages">Resource Packages</a>,
2015年からの
<a href="https://w3ctag.github.io/packaging-on-the-web/">W3C TAG の~package法~proposal</a>
も含めて。
◎
Trying to bundle resources in order to speed up page loads has a long history, including Resource Packages from 2010 and the W3C TAG’s packaging proposal from 2015.
</p>

<p>
しかしながら， `HTTPWG^ は［
~PUSHされる~dataを~serverに~optimizeしてもらうような，たくさんの~work
］を行っており、~package法は［
それを やり直すか，~performanceの低下を~acceptする
］必要がある。
例えば：
◎
However, the HTTPWG is doing a lot of work to let servers optimize the PUSHed data, and packaging would either have to re-do that or accept lower performance. For example:
</p>


<ul>
	<li>
`I-D.vkrasnov-h2-compression-dictionaries$r
は、~individualな小さな~resourceを，~bundleに含めることに加え, ~compressすることも~allowするベキである。
◎
[I-D.vkrasnov-h2-compression-dictionaries] should allow individual small resources to be compressed as well as they would be in a bundle.
</li>
	<li>
`I-D.ietf-httpbis-cache-digest$r
は、どの~resourceは~PUSHする必要がないか，~serverに~tellする。
◎
[I-D.ietf-httpbis-cache-digest] tells the server which resources it doesn’t need to PUSH.
</li>
</ul>

<p>
~assoc~requirements：
◎
Associated requirements:
</p>

<ul>
	<li>
`~stream化された~loading$
⇒
~browserが，~package全体を~downloadしないと ~packageを成すある一片を~loadできない場合、~PUSHより確実に~slowになる。
◎
Streamed loading: If the whole package has to be downloaded before the browser can load a piece, this will definitely be slower than PUSH.
</li>
	<li>
`~transferを~compressする$
⇒
`I-D.vkrasnov-h2-compression-dictionaries$r
に追随すること。
◎
Compress transfers: Keep up with [I-D.vkrasnov-h2-compression-dictionaries].
</li>
	<li>
`~URLにより~indexされる$
⇒
~web上の~resourceは、~URLにより~addressされること。
◎
Indexed by URL: Resources on the web are addressed by URL.
</li>
	<li>
`~request~header$
⇒
<a href="http://httpwg.org/specs/rfc7540.html#PUSH_PROMISE">PUSH_PROMISE</a>
( `RFC7540$r, 6.6 節）
は、~request~headerを~includeすること。
◎
Request headers: PUSH_PROMISE ([RFC7540], section 6.6) includes request headers.
</li>
	<li>
`~response~header$
⇒
~PUSHされる各~resourceは、各自の~response~headerを~includeすること。
◎
Response headers: PUSHed resources include their response headers.
</li>
</ul>

		</section>
	</section>
	<section id="security-considerations">
<h2 title="Security Considerations">5. ~security上の~considerations</h2>

<p>
~security上の~considerationsは、上の~requirementを~satisfyするよう~designする~solutionに~dependすることになる。
~security上の~considerationsとして~possibleな集合の一つは、
`I-D.yasskin-dispatch-web-packaging$r
を見よ。
◎
The security considerations will depend on the solution designed to satisfy the above requirements. See [I-D.yasskin-dispatch-web-packaging] for one possible set of security considerations.
</p>


	</section>
	<section id="iana-considerations">
<h2 title="IANA Considerations">6. ~IANA~considerations</h2>

<p>
この~documentによる~IANAに対する~actionsは無い。
◎
This document has no actions for IANA.
</p>

	</section>
	<section id="acknowledgements">
<h2 title="Appendix A. Acknowledgements">謝辞</h2>

<p>
~subresource~bundlingの~use~caseと，~content~distributorについての~discussionを寄せられた `Yoav Weiss^en 氏に感謝する。
◎
Thanks to Yoav Weiss for the Subresource bundling use case and discussions about content distributors.
</p>

	</section>
</main></div>
